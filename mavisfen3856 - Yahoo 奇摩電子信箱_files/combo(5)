"use strict";YUI.add("tictac-base",function(a){function b(){var b=!0;try{/[\&|\?]dev=1/.test(window.location.href)&&(b=!1)}catch(c){a.Tictac.base.utils.log("tictac-base caught exception setting combo looking for dev=1:",c)}return b}function c(){return a.config.groups.tictacs.base}function d(){var b=a.config.groups.tictacs.base,c=b.split("/"),d=c[c.length-1],e=b.replace(d,"zz")+"/combo?";return e}function e(){var b=a.config.groups.tictacs.base,c=b.split("/"),d=c[c.length-1];return d}function f(b,d,e){var f=c(),g=a.config.groups.tictacs.modules,h=g[d||"tictac-base"].path.split("/",3).join("/");return"/"!==b.substring(0,1)&&(h+="/"),e?f+h+b:h+b}function g(a){var b,c,d,e,f=!(NeoConfig.isAMT||NeoConfig.isInternal),g=window.location.search.substring(1).split("&"),h={},i=/[\&|\?]dev=1/.test(window.location.href)?"debug":"min";for(d=0,e=g.length;e>d;d++)c=g[d].split("="),2===c.length&&(f?(c[0]===a+"raw"||c[0]===a+"debug"||c[0]===a+"perf")&&(h[c[0]]=c[1]):h[c[0]]=c[1]);return b=!!h[a+"perf"],i=b?"min":i,h[a+"raw"]?i="raw":h[a+"debug"]?i="debug":h[a+"min"]&&(i="min"),{enablePerf:b,filter:i,urlParams:h}}function h(f,g){g="undefined"==typeof g?b():g&&b();var h={combine:g,groups:{tictacs:{combine:g,comboBase:d(),base:c(),root:e(),modules:f}}};window.YUI_config=a.mix(window.YUI_config||{},h,!0,null,0,!0)}function i(f,g,h){h="undefined"==typeof h?b():h&&b();var i={combine:h,groups:{}};g.combine=h,g.comboBase=d(),g.base=c(),g.root=e(),i.groups[f]=g,window.YUI_config=a.mix(window.YUI_config||{},i,!0,null,0,!0)}function j(f,g,h){h="undefined"==typeof h?b():h&&b();var i={combine:h,groups:{}};g.combine=h,g.comboBase=d(),g.base=c(),g.root=e(),i.groups[f]=g,a.applyConfig(i)}function k(a){return m?a.replace(/\.css$/,"_bidi.css"):a}a.namespace("Tictac.base").loader=function(){};var l=window.NeoConfig&&window.NeoConfig.lang.substring(0,2),m="ar"===l||"he"===l||"ur"===l,n=g("base"),o=f("css/");i("tictacs",{filter:n.filter,modules:{"tictac-base-formatter":{path:f("js/formatter-min.js")},"tictac-base-utils":{path:f("js/utils-min.js"),requires:["tictac-base-formatter","json","tictac-base-strings"]},"tictac-base-ywa":{path:f("js/ywa-min.js")},"tictac-base-stats":{path:f("js/stats-min.js"),requires:["tictac-base-ywa","ymma-stats","json-stringify"]},"tictac-base-strings":{path:f("js/strings/lang_"+window.NeoConfig.lang+"-min.js")},"tictac-base-rollups":{path:f("js/tictac-base-rollups_"+window.NeoConfig.lang+"-min.js"),requires:["handlebars-base"]},"tictac-base-mailutils":{path:f("js/mailutils-min.js"),requires:["tictac-base-strings","json-parse"]},"tictac-base-viewutils":{path:f("js/viewutils-min.js"),requires:["tictac-base-rollups","tictac-base-strings","comms-bidi-textentry","comms-intl-bidi","base-view-css"]},"tictac-base-view":{path:f("js/view-min.js"),requires:["node","base-view-css","tictac-base-viewutils","backbone"]},"tictac-base-dialogview":{path:f("js/dialogview-min.js"),requires:["tictac-base-view","tictac-base-viewutils","tictac-base-rollups","tictac-base-strings"]},"tictac-base-model":{path:f("js/model-min.js"),requires:["backbone"]},"tictac-base-mailpreferences":{path:f("js/mailpreferences-min.js"),requires:["mail-persist-meta-data","json"]},"tictac-base-richselect":{path:f("js/richselect-min.js"),requires:["base","node","tictac-base-rollups","tictac-base-viewutils","tictac-richselect-css"]},"tictac-base-richmenu":{path:f("js/richmenu-min.js"),requires:["base","node","tictac-base-rollups","tictac-base-viewutils","tictac-richselect-css"]},"tictac-base-richtexteditor":{path:f("js/richtexteditor-min.js"),requires:["base","node","tictac-base-utils","tictac-base-rollups","tictac-base-richselect","escape","base-bidi","tictac-base-strings","tictac-base-viewutils","tictac-richtexteditor-css","tictac-base-mailutils"]},"tictac-base-batch-transport":{path:f("js/batchtransport-min.js"),requires:["tictac-base-utils"]},"tictac-base-mail-io":{path:f("js/mailio-min.js"),requires:["tictac-base-utils","io","common-net-sessionmgr","common-net-error"]},"tictac-base-assist-container":{path:f("js/assistcontainer-min.js"),requires:["node","event-custom"]}}}),i("base_css",{filter:n.filter,modules:{"base-view-css":{type:"css",path:k(o+"view.css")},"tictac-richselect-css":{type:"css",path:k(o+"richselect.css")},"tictac-richtexteditor-css":{type:"css",path:k(o+"rte.css")}}},!0),i("tictacs_lib",{modules:{"base-bidi":{path:f("lib/bidi.js")},underscore:{path:f("lib/underscore.js")},backbone:{path:f("lib/backbone.js"),requires:["underscore"]}}},!0),a.mix(a.Tictac.base,{isRTL:m,getCombo:b,getBase:c,getComboBase:d,getComboRoot:e,getAssetURL:f,getTictacVersion:g,defineModules:h,defineModuleGroup:i,addModuleGroup:j})},"1.0.0",{requires:["node","event"]});require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d=".ui-token,.search-menuitem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ui-token,.search-menuitem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ui-token{border:1px solid #1c89ff;border-radius:3px;box-shadow:0 1px 1px #cdcdcd;-moz-box-sizing:border-box;box-sizing:border-box;color:#1c89ff;cursor:pointer;display:inline-block;line-height:0;max-width:150px;padding:1px 10px;position:relative;zoom:1}.ui-token:not(.ui-token-selected):hover .icon-close,.ui-token:not(.ui-token-selected):focus .icon-close,.ui-token:not(.ui-token-selected):active .icon-close{opacity:1}.ui-token.ui-token-selected{background-color:#d5e8ff;border-color:#1567bf;box-shadow:none;color:#1567bf}.ui-token.ui-token-destroyable{padding-right:28px}.ui-token.ui-token-type-people{max-width:220px}.ui-token.icon{font-family:inherit;font-size:inherit;padding-left:28px}.ui-token.icon::before{font-family:mail;line-height:1;position:absolute;top:50%;margin-top:-6px;left:10px}.ui-token.icon-folder{max-width:150px}.ui-token>*{display:inline-block;line-height:20px;vertical-align:middle}.ui-token .icon-close{font-size:1em;line-height:1;opacity:.4;padding:3px;position:absolute;top:50%;margin-top:-9px;right:7px;-webkit-transition:opacity 200ms ease-in-out;transition:opacity 200ms ease-in-out}.ui-token .icon-close:hover,.ui-token .icon-close:focus,.ui-token .icon-close:active{opacity:1}.ui-token-thumbnail{background-position:center;background-repeat:no-repeat;background-size:cover;border-top-left-radius:2px;border-bottom-left-radius:2px;margin:0;padding:0;position:absolute;top:0;bottom:0;left:0;width:22px}.ui-token-thumbnail+*{padding-left:20px}.ui-token-text{-moz-box-sizing:border-box;box-sizing:border-box;display:block;max-width:100%;overflow:hidden;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}.ui-token,.search-menuitem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.typeahead-list>li{overflow:hidden}.typeahead-list>li:hover{background-color:#e5e5e5}.tokenized-typeahead{-moz-box-sizing:border-box;box-sizing:border-box;position:relative}.tokenized-typeahead .typeahead-list li:last-child .menu-active-item,.tokenized-typeahead .typeahead-list li:last-child{background-color:#fff}#Stencil .typeahead-input{margin:0;border:0;box-shadow:none;bottom:0;left:0;width:100%;padding:6px 10px;font-size:1.4rem;display:inline-block;position:relative;height:32px}#Stencil .typeahead-list{border-width:1px;border-width:0;border-style:solid;border-color:#e2e2e6;box-shadow:0 5px 10px rgba(0,0,0,.36);position:absolute;background-color:white;left:1px;right:1px;z-index:1;margin-top:0;top:100%}#Stencil .adv-search-container .typeahead-content-box{position:relative}#Stencil .lt .typeahead-input-container{border:0 none}#Stencil .typeahead-input-container{position:relative;overflow:hidden}#Stencil .lt .typeahead-list{border-width:1px 0}#Stencil .adv-search-container .typeahead-content-box{border:0;margin:4px 0}#Stencil .adv-search-container .typeahead-input{padding:6px;font-size:1.3rem;border:1px solid #CCC;border-radius:2px}#Stencil .typeahead-input-usertext{position:relative;margin:0;background-color:transparent}#Stencil .typeahead-input-usertext::-webkit-input-placeholder,#Stencil .typeahead-input-usertext::-moz-placeholder,#Stencil .typeahead-input-usertext:-moz-placeholder{color:silver}#Stencil .typeahead-input-usertext:-ms-input-placeholder{color:silver}#Stencil .typeahead-input-grayhint{position:absolute;top:0;left:0;margin:0;color:silver;-webkit-text-fill-color:silver;background-color:transparent}#Stencil .typeahead-input-grayhint[dir=rtl]{text-align:left!important}#Stencil .tokenized-typeahead-container{border:1px solid #7590f5;background-color:white}#Stencil .search-autocomplete .tokenized-typeahead-container{height:32px}.tokensSelected .typeahead-input{color:transparent;text-shadow:0 0 0 #000}.typeahead-token-list{display:inline;float:left;margin:4px 0 4px 4px!important;outline:0}.typeahead-token-list li{display:inline-block;vertical-align:middle}.typeahead-token-list li+li{margin-left:5px}.ui-token,.search-menuitem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.search-menu{background-color:rgba(255,255,255,.95);color:#000;box-shadow:0 5px 10px rgba(0,0,0,.36);-moz-box-sizing:border-box;box-sizing:border-box;padding:10px 0;max-height:100%;overflow:auto;overflow-x:hidden;position:relative}.search-menu-group{border-bottom:1px solid #d8d8d8;padding-bottom:10px}.search-menu-group:first-child{margin-top:-10px;padding-top:10px}.search-menu-group:last-child{border-bottom:0;padding-bottom:0}.search-menu-group+.search-menu-group,.search-menu-group+.search-menuitem{margin-top:10px}.search-menu-group.search-menu-togglable .search-menuitem{position:relative;padding-left:40px}.search-menu-group.search-menu-togglable .icon{position:absolute;top:4px}.search-menu-group.search-menu-togglable .icon.icon-checkmark{left:16px}.search-menu-group-title{color:#AAA;font-weight:700}.search-menu-group-overflow{max-height:200px;overflow:auto;overflow-x:hidden;position:relative}.search-menu-group-title,.search-menuitem{line-height:2.5rem;padding:0 20px}.search-menuitem{-moz-box-sizing:border-box;box-sizing:border-box;cursor:pointer;white-space:nowrap}.search-menuitem:focus,.search-menuitem:hover:not([data-disabled]){background-color:rgba(0,0,0,.1)}.search-menuitem:active{background-color:rgba(0,0,0,.15)}.search-menuitem.selected{font-weight:700}.search-menuitem.selected::before{content:\"\\e018\";font-family:mail;font-size:21px;font-weight:400;margin-top:-.55em;position:absolute;right:-webkit-calc(100% - 36px);right:calc(100% - 36px);top:50%}.search-menuitem[data-disabled]{color:#999;pointer-events:none}.search-menuitem kbd{float:right;font-family:inherit;margin-left:20px}[dir=rtl] .search-menuitem{text-align:right}.ui-token,.search-menuitem{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ui-onboarding{font-size:12px}.ui-onboarding.convstooltip .modal.tooltips-text{border:1px solid #0078ff;border-radius:3px}.ui-onboarding .modal::before,.ui-onboarding .modal::after{content:'';position:absolute;width:0;height:0;border:8px solid transparent}.ui-onboarding .modal.top-arrow::before{top:-16px;left:20px;border-bottom-color:#0078ff}.ui-onboarding .modal.top-arrow::after{top:-15px;left:20px;border-bottom-color:#fff}.ui-onboarding .modal.bottom-arrow::before{bottom:-16px;left:20px;border-top-color:#0078ff}.ui-onboarding .modal.bottom-arrow::after{bottom:-15px;left:20px;border-top-color:#fff}.ui-onboarding .modal.left-arrow::before{left:-16px;top:20px;border-right-color:#0078ff}.ui-onboarding .modal.left-arrow::after{left:-15px;top:20px;border-right-color:#fff}.ui-onboarding .modal.right-arrow::before{right:-16px;top:20px;border-left-color:#0078ff}.ui-onboarding .modal.right-arrow::after{right:-15px;top:20px;border-left-color:#fff}.ui-onboarding .hd{font-size:16px;font-weight:700;margin-bottom:7px}.ui-onboarding .bd{line-height:16px}.ui-onboarding .modal-bd{margin-top:13px}.ui-onboarding .modal.tooltips-text .modal-ft{padding:11px 20px 17px}.ui-onboarding .modal-ft .onboarding-btn{font-size:12px;line-height:12px;height:25px;padding:0;margin:0;min-width:50px;box-shadow:none}.parens::before{content:'('}.parens::after{content:')'}.label-text{color:#7f7f7f}.button-plain{background:none repeat scroll 0 0 transparent;border:none;margin:0;outline:none;padding:0}#Stencil .custom-select select{background-color:transparent!important}#Stencil .offscreen{position:absolute;left:-9999px}.negate-font-size{font-size:0}";a("./../../../jarvis/node_modules/cssify")(d),b.exports=d},{"./../../../jarvis/node_modules/cssify":12}],2:[function(a,b,c){var d={str_dateformat_AM_l10n:"上午",str_dateformat_PM_l10n:"下午",str_dayabbr_friday:"週五",str_dayabbr_monday:"週一",str_dayabbr_saturday:"週六",str_dayabbr_sunday:"週日",str_dayabbr_thursday:"週四",str_dayabbr_tuesday:"週二",str_dayabbr_wednesday:"週三",str_day_friday:"星期五",str_day_monday:"星期一",str_day_saturday:"星期六",str_day_sunday:"星期日",str_day_thursday:"星期四",str_day_tuesday:"星期二",str_day_wednesday:"星期三",str_folder_chats:"即時訊息",str_folder_drafts:"草稿匣",str_folder_inbox:"收件匣",str_folder_sent:"寄件備份匣",str_folder_trash:"垃圾筒",str_monthabbr_april:"四月",str_monthabbr_august:"八月",str_monthabbr_december:"十二月",str_monthabbr_february:"二月",str_monthabbr_january:"一月",str_monthabbr_july:"七月",str_monthabbr_june:"六月",str_monthabbr_march:"三月",str_monthabbr_may:"五月",str_monthabbr_november:"十一月",str_monthabbr_october:"十月",str_monthabbr_september:"九月",str_month_april:"四月",str_month_august:"八月",str_month_december:"十二月",str_month_february:"二月",str_month_january:"一月",str_month_july:"七月",str_month_june:"六月",str_month_march:"三月",str_month_may:"5 月",str_month_november:"十一月",str_month_october:"十月",str_month_september:"九月",last:null};b.exports=d},{}],3:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],4:[function(a,b,c){b.exports.leftJoiner=/[\u0620\u0626\u0628\u062A-\u062E\u0633-\u063F\u0641-\u0647\u0649\u064A\u066E\u066F\u0678-\u0687\u069A-\u06BF\u06C1\u06C2\u06CC\u06CE\u06D0\u06D1\u06FA-\u06FC\u06FF\u0712-\u0714\u071A-\u071D\u071F-\u0727\u0729\u072B\u072D\u072E\u074E-\u0758\u075C-\u076A\u076D-\u0770\u0772\u0775-\u0777\u077A-\u077F\u07CA-\u07EA\u0841-\u0845\u0847\u0848\u084A-\u084E\u0850-\u0853\u0855\u08A0-\u08A9\u08AF\u08B0\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA872]|\uD802[\uDEC0-\uDEC4\uDECD\uDED3-\uDEDC\uDEDE-\uDEE0\uDEEB-\uDEEE\uDF80\uDF82\uDF86-\uDF88\uDF8A\uDF8B\uDF8D\uDF90\uDFAD\uDFAE]/,b.exports.rightJoiner=/[\u0620\u0622-\u063F\u0641-\u064A\u066E\u066F\u0671-\u0673\u0675-\u06D3\u06D5\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u077F\u07CA-\u07EA\u0840-\u0855\u08A0-\u08AC\u08AE-\u08B2\u1807\u1820-\u1877\u1887-\u18A8\u18AA\uA840-\uA871]|\uD802[\uDEC0-\uDEC5\uDEC7\uDEC9\uDECA\uDECE-\uDED6\uDED8-\uDEE1\uDEE4\uDEEB-\uDEEF\uDF80-\uDF91\uDFA9-\uDFAE]/},{}],5:[function(a,b,c){b.exports="[\x00-@[-`{-©«-´¶-¹»-¿×÷ʹʺ˂-ˏ˒-˟˥-˭˯-ͯʹ͵;΄΅·϶҃-҉֊֍-֏֑-ׇֽֿׁׂׅׄ؀-؇؉؊،؎-ًؚ-٬ٰۖ-ۤۧ-ۭ۰-۹ܑܰ-݊ަ-ް߫-߳߶-߹ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣤ-ंऺ़ु-ै्॑-ॗॢॣঁ়ু-ৄ্ৢৣ৲৳৻ਁਂ਼ੁੂੇੈੋ-੍ੑੰੱੵઁં઼ુ-ૅેૈ્ૢૣ૱ଁ଼ିୁ-ୄ୍ୖୢୣஂீ்௳-௺ఀా-ీె-ైొ-్ౕౖౢౣ౸-౾ಁ಼ೌ್ೢೣഁു-ൄ്ൢൣ්ි-ුූัิ-ฺ฿็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷-༽ཱ-ཾྀ-྄྆྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္်ွှၘၙၞ-ၠၱ-ၴႂႅႆႍႝ፝-፟᎐-᎙᐀ ᚛᚜ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴឵ិ-ួំ៉-៓៛៝៰-៹᠀-᠎ᢩᤠ-ᤢᤧᤨᤲ᤹-᤻᥀᥄᥅᧞-᧿ᨘᨗᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀᮁᮢ-ᮥᮨᮩ᮫-ᮭ᯦ᯨᯩᯭᯯ-ᯱᰬ-ᰳᰶ᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸᳹᷀-᷵᷼-᷿᾽᾿-῁῍-῏῝-῟῭-`´῾ -‍‐-\u2029 -⁤⁨⁪-⁰⁴-⁾₀-₎₠-₽⃐-⃰℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮℺℻⅀-⅄⅊-⅍⅐-⅟↉←-⌵⍻-⎔⎖-⏺␀-␦⑀-⑊①-⒛⓪-⚫⚭-⟿⤀-⭳⭶-⮕⮘-⮹⮽-⯈⯊-⯑⳥-⳪⳯-⳱⳹-⳿⵿ⷠ-⹂⺀-⺙⺛-⻳⼀-⿕⿰-⿻　-〄〈-〠〪-〭〰〶〷〽-〿゙-゜゠・㇀-㇣㈝㈞㉐-㉟㉼-㉾㊱-㊿㋌-㋏㍷-㍺㏞㏟㏿䷀-䷿꒐-꓆꘍-꘏꙯-ꙿꚟ꛰꛱꜀-꜡ꞈꠂ꠆ꠋꠥꠦ꠨-꠫꠸꠹꡴-꡷꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱꨲꨵꨶꩃꩌꩼꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫬꫭ꫶ꯥꯨ꯭ﬞ﬩﴾﴿﷽︀-︙︠-︭︰-﹒﹔-﹦﹨-﹫\ufeff！-＠［-｀｛-･￠-￦￨-￮￹-�]|�[��-��-����-��-�]|�[��-����-��-�����-�]|�[�-�]|[��][��-��-��-��-����-��-��-�����-��-������-�����-��-�]|�[�-�������-������-�������-��]|�[�-��-�]|�[�-�]|�[���-�]|�[�-��-��-��-��-��-�]|�[������-�]|�[�-�]|�[��]|�[�-��-��-��-��-��-��-����-��-��-��-�]|�[�-��-��-��-��-��-��-��-��-��-�]|�[�-��-��-��-��-�]"},{}],6:[function(a,b,c){b.exports="[־׀׃׆א-תװ-״؈؋؍؛؜؞-ي٭-ٯٱ-ەۥۦۮۯۺ-܍܏ܐܒ-ܯݍ-ޥޱ߀-ߪߴߵߺࠀ-ࠕࠚࠤࠨ࠰-࠾ࡀ-ࡘ࡞ࢠ-ࢲ‏‫‮⁧יִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-﯁ﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-﷼ﹰ-ﹴﹶ-ﻼ]|�[�-���-�����-��-��-��-��-���-�����-��-��-��-��-��-��-��-��-��-��-��-��-��-�]|�[�-�]|�[�-��-�]|�[�-��-������-��-��������-�������������-��-��-��-���-��-��-��-��-�]"},{}],7:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"OnboardingText",propTypes:{},render:function(){var a=this.props,b={width:a.width+"px"},c={modal:!0,"tooltips-text":!0};return a.dir&&(c[a.dir+"-arrow"]=!0),e.createElement("div",{className:"convstooltip yui3-tooltips ui-onboarding",id:a.id},e.createElement("div",{className:e.addons.classSet(c),style:b},e.createElement("div",{className:"modal-bd"},e.createElement("div",{className:"hd"},a.title),e.createElement("div",{className:"bd"},a.body)),e.createElement("div",{className:"modal-ft"},e.createElement("button",{className:"btn left right default onboarding-btn","data-action":"ok"},a.buttonText))))}}),b.exports=d},{"react/addons":"react/addons"}],8:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash");d=e.createClass({displayName:"Input",propTypes:{},shouldComponentUpdate:function(a){return!f.isEqual(this.props,a)},getDefaultProps:function(){return{className:"",value:"",onCompositionStart:f.noop,onCompositionEnd:f.noop}},componentDidMount:function(){var a=this,b=a.getDOMNode();b.addEventListener("compositionstart",a.handleCompositionStart),b.addEventListener("compositionend",a.handleCompositionEnd)},componentWillUnmount:function(){var a=this,b=a.getDOMNode();b.removeEventListener("compositionstart",a.handleCompositionStart),b.removeEventListener("compositionend",a.handleCompositionEnd)},componentDidUpdate:function(){var a=this;a.props.dir||a.getDOMNode().removeAttribute("dir")},render:function(){var a=this.props;return e.createElement("input",{className:"typeahead-input "+a.className,spellCheck:"false",autoComplete:"false",placeholder:a.placeholder,disabled:a.disabled?"disabled":!1,value:a.value,onFocus:a.onFocus,onClick:a.onClick,onSelect:a.onSelect,onChange:this.handleChange,onKeyUp:a.onKeyUp,onKeyDown:a.onKeyDown,onKeyPress:a.onKeyPress,dir:a.dir})},handleChange:function(a){var b=this,c=b.handleChange.lastValue||"",d=a.target.value||"";d!==c&&(b.handleChange.lastValue=d,b.props.onChange(a))},handleCompositionStart:function(){this.props.onCompositionStart()},handleCompositionEnd:function(){this.props.onCompositionEnd()},setSelectionRange:function(a,b){this.getDOMNode().setSelectionRange(a,b)},getSelectionEnd:function(){return this.getDOMNode().selectionEnd},getSelectionStart:function(){return this.getDOMNode().selectionStart},focus:function(){this.getDOMNode().focus()},blur:function(){this.getDOMNode().blur()}}),b.exports=d},{lodash:"lodash","react/addons":"react/addons"}],9:[function(a,b,c){"use strict";b.exports=function(){function b(a){a=a||{},this.dispatcher=new c({}),this.actionContext=this.getActionContext(),this.componentContext=this.getComponentContext()}var c=a("dispatchr")();return b.prototype.getComponentContext=function(){var a=this;return{executeAction:function(b,c){b(a.actionContext,c,function(a){})},getStore:a.dispatcher.getStore.bind(a.dispatcher)}},b.prototype.getActionContext=function(){var a=this;return{dispatch:a.dispatcher.dispatch.bind(a.dispatcher),executeAction:function(b,c,d){b(a.actionContext,c,d)},getStore:a.dispatcher.getStore.bind(a.dispatcher)}},b.prototype.dehydrate=function(){return{dispatcher:this.dispatcher.dehydrate()}},b.prototype.rehydrate=function(a){this.dispatcher.rehydrate(a.dispatcher||{})},{registerStore:c.registerStore.bind(c),contextInst:new b}}},{dispatchr:"dispatchr"}],10:[function(a,b,c){"use strict";YUI.add("tictac-lib",function(b){var c=yui.common.Utils.features,d=a("Utils"),e=a("AppDispatcher"),f=a("NotificationStore"),g=a("OnboardingStore"),h=a("UserSettingsStore"),i=[];a("../../artifacts/css/main.css"),[f,g,h].forEach(e.registerStore),c.enabled("react")||i.push(d.loadJS(b.config.groups.tictacs.base+b.Tictac.base.getAssetURL("/js/lib-min.js","tictac-lib"))),Promise.all(i).then(function(){var b=a("lodash");b.templateSettings.escape=/{{([\s\S]+?)}}/g,b.templateSettings.interpolate=/{{{([\s\S]+?)}}}/g,window.React=window.React||a("react/addons"),window.ReactContext=window.ReactContext||a("./context.js")()})},"1.0.0",{requires:["tictac-base","mail-common-utils-features"]})},{"../../artifacts/css/main.css":1,"./context.js":9,AppDispatcher:"AppDispatcher",NotificationStore:"NotificationStore",OnboardingStore:"OnboardingStore",UserSettingsStore:"UserSettingsStore",Utils:"Utils",lodash:"lodash","react/addons":"react/addons"}],11:[function(a,b,c){"use strict";var d={findJavaScriptIndexEndForUTF8ByteCount:function(a,b,c){var d,e,f=a;for(d=c;d<b.length&&f>0;d+=1)e=b.charCodeAt(d),f-=128>e?1:2048>e?2:3;return 0===f?d:-1},getNextResponsePartInfo:function(a,b){for(var c,d,e;a.indexOf("\r\n",b)===b;)b+=2;return c=a.indexOf("\r\n",b),d=a.substring(b,c),e=parseInt(d,16),{startIndex:c,endIndex:this.findJavaScriptIndexEndForUTF8ByteCount(e,a,c+2)}},parse:function(a,b){for(var c,d=b||0,e=[];d<a.length-2&&(c=this.getNextResponsePartInfo(a,d),-1!==c.endIndex);)e.push(c),d=c.endIndex;return{lastStartIndex:d,data:e.map(function(b){return a.substring(b.startIndex,b.endIndex)}).map(function(a){return JSON.parse(a)})}}};b.exports=d},{}],12:[function(a,b,c){b.exports=function(a,b){var c=b||document;if(c.createStyleSheet){var d=c.createStyleSheet();return d.cssText=a,d.ownerNode}var e=c.getElementsByTagName("head")[0],f=c.createElement("style");return f.type="text/css",f.styleSheet?f.styleSheet.cssText=a:f.appendChild(c.createTextNode(a)),e.appendChild(f),f},b.exports.byUrl=function(a){if(document.createStyleSheet)return document.createStyleSheet(a).ownerNode;var b=document.getElementsByTagName("head")[0],c=document.createElement("link");return c.rel="stylesheet",c.href=a,b.appendChild(c),c}},{}],AppDispatcher:[function(a,b,c){"use strict";var d,e,f,g,h=a("dispatchr")(),i=a("events").EventEmitter;d=new h({}),e={dispatch:function(){d.dispatch.apply(d,arguments)}},f={executeAction:function(){var a=[].slice.call(arguments,1),b=arguments[0];b.apply(null,[e].concat(a))},getStore:function(a){return d.getStore(a)},events:new i},g=function(a){h.registerStore.apply(null,arguments),window._stores=window._stores||{},window._stores[a.storeName]=d.getStore(a)},b.exports={registerStore:h.registerStore,context:f}},{dispatchr:"dispatchr",events:"events"}],AriaStatus:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"AriaStatus",propTypes:{},getDefaultProps:function(){return{ariaLive:"polite"}},componentDidMount:function(){var a=this;a.setText(a.props.message)},componentDidUpdate:function(){var a=this;a.setText(a.props.message)},render:function(){return e.createElement("span",{className:"offscreen",ref:"notificationNode",role:"status","aria-live":this.props.ariaLive})},setText:function(a){this.refs.notificationNode.getDOMNode().textContent=a}}),b.exports=d},{"react/addons":"react/addons"}],BidiSafeFilepath:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("StringUtils");d=e.createClass({displayName:"BidiSafeFilepath",propTypes:{},mixins:[e.addons.PureRenderMixin],getDefaultProps:function(){return{tagName:"div"}},render:function(){var a,b=this.props.filepath;return"string"==typeof b?(a=f.getFileName(b),e.createElement(this.props.tagName,{className:this.props.className,title:this.props.title,dir:f.getTextDirection(a)},a,this.renderExtension(f.getFileExtension(b)))):null},renderExtension:function(a){return a?e.createElement("span",{ref:"extension",dir:"ltr"},a):void 0}}),b.exports=d},{StringUtils:"StringUtils","react/addons":"react/addons"}],BidiString:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("StringUtils");d=e.createClass({displayName:"BidiString",propTypes:{},mixins:[e.addons.PureRenderMixin],getDefaultProps:function(){return{tagName:"span"}},render:function(){var a=this.props.str;return"string"==typeof a?e.createElement(this.props.tagName,f.merge({dir:g.getTextDirection(a),children:a},f.omit(this.props,["tagName","dir"]))):null}}),b.exports=d},{StringUtils:"StringUtils",lodash:"lodash","react/addons":"react/addons"}],BodyDropdown:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("Dropdown");d=e.createClass({displayName:"BodyDropdown",propTypes:{},getDefaultProps:function(){return{dropdownXOrigin:"left",dropdownYOrigin:"top"}},componentWillMount:function(){var a=this;a.container=document.createElement("div"),window.addEventListener("resize",a.props.closeDropdown,!0)},componentDidMount:function(){var a=this,b=a.props,c=a.container;a.dropdown=e.renderComponent(e.createElement(f,{className:b.className,anchorNode:b.anchorNode,parentNode:b.parentNode,closeDropdown:b.closeDropdown,onClick:b.onClick},b.children),c),document.body.appendChild(c),a.positionDropdown()},componentWillUnmount:function(){var a=this,b=a.container;e.unmountComponentAtNode(b),document.body.removeChild(b),window.removeEventListener("resize",a.props.closeDropdown,!0)},componentDidUpdate:function(){var a=this;a.dropdown.setProps({parentNode:a.props.parentNode,closeDropdown:a.props.closeDropdown,children:a.props.children})},render:function(){return e.createElement("div",null)},getRTLAwareDirection:function(a){return NeoConfig.isRTL?"left"===a?"right":"left":a},positionDropdown:function(){var a=this,b=a.container,c=a.props.coordinates,d=a.props.anchorNode;if(!c&&!d)throw new Error("Must provide coordinates or an anchorNode");c?a.positionDropdownToCoordinates(c):d&&a.positionDropdownToNode(d),b.clientHeight>=window.innerHeight&&(b.style.top="20px",b.style.bottom="20px"),b.clientWidth>=window.innerWidth&&(b.style.left="20px",b.style.right="20px")},positionDropdownToNode:function(a){var b=this,c=a.getBoundingClientRect(),d=b.container.style,e=b.getRTLAwareDirection(b.props.dropdownXOrigin);d.position="fixed",d.zIndex="100000","right"===e?d.right=Math.ceil(window.innerWidth-c[e])+"px":d.left=c[e]+"px","bottom"===b.props.dropdownYOrigin?d.top=c[b.props.dropdownYOrigin]-a.offsetHeight+"px":d.top=c[b.props.dropdownYOrigin]+a.offsetHeight+"px"},positionDropdownToCoordinates:function(a){var b,c,d=this,e=d.container,f=e.style;f.position="fixed",f.zIndex="100000",a.x=a.x>0?a.x:0,a.y=a.y>0?a.y:0,b=e.clientWidth+a.x,c=e.clientHeight+a.y,b>window.innerWidth&&(a.x=a.x-(b-window.innerWidth)),c>window.innerHeight&&(a.y=a.y-(c-window.innerHeight)),f.left=a.x+"px",f.top=a.y+"px"}}),b.exports=d},{Dropdown:"Dropdown","react/addons":"react/addons"}],BootcampAPIUtilsV1:[function(a,b,c){"use strict";function d(a){var b,c=g.findIndex(n,function(b){return b.queryText===a});if(-1!==c){if(b=n[c],Date.now()-b.timestamp<m)return b.data;n.splice(c,1)}}function e(a,b){var c={timestamp:Date.now(),data:b,queryText:a};n.push(c),n.length>l&&n.shift()}var f,g=a("lodash"),h=a("IO"),i=a("EnhancedPromise"),j=a("StatService"),k=a("./BootcampResponseParser"),l=500,m=3e5,n=[];f=function(){var a,b="https://prod1.psearch.yahoo.com",c="/v1/suggestions",f=(new Date).getTimezoneOffset();return{getSuggestions:function(g){var l,m,n,o,p=g.keyword.trim(),q=Date.now();return g.suggestion||!p.length?n=i.resolve([]):(o=d(p),o?n=i.resolve(o):(l=["query="+encodeURIComponent(p),"timezoneOffset="+f],m=b+c+"?"+l.join("&"),j.featureInvoke("search_sugg_fetch_bootcamp"),n=h.post(m).then(function(b){var c,d=b.text;if(d){if(j.featureLatency("bootcamp_fetch",Date.now()-q),j.featureComplete("search_sugg_fetch_bootcamp"),c=k.parse(d).data,e(p,c),n!==a)throw b.status=800,b;return c}throw j.featureLatency("bootcamp_fetch_err",Date.now()-q),j.featureFail("search_sugg_fetch_bootcamp"),b},function(a){throw 800===a.status?j.featureComplete("search_sugg_fetch_bootcamp"):(j.featureLatency("bootcamp_fetch_err",Date.now()-q),j.featureFail("search_sugg_fetch_bootcamp")),a}))),a=n,n},connectToBootcamp:function(){var a=b+"/connect";h.get(a)}}}(),b.exports=f},{"./BootcampResponseParser":11,EnhancedPromise:"EnhancedPromise",IO:"IO",StatService:"StatService",lodash:"lodash"}],BootcampAPIUtils:[function(a,b,c){"use strict";function d(a){return a.contentBlock&&a.contentBlock.content&&Array.isArray(a.contentBlock.content.items)}function e(a){return{items:a.contentBlock.content.items,url:a.contentBlock.url,offset:a.contentBlock.content.offset,totalHits:a.contentBlock.content.totalHits}}function f(a){return n||(n=q.context.getStore(x)),a.forEach(function(a){var b;"undefined"!=typeof a.folderNumber||"undefined"!=typeof a.folderId?(b=n.findByIndex(a.folderNumber),a.fid=s.getValue(b,["folderInfo","fid"],a.folderId)):"undefined"!=typeof a.mid&&(a.fid="Inbox"),"MESSAGE"===a.itemType&&(a.mid=a.mid||a.id.slice(2),a.id=a.mid),a.creationDate>21459168e5&&(a.creationDate/=1e3)}),a}function g(a,b,c){var d=p.find(a,function(a){return s.getValue(a,"contentBlock.blockType")===b&&s.getValue(a,"contentBlock.filter")===c});return d&&f(s.getValue(d,"contentBlock.content.items")),d}function h(a){switch(a){case"to":return"TO";case"all":return"ALL";case"from":return"FROM";case"keyword":return"WITH_KEYWORD"}}function i(a){return a.map(function(a){var b=a.payload,c={};return b&&(c.smtps=b.endpoints.filter(function(a){return 0===a.ep.indexOf("smtp:")}).map(function(a){return a.display=a.display||a.ep.substring(5),a}),c.phones=b.endpoints.filter(function(a){return 0===a.ep.indexOf("tel:")}),c.social=b.endpoints.filter(function(a){/(facebook|flickr|linkedin|twitter|tumblr):/.test(a.ep)}).map(function(a){var b=a.ep.split(":");return a.id=b[1],a.network=b[0],a}),p.assign(a,b.role,{prettyEndpoints:c})),a})}function j(a,b){var c,j,k,l,m={type:a};if(b&&b.length&&b[0].status&&(b=b.filter(function(a){return 200===a.status}).map(function(a){return a.response})),c=g(b,"MAIN",null),j=g(b,"HERO",null),k=g(b,"PEOPLE","RELATED"),p.chain(["messages","photos","documents"]).map(function(a){return["to","from","keyword","all"].map(function(c){return{section:a,subsection:c,result:g(b,a.toUpperCase(),h(c))}})}).flatten().filter(function(a){return a.result}).forEach(function(a){var b=a.section,c=a.subsection,d=a.result;m[b]=m[b]||{},m[b][c]=e(d),"messages"!==b||m.spellCorrection||(m.spellCorrection=s.getValue(d,"contentBlock.content.suggestedWords",null))}).value(),c&&d(c))if(l=c.contentBlock.content.contentType,m.primaryResultType=l,"CONTACTS"===l)m.contacts=i(c.contentBlock.content.items);else switch(l){case"MESSAGES":m.messages=m.messages||{},m.messages.keyword=e(c),f(m.messages.keyword.items);break;case"PHOTOS":m.photos=m.photos||{},m.photos.keyword=e(c);break;case"DOCS":case"DOCUMENTS":m.primaryResultType="DOCUMENTS",m.documents=m.documents||{},m.documents.keyword=e(c)}return j&&d(j)&&(m.didYouMeanContacts=j.contentBlock.content.items.filter(function(a){return"PERSON"===a.itemType})),k&&d(k)&&(m.relatedContacts=k.contentBlock.content.items),m}function k(a,b){var c=0;return r.get(a).then(function(a){var c=w.parse(a.text,0);return t.featureComplete("UI_SEARCH_COMPLETE_SUCCESS"),t.stat({name:"search",tags:{result:"success"}}),j(b,c.data)},function(a){var b="failure";800===a.status&&(b="abort"),t.stat({name:"search",tags:{result:b}})},function(a){var d=w.parse(a.text,c);return c<d.lastStartIndex?(c=d.lastStartIndex,j(b,d.data)):void 0})}function l(a){var b,c=p.findIndex(E,function(b){return b.queryText===a});if(-1!==c){if(b=E[c],Date.now()-b.timestamp<D)return b.data;E.splice(c,1)}}function m(a,b){var c={timestamp:Date.now(),data:b,queryText:a};E.push(c),E.length>C&&E.shift()}var n,o,p=a("lodash"),q=a("AppDispatcher"),r=a("IO"),s=a("ObjectUtils"),t=a("StatService"),u=a("UserSettingsConstants"),v=a("EnhancedPromise"),w=a("./BootcampResponseParser"),x=a("FolderStore"),y="https://stag1.psearch.yahoo.com",z="https://prod1.psearch.yahoo.com",A="/v2/",B=/[\?&]bootcamp=([^&]+)/,C=500,D=3e5,E=[],F={messages:{to:{items:[],url:""},all:{items:[],url:""},from:{items:[],url:""},keyword:{items:[],url:""}},photos:{to:{items:[],url:""},all:{items:[],url:""},from:{items:[],url:""},keyword:{items:[],url:""}},documents:{to:{items:[],url:""},all:{items:[],url:""},from:{items:[],url:""},keyword:{items:[],url:""}}},G=z;"1"===NeoConfig.isInternal&&(o=B.exec(window.location.search),o?G=0===o[1].indexOf("https://")?o[1]:"https://"+o[1]:-1!==window.location.search.indexOf("dev=1")&&(G=y)),c.getItems=function(){var a,b=G+A+"items?";return function(c){var d=b+c;return a&&a.cancel(),a=r.get(d).then(function(a){return JSON.parse(a.text)})}}(),c.getBatch=function(){var a,b=G+A+"batch?",c={headers:{"Content-Type":"text/plain; charset=utf-8"}};return function(d){return a&&a.cancel(),a=r.post(b,d,c).then(function(a){return w.parse(a.text,0)})}}(),c.getCollapsedSRP=function(){var a,b=G+A+"srp?";return function(c){var d=b+c+"&expand=false";return a&&a.cancel(),a=r.get(d).then(function(a){return w.parse(a.text,0)})}}(),c.getPeopleSRPByEmail=function(){var a,b=G+A+"srp?";return function(c,d){var e,f;return a&&a.cancel(),c?(e=["contentId=smtp:"+encodeURIComponent(c),"expand=true","includechats=true"],d&&e.push("query="+encodeURIComponent(d)),f=b+e.join("&"),a=k(f,"people")):v.resolve(F)}}(),c.getSearchResults=function(){var a,b=(new Date).getTimezoneOffset(),c=G+A+"srp?";return function(d,e,f){var g,h,i,j,l=[],m=d.toQueryStringWithoutSuggestion(),n=d.suggestion,o=e.sortType,p=e.sortOrder;switch(a&&a.cancel(),d.source&&(t.stat({name:"search_source",tags:{type:d.source}}),t.logRapid("mt:click",{action:d.source,append:{mSrchId:f,mYid:NeoConfig.loginId,mSrchQry:d.toHumanReadableString()}})),o){case u.MSG_SORT_TYPE_DATE:j="down"===(p||u.MSG_SORT_ORDER_DOWN)?"desc":"asc";break;case u.MSG_SORT_TYPE_ATTACHMENT:j="attachment";break;case u.MSG_SORT_TYPE_RELEVANCE:j="relevance"}return n&&(h=n.serviceId,l.push("contentId="+encodeURIComponent("x:"+h)),i="people"),m&&(l.push("query="+encodeURIComponent(m)),i=i||"keyword"),n||m?(l.push("timezoneOffset="+b),l.push("expand=true"),l.push("order="+j),l.push("limit=50"),l.push("includechats=true"),g=c+l.join("&"),a=k(g,i)):v.resolve(F)}}(),c.getMoreSearchResults=function(){var a;return function(b,c){return a&&a.cancel(),b+="&offset="+c+"&includechats=true",a=r.get(b).then(function(a){var b=JSON.parse(a.text);return{items:f(b.items),offset:b.offset}})}}(),c.getSuggestions=function(){var a=(new Date).getTimezoneOffset(),b=G+A+"suggestions?";return function(c){var d,e,f,g,h=Date.now(),i=c.keyword.trim();return c.suggestion||!i.length?g=v.resolve([]):(f=l(i),f?g=v.resolve(f):(e=["query="+encodeURIComponent(i),"timezoneOffset="+a,"ymreqid="+yui.common.net.Session.genReqID(),"wssid="+NeoConfig.wssid],d=b+e.join("&"),t.featureInvoke("search_sugg_fetch_bootcamp"),g=r.post(d).then(function(a){var b;return t.featureLatency("bootcamp_fetch",Date.now()-h),t.featureComplete("search_sugg_fetch_bootcamp"),b=w.parse(a.text).data,m(i,b),b},function(a){throw 800!==a.status&&(t.featureLatency("bootcamp_fetch_err",Date.now()-h),t.featureFail("search_sugg_fetch_bootcamp")),a}))),g}}(),c.connectToBootcamp=function(){var a=G+"/connect";return function(){r.get(a)}}()},{"./BootcampResponseParser":11,AppDispatcher:"AppDispatcher",EnhancedPromise:"EnhancedPromise",FolderStore:"FolderStore",IO:"IO",ObjectUtils:"ObjectUtils",StatService:"StatService",UserSettingsConstants:"UserSettingsConstants",lodash:"lodash"}],Checkbox:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"Checkbox",propTypes:{},mixins:[e.addons.PureRenderMixin],getDefaultProps:function(){return{disabled:!1,isMixed:!1,isSelected:!1,onChange:function(){},title:""}},render:function(){var a=e.addons.classSet({icon:!0,"ui-checkbox":!0,"icon-checkbox-mixed":this.props.isMixed,"icon-checkbox-selected":this.props.isSelected,"icon-checkbox-empty":!(this.props.isMixed||this.props.isSelected)});return e.createElement("span",{tabIndex:"0",role:"checkbox",className:a,onChange:this.props.onChange,onClick:this.handleSelectionChange,onKeyDown:this.handleSelectionChange,title:this.props.title,"aria-checked":this.getAriaCheckedStatus(),"aria-label":this.props.title,disabled:this.props.disabled})},getAriaCheckedStatus:function(){return this.props.isSelected?"true":this.props.isMixed?"mixed":"false"},handleSelectionChange:function(a){"click"!==a.type&&" "!==a.key||this.props.disabled||(a.preventDefault(),this.props.onChange(a));

}}),b.exports=d},{"react/addons":"react/addons"}],Context:[function(a,b,c){"use strict";var d=a("react/addons");b.exports={contextTypes:{executeAction:d.PropTypes.func,getStore:d.PropTypes.func,events:d.PropTypes.object},childContextTypes:{executeAction:d.PropTypes.func,getStore:d.PropTypes.func,events:d.PropTypes.object},getContext:function(){return this.context.getStore&&this.context.executeAction&&this.context.events?this.context:this.props.context},getChildContext:function(){var a=this.getContext();return{executeAction:a.executeAction,getStore:a.getStore,events:a.events}},getStore:function(){var a=this.getContext();return a.getStore.apply(a,arguments)},executeAction:function(){var a=this.getContext();return a.executeAction.apply(a,arguments)}}},{"react/addons":"react/addons"}],CopyFunctionWrapper:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash");d=e.createClass({displayName:"CopyFunctionWrapper",propTypes:{},getDefaultProps:function(){return{onClick:f.noop}},getInitialState:function(){return{classes:"",disabled:!1}},componentDidMount:function(){this.state.disabled||this._setUpClipBoard()},componentWillUpdate:function(){this.state.disabled&&this._cleanClipBoard()},componentWillUnmount:function(){this._cleanClipBoard()},render:function(){return e.createElement("div",{className:"copy-func-wrapper"},this.props.children)},_setUpClipBoard:function(){var a=this;yui.use("swfdetect","comms-ui-clipboard-plugin",function(b){return b.SWFDetect.isFlashVersionAtLeast(10,1,0)?void(a.clipboardTimeoutHandle=setTimeout(function(){var c,d=b.comms.ui.ClipBoard;a.isMounted()&&(c=yui.one(a.getDOMNode()),c.plug(d,{moviepath:NeoConfig.copySwfMoviePath}).on("clipboard:load",function(){this.clipboard._movie.setAttribute("data-preventClose","true"),this.on("mouseenter",function(){this.setAttribute("copy",a.props.copyData)},this),this.clipboard.setEvent("mouseOver",function(){a.props.setActive(!0)}),this.clipboard.setEvent("mouseOut",function(){a.props.setActive(!1)}),a.clipboard=this.clipboard,this.clipboard.setEvent("click",function(){c.simulate("click")},!0)}))},0)):void a.props.setDisabled(!0)})},_cleanClipBoard:function(){var a=this;a.clipboardTimeoutHandle&&clearTimeout(a.clipboardTimeoutHandle),a.clipboard&&a.clipboard.hide()}}),b.exports=d},{lodash:"lodash","react/addons":"react/addons"}],DOMUtils:[function(a,b,c){"use strict";var d,e=a("lodash");d={cloneEvent:function(a){return e.clone(a,!0)},halt:function(a){a.stopPropagation(),a.preventDefault()},isDescendant:function(a,b){for(;b&&b!==a;)b=b.parentNode;return!!b}},b.exports=d},{lodash:"lodash"}],DateTimeFormatter:[function(a,b,c){"use strict";var d,e=a("lodash"),f=a("../../../../artifacts/lang");d={FULL:strings.str_cfg_dateformat_full_human_readable,COMPACT:strings.str_cfg_dateformat_compact,INFORMAL:strings.str_cfg_dateformat_informal,TIME:strings.str_cfg_dateformat_simple_time,transform:function(a,b){var c=this;return e.template(b,null,{interpolate:/{([\s\S]+?)}/g})({F:c.getFullMonth(a.getMonth()+1),m:c.toDoubleDigit(a.getMonth()+1),M:c.getAbbrMonth(a.getMonth()+1),n:a.getMonth()+1,d:c.toDoubleDigit(a.getDate()),D:c.getAbbrDay(a.getDay()+1),j:a.getDate(),l:c.getFullDay(a.getDay()+1),y:c.toDoubleDigit(a.getYear()%100),Y:a.getFullYear(),g:c.toInformalHours(a.getHours()),G:a.getHours(),i:c.toDoubleDigit(a.getMinutes()),s:c.toDoubleDigit(a.getSeconds()),A:c.getAMPM(a)})},getAMPM:function(a){return a.getHours()>11?f.str_dateformat_PM_l10n:f.str_dateformat_AM_l10n},getFullMonth:function(a){var b={1:f.str_month_january,2:f.str_month_february,3:f.str_month_march,4:f.str_month_april,5:f.str_month_may,6:f.str_month_june,7:f.str_month_july,8:f.str_month_august,9:f.str_month_september,10:f.str_month_october,11:f.str_month_november,12:f.str_month_december};return b[a]},getAbbrMonth:function(a){var b={1:f.str_monthabbr_january,2:f.str_monthabbr_february,3:f.str_monthabbr_march,4:f.str_monthabbr_april,5:f.str_monthabbr_may,6:f.str_monthabbr_june,7:f.str_monthabbr_july,8:f.str_monthabbr_august,9:f.str_monthabbr_september,10:f.str_monthabbr_october,11:f.str_monthabbr_november,12:f.str_monthabbr_december};return b[a]},getFullDay:function(a){var b={1:f.str_day_sunday,2:f.str_day_monday,3:f.str_day_tuesday,4:f.str_day_wednesday,5:f.str_day_thursday,6:f.str_day_friday,7:f.str_day_saturday};return b[a]},getAbbrDay:function(a){var b={1:f.str_dayabbr_sunday,2:f.str_dayabbr_monday,3:f.str_dayabbr_tuesday,4:f.str_dayabbr_wednesday,5:f.str_dayabbr_thursday,6:f.str_dayabbr_friday,7:f.str_dayabbr_saturday};return b[a]},toInformalHours:function(a){return a>12?a-12:a||12},toDoubleDigit:function(a){return String(a>9?a:"0"+a)}},b.exports=d},{"../../../../artifacts/lang":2,lodash:"lodash"}],Dropdown:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("DOMUtils");d=e.createClass({displayName:"Dropdown",propTypes:{},componentDidMount:function(){var a=this;window.addEventListener("mousedown",a.handleCloseEvent,!0),window.addEventListener("focus",a.handleCloseEvent,!0),window.addEventListener("keydown",a.handleKeyDown,!0)},componentWillUnmount:function(){var a=this;window.removeEventListener("mousedown",a.handleCloseEvent,!0),window.removeEventListener("focus",a.handleCloseEvent,!0),window.removeEventListener("keydown",a.handleKeyDown,!0)},shouldComponentUpdate:function(a){return!f.isEqual(this.props,a)},render:function(){var a=this,b=a.props;return e.createElement("div",{className:b.className,onClick:b.onClick},b.children)},shouldClose:function(a){var b=this,c=b.props,d=a;if(a&&a.getAttribute&&a.getAttribute("data-preventClose"))return!1;for(;d.parentNode;){if(d.classList.contains("ui-onboarding"))return!1;d=d.parentNode}return[c.parentNode,c.anchorNode,b.getDOMNode()].filter(f.identity).every(function(b){return!g.isDescendant(b,a)})},handleCloseEvent:function(a){var b=this;a.target&&b.shouldClose(a.target)&&b.props.closeDropdown(a)},handleKeyDown:function(a){27===a.keyCode&&(this.props.closeDropdown(a),a.stopPropagation())}}),b.exports=d},{DOMUtils:"DOMUtils",lodash:"lodash","react/addons":"react/addons"}],EnhancedPromise:[function(a,b,c){"use strict";var d,e=a("lodash");d=function(a,b){var c,e,f,g,h=this,i=b;h._chainedPromises=[],f="pending",a instanceof Promise?g=a:(g=new Promise(function(b,d){c=function(){f="resolved",b.apply(g,arguments)},e=function(){f="rejected",d.apply(g,arguments)},a(c,e,function(a){i=a}),h.canceled&&h.cancel()}),h.cancel=function(){var a=this;if(a._chainedPromises.forEach(function(a){a.cancel&&a.cancel()}),"pending"===f){if(e){if(i)try{i()}catch(b){}e({error:"canceled"})}a.canceled=!0}}),h.then=function(a,b,c){var e,f=function(a,b){var c=a(b);return c instanceof d&&(e.cancel=c.cancel),c};return e=new d(g.then(a?f.bind(null,a):null,b?f.bind(null,b):null)),e._onProgress=c,e.cancel=h.cancel,h._chainedPromises.push(e),e},h.progress=function(){var a=arguments;h._chainedPromises.forEach(function(b){var c=a;b._onProgress&&(c=b._onProgress.apply(b,a)),"undefined"!=typeof c&&b.progress.apply(b,[c])})}},d.prototype=Object.create(Promise.prototype),d.prototype.constructor=d,d.resolve=function(a){return new d(function(b){b(a)},e.noop)},b.exports=d},{lodash:"lodash"}],FolderStore:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,yui.on("ds:folder:change",this.regenerateCache,this)}var e=a("lodash"),f=a("events").EventEmitter,g=a("SearchConstants"),h=a("../../../artifacts/lang"),i=yui.mail.model.DataStore.Folders;d.prototype={getCache:function(){return this.cache||this.fetch()},all:function(){return this.getCache()},fetch:function(){return this.cache=i.get().filter(this.isNotInvisible).concat([{isSystem:!0,folderInfo:{fid:yui.common.Utils.features.enabled("searchresults")&&NeoConfig.forceDS?"%40C%40Chats":"@C@Chats",name:h.str_folder_chats,index:8}}])},regenerateCache:function(){this.fetch(),this.emit("change")},isNotInvisible:function(a){return"I"!==a.type},isSearchable:function(a){return-1===g.UNSEARCHABLE_FIDS.indexOf(a.folderInfo.fid)},isSystem:function(a){return a.isSystem},isUserCreated:function(a){return!a.isSystem},getSystemFolders:function(){return this.getCache().filter(this.isSystem)},getSearchableSystemFolders:function(){return this.getSystemFolders().filter(this.isSearchable)},getSearchableUserFolders:function(){return this.getUserFolders().filter(this.isSearchable)},getUserFolders:function(){return this.getCache().filter(this.isUserCreated)},getSearchableFolders:function(){return this.getCache().filter(this.isSearchable)},findByFID:function(a){return e.find(this.getSearchableFolders(),function(b){return b.folderInfo.fid===a})},findByName:function(a){return e.find(this.getSearchableFolders(),function(b){return b.folderInfo.name===a})},findByIndex:function(a){return e.find(this.getSearchableFolders(),function(b){return b.folderInfo.index.toString()===a.toString()})},getLocalizedFolderName:function(a){var b=this.findByFID(a);if(!b)return a;if(!b.isSystem)return b.folderInfo.name;switch(b.folderInfo.fid){case"Inbox":return h.str_folder_inbox;case"Draft":return h.str_folder_drafts;case"Sent":return h.str_folder_sent;case"Trash":return h.str_folder_trash;case"%40C%40Chats":return h.str_folder_chats;default:return b.folderInfo.name}}},d.normalizeFid=function(a){var b=a.toLowerCase();return"@c@chats"===decodeURIComponent(b)?b="chats":"@b@bulk"===decodeURIComponent(b)&&(b="spam"),b},d.storeName="FolderStore",e.mixin(d.prototype,f.prototype),b.exports=d},{"../../../artifacts/lang":2,SearchConstants:"SearchConstants",events:"events",lodash:"lodash"}],GlobalActions:[function(a,b,c){"use strict";var d,e=a("GlobalConstants");d={showNotification:function(a,b){a.dispatch(e.NOTIFICATION_SHOW,b)},dismissNotification:function(a,b){a.dispatch(e.NOTIFICATION_DISMISSED,b)},showOnboarding:function(a,b){a.dispatch(e.ONBOARDING_SHOW,b)},dismissOnboarding:function(a,b){a.dispatch(e.METADATA_CHANGE,b),a.dispatch(e.ONBOARDING_DISMISSED)},setMetaData:function(a,b){a.dispatch(e.METADATA_CHANGE,b)}},b.exports=d},{GlobalConstants:"GlobalConstants"}],GlobalConstants:[function(a,b,c){"use strict";var d,e=a("lodash");d={RESPONSE_PENDING:e.uniqueId(),RESPONSE_IS_STREAMING:e.uniqueId(),RESPONSE_RECEIVED:e.uniqueId(),NOTIFICATION_SHOW:e.uniqueId(),NOTIFICATION_DISMISSED:e.uniqueId(),ONBOARDING_SHOW:e.uniqueId(),ONBOARDING_DISMISSED:e.uniqueId(),METADATA_CHANGE:e.uniqueId(),FALLBACK_XOBNI_IMG_URL:"https://s1.yimg.com/dh/ap/social/profile/profile_a48.png"},b.exports=d},{lodash:"lodash"}],IO:[function(a,b,c){"use strict";function d(a){var b=new k(function(c,e,f){var g,h=new XMLHttpRequest;h.onreadystatechange=function(){var f,i,j=h.readyState;if(4===j)if(b.progress({text:h.responseText}),g&&clearTimeout(g),h.status>=200&&h.status<300)c({text:h.responseText,status:h.status});else{if(403===h.status){try{i=JSON.parse(h.responseText)}catch(k){}if(i&&(f=l.getValue(i,"wssid")))return NeoConfig.wssid=f,yui.common.net.SessionMgr.setWssid(f),a.url=a.url.replace(/wssid=[^&]+/,"wssid="+f),void d(a).then(c,e)}else if(401===h.status)return yui.once("net:reloginSuccessful",function(){d(a).then(c,e)}),void yui.common.net.Error.simpleRelogin();e({text:h.responseText,status:h.status})}else 3===j&&b.progress({text:h.responseText})},h.open(a.method,a.url,!0),Object.keys(a.options).forEach(function(b){var c=a.options[b];"timeout"===b?"undefined"==typeof h.timeout?g=setTimeout(function(){h.abort(),e({text:"timeout",status:801})},c):(h.timeout=c,h.ontimeout=function(){e({text:"timeout",status:801})}):"headers"===b?Object.keys(c).forEach(function(a){h.setRequestHeader(a,c[a])}):h[b]=c});try{a.cors&&(h.withCredentials=!0),"POST"!==a.method||a.data||(a.data=""),h.send(a.data)}catch(i){e({text:i.message,status:802})}f(function(){e({text:"canceled",status:800}),h.abort()})});return b}function e(a){var b={id:"BatchWrapper",uri:a.url,method:a.method};return(a.data||"POST"===a.method)&&(b.payload=a.data||"",b.payloadType="embedded"),b}function f(a){var b;return-1===a.indexOf("wssid=")&&(b=-1===a.indexOf("?")?"?":"&",a+=b+"wssid="+NeoConfig.wssid),-1===a.indexOf("ymreqid=")&&(a+="&ymreqid="+yui.common.net.Session.genReqID()),-1===a.indexOf("appid=")&&(a+="&appid=YahooMailNeo"),a}function g(a){var b=new k(function(c,d,e){yui.use("tictac-base-batch-transport",function(f){var g=f.Tictac.base.BatchTransport.send({requests:a},{success:function(a,b,d){c({isBatch:!0,response:d})},fail:function(a,b){d({isBatch:!0,error:b})},progress:function(a,c){b.progress({isBatch:!0,error:c})}},null,"&ymreqid="+yui.common.net.Session.genReqID());e&&g&&g.abort&&e(g.abort)})});return b}function h(a){var b,c,h=window.location.protocol+"\\/\\/"+window.location.hostname,i=new XMLHttpRequest,j=!1,k=/^http(s)?:\/\//i;return a.url=f(a.url),b=a.url,k.test(b)&&(window.location.port&&(h+=":"+window.location.port),h+="($|[/?#])",c=new RegExp(h,"i"),c.test(b)||(j=!0,"undefined"!=typeof i.withCredentials&&(a.cors=!0))),j&&!a.cors?g([e(a)]):d(a)}function i(a,b,c){return c=c||{},"object"==typeof b&&(b=JSON.stringify(b),c.headers=c.headers||{},c.headers["Content-Type"]||(c.headers["Content-Type"]="application/json")),h({method:"POST",url:a,data:b,options:c})}function j(a,b){return h({method:"GET",url:a,options:b||{}})}var k=a("EnhancedPromise"),l=a("ObjectUtils");b.exports={get:j,post:i,sendBatch:g}},{EnhancedPromise:"EnhancedPromise",ObjectUtils:"ObjectUtils"}],ListItem:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash");d=e.createClass({displayName:"ListItem",propTypes:{},getDefaultProps:function(){return{onContextMenu:f.noop}},render:function(){var a,b=this,c=b.props,d={active:c.active};return c.className&&(d[c.className]=!0),a=e.addons.classSet(d),e.createElement("li",{style:c.style,title:c.title,tabIndex:-1,className:a,onClick:b.handleItemClick,onContextMenu:b.handleItemContextMenu},c.children)},componentDidUpdate:function(){var a=this;a.props.active&&a.getDOMNode().focus()},handleItemClick:function(a){var b=this;b.props.onClick(a,b.props.id)},handleItemContextMenu:function(a){var b=this;b.props.onContextMenu(a,b.props.id)}}),b.exports=d},{lodash:"lodash","react/addons":"react/addons"}],ListNavigation:[function(a,b,c){"use strict";var d={UP_DIRECTION:-1,DOWN_DIRECTION:1,navigate:function(a){var b=this.minIndex||0,c=this.getItems().length-1,d=this.state.selectedIndex+a;return d>c?d=b:b>d&&(d=c),this.setState({selectedIndex:d}),d},navigateDown:function(){return this.navigate(this.DOWN_DIRECTION)},navigateUp:function(){return this.navigate(this.UP_DIRECTION)}};b.exports=d},{}],List:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"List",propTypes:{},render:function(){var a=this.props;return e.createElement("ul",{className:a.className,tabIndex:a.tabIndex,"data-title":a.dataTitle,onKeyDown:a.onKeyDown},a.children)},focus:function(){this.getDOMNode().focus()}}),b.exports=d},{"react/addons":"react/addons"}],MenuButton:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("Menu");d=e.createClass({displayName:"MenuButton",propTypes:{},mixins:[e.addons.PureRenderMixin],getDefaultProps:function(){return{showChevron:!1}},getInitialState:function(){return{isMenuOpen:!1}},render:function(){var a,b=this,c={"search-menu-button":!0,opened:b.state.isMenuOpen};return c[b.props.className]=!0,a=e.addons.classSet(c),e.createElement("button",{className:a,title:b.props.title,disabled:b.props.disabled,onMouseDown:b.handleMouseDown,onKeyDown:b.handleKeyDown},b.props.label,b.renderChevron(),b.renderMenu())},renderChevron:function(){return this.props.showChevron?e.createElement("i",{className:"icon icon-chevron-down"}):void 0},renderMenu:function(){var a=this;return a.state.isMenuOpen?e.createElement(f,{anchorNode:a.getDOMNode(),closeMenu:a.closeMenu,ddClassName:a.props.ddClassName,dropdownXOrigin:a.props.dropdownXOrigin,dropdownYOrigin:a.props.dropdownYOrigin},a.props.children):void 0},openMenu:function(){var a=this;a.setState({isMenuOpen:!0}),a.props.onOpen&&a.props.onOpen()},closeMenu:function(a){var b=this;b.setState({isMenuOpen:!1}),a&&"keydown"===a.type&&b.getDOMNode().focus()},toggleMenuVisibility:function(a){var b=this;b.state.isMenuOpen?b.closeMenu(a):b.openMenu()},handleMouseDown:function(a){this.toggleMenuVisibility(a)},handleKeyDown:function(a){a.key&&"Enter"===a.key&&this.toggleMenuVisibility(a)},isMenuOpen:function(){return this.state.isMenuOpen}}),b.exports=d},{Menu:"Menu","react/addons":"react/addons"}],MenuItemGroup:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"MenuItemGroup",propTypes:{},mixins:[e.addons.PureRenderMixin],getDefaultProps:function(){return{overflow:!1,togglable:!1,title:"",value:""}},render:function(){var a=this,b=a.props,c=e.addons.classSet({"search-menu-group":!0,"search-menu-togglable":b.togglable,"search-menu-group-overflow":b.overflow});return e.createElement("section",{className:c,title:b.title,"data-value":b.value},a.renderGroupTitle(),a.props.children)},renderGroupTitle:function(){return this.props.title?e.createElement("header",{className:"search-menu-group-title"},this.props.title):void 0}}),b.exports=d},{"react/addons":"react/addons"}],MenuItem:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("StringUtils");d=e.createClass({displayName:"MenuItem",propTypes:{},getInitialState:function(){return{active:!1,disabled:void 0}},getDefaultProps:function(){return{onClick:f.noop}},setDisabled:function(a){this.setState({disabled:a||void 0})},setActive:function(a){this.setState({active:a})},render:function(){var a,b=this,c=b.props,d={"search-menuitem":!0,"menu-active-item":b.state.active,selected:c.selected};return c.className&&(d[c.className]=!0),a=e.addons.classSet(d),e.createElement("div",{className:a,onClick:c.onClick,"data-value":c.value,"data-disabled":c.disabled||b.state.disabled||void 0,title:c.title,dir:g.getTextDirection(c.title),tabIndex:"-1"},e.Children.map(c.children,function(a){return e.isValidComponent(a)?e.addons.cloneWithProps(a,{setDisabled:b.setDisabled,setActive:b.setActive}):a}))}}),b.exports=d},{StringUtils:"StringUtils",lodash:"lodash","react/addons":"react/addons"}],MenuNavigation:[function(a,b,c){"use strict";var d={UP_DIRECTION:-1,DOWN_DIRECTION:1,navigate:function(a){var b=this,c=b.minIndex||0,d=b.state.menuItemCount-1,e=b.state.focusIndex+a;e>d?e=c:c>e&&(e=d),b.refs[b.itemPrefix+e].getDOMNode().focus(),b.setState({focusIndex:e})},navigateDown:function(){var a=this;a.navigate(a.DOWN_DIRECTION)},navigateUp:function(){var a=this;a.navigate(a.UP_DIRECTION)}};b.exports=d},{}],Menu:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("MenuNavigation"),g=a("BodyDropdown"),h=a("DOMUtils"),i=e.addons.cloneWithProps;d=e.createClass({displayName:"Menu",propTypes:{},mixins:[e.addons.PureRenderMixin,f],getDefaultProps:function(){return{ddClassName:""}},getInitialState:function(){return{focusIndex:-1,isDropdownOpen:!1,menuItemCount:this.getMenuItemCount(this.props.children)}},componentDidMount:function(){window.addEventListener("keydown",this.handleKeyDown,!0)},componentWillUnmount:function(){window.removeEventListener("keydown",this.handleKeyDown,!0)},componentDidUpdate:function(){this.setState({menuItemCount:this.getMenuItemCount(this.props.children)})},groupPrefix:"group",itemPrefix:"item",render:function(){var a=this,b=a.props,c="search-menu "+a.props.ddClassName;return e.createElement(g,{className:c,anchorNode:b.anchorNode,parentNode:b.parentNode,coordinates:b.coordinates,closeDropdown:b.closeMenu,onClick:b.closeMenu,dropdownXOrigin:b.dropdownXOrigin,dropdownYOrigin:b.dropdownYOrigin},a.addMenuItemRefs(b.children,{itemIndex:-1,groupIndex:-1}))},handleKeyDown:function(a){var b=this;switch(a.keyCode){case 13:-1!==b.state.focusIndex&&(b.refs[b.itemPrefix+b.state.focusIndex].getDOMNode().click(),h.halt(a));break;case 27:b.props.closeMenu(),h.halt(a);break;case 38:b.navigateUp(),h.halt(a);break;case 40:b.navigateDown(),h.halt(a)}},isMenuItemGroup:function(a){return"MenuItemGroup"===a.type.displayName},isMenuItem:function(a){return"MenuItem"===a.type.displayName},isEnabled:function(a){return!a.props.disabled},addMenuItemRefs:function(a,b){var c=this;return e.Children.map(a,function(a){var d=c.isMenuItemGroup(a),e=c.isMenuItem(a),f=c.isEnabled(a);return d?(b.groupIndex+=1,i(a,{key:c.groupPrefix+b.groupIndex,ref:c.groupPrefix+b.groupIndex,children:c.addMenuItemRefs(a.props.children,b)})):e&&f?(b.itemIndex+=1,i(a,{key:c.itemPrefix+b.itemIndex,ref:c.itemPrefix+b.itemIndex})):e?a:void 0})},getMenuItemCount:function(a){var b=this,c=0;return e.Children.forEach(a,function(a){b.isEnabled(a)&&(b.isMenuItemGroup(a)?c+=b.getMenuItemCount(a.props.children):Array.isArray(a)?c+=b.getMenuItemCount(a):b.isMenuItem(a)&&(c+=1))}),c}}),b.exports=d},{BodyDropdown:"BodyDropdown",DOMUtils:"DOMUtils",MenuNavigation:"MenuNavigation","react/addons":"react/addons"}],NotificationStore:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this.notifications=[]}var e=a("lodash"),f=a("events").EventEmitter,g=a("GlobalConstants"),h={};d.prototype=e.merge({constructor:d,get:function(){return this.notifications},_notificationShow:function(a){var b=this;a.id=e.uniqueId(),b.notifications.push(a),b.emit("changed")},_notificationDismissed:function(a){var b=this;b.notifications=b.notifications.filter(function(b){return b.id!==a}),b.emit("changed")}},f.prototype),h[g.NOTIFICATION_SHOW]="_notificationShow",h[g.NOTIFICATION_DISMISSED]="_notificationDismissed",d.storeName="NotificationStore",d.handlers=h,b.exports=d},{GlobalConstants:"GlobalConstants",events:"events",lodash:"lodash"}],Notifications:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("Context"),h=a("NotificationStore"),i=a("GlobalActions");d=e.createClass({displayName:"Notifications",mixins:[g],getInitialState:function(){return{notification:{}}},componentDidMount:function(){this.getStore(h).on("changed",this.handleNotificationChange)},componentWillUnmount:function(){this.getStore(h).removeListener("changed",this.handleNotificationChange)},componentDidUpdate:function(){var a=this.state;f.isEmpty(a.notification)||this.stormNotifyAPI(e.renderComponentToString(a.notification.component),a.notification)},render:function(){return e.createElement("div",{className:"offscreen"})},stormNotifyAPI:function(a,b){var c=this;yui.use("common-ui-notification-v2",function(d){d.common.ui.NotificationV2.notify(a,{type:b.failure?"error":"info",duration:4e3,speed:"show-fast",cbkOnDestroy:!0,cbk:function(a,d){"undo"===d&&b.undoHandler&&b.undoHandler(),c.executeAction(i.dismissNotification,b.id)}})})},handleNotificationChange:function(){var a,b=this,c=b.getStore(h).get();c.length?(a=b.state.notification,a.id!==c[0].id&&(b.setState({notification:c[0]}),a=c[0])):b.state.notification&&b.setState({notification:{}})}}),b.exports=d},{Context:"Context",GlobalActions:"GlobalActions",NotificationStore:"NotificationStore",lodash:"lodash","react/addons":"react/addons"}],ObjectUtils:[function(a,b,c){"use strict";var d=a("lodash"),e=function(){return{getValue:function(a,b,c){var e,f,g,h=d.isString(b)?b.split("."):b;for(f=0,g=h.length;g>f;f++){if(e=h[f],!(d.isObject(a)&&e in a))return c;a=a[e]}return a},setValue:function(a,b,c){var e;d.isString(b)&&(b=b.split(".")),b.length>1?(e=b.shift(),this.setValue(a[e]=d.isObject(a[e])?a[e]:{},b,c)):a[b[0]]=c}}}();b.exports=e},{lodash:"lodash"}],OnboardingStore:[function(a,b,c){"use strict";function d(a){var b=this;b.dispatcher=a,b.onboarding=""}var e=a("lodash"),f=a("events").EventEmitter,g=a("GlobalConstants"),h={};d.prototype=e.merge({constructor:d,get:function(){return this.onboarding},hasOnboardingInView:function(){var a=this;return a.onboarding||a._hasStormOnboardings()},_hasStormOnboardings:function(){return document.getElementsByClassName("onboardtip").length},_onboardingShow:function(a){this.onboarding=a},_onboardingDismissed:function(){this.onboarding=""}},f.prototype),h[g.ONBOARDING_SHOW]="_onboardingShow",h[g.ONBOARDING_DISMISSED]="_onboardingDismissed",d.storeName="OnboardingStore",d.handlers=h,b.exports=d},{GlobalConstants:"GlobalConstants",events:"events",lodash:"lodash"}],Onboarding:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("Context"),g=a("BodyDropdown"),h=a("GlobalActions"),i=a("./OnboardingText.jsx");d=e.createClass({displayName:"Onboarding",mixins:[f,e.addons.PureRenderMixin],_templates:{OnboardingText:i},propTypes:{},getDefaultProps:function(){return{templateType:"OnboardingText",ddClassName:""}},componentDidMount:function(){var a=this;setTimeout(function(){a.executeAction(h.showOnboarding,a.props.metaDataKey)},0),a._yuiEvents=[],a._yuiEvents.push(yui.once("tabChange",function(){setTimeout(a.dismissOnboarding,0)}),yui.once("tab:title",function(){setTimeout(a.dismissOnboarding,0)}))},componentWillUnmount:function(){this._yuiEvents.forEach(function(a){a.detach()})},render:function(){var a=this,b=a.props,c=b.ddClassName;return e.createElement(g,{className:c,anchorNode:b.anchorNode,parentNode:b.parentNode,coordinates:b.coordinates,dropdownXOrigin:b.dropdownXOrigin,dropdownYOrigin:b.dropdownYOrigin,closeDropdown:a.dismissOnboarding,onClick:a.clickOnboarding},a._templates[b.templateType](b))},dismissOnboarding:function(){var a=this,b={};b[a.props.metaDataKey]=!0,a.executeAction(h.dismissOnboarding,b)},clickOnboarding:function(a){-1!==a.target.className.indexOf("onboarding-btn")&&this.dismissOnboarding()}}),b.exports=d},{"./OnboardingText.jsx":7,BodyDropdown:"BodyDropdown",Context:"Context",GlobalActions:"GlobalActions","react/addons":"react/addons"}],RelativeDateFormatter:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("DateTimeFormatter");d=e.createClass({displayName:"RelativeDateFormatter",propTypes:{},mixins:[e.addons.PureRenderMixin],render:function(){var a=this,b=a.props.timestamp?new Date(a.props.timestamp):new Date;return e.createElement("time",{className:a.props.className,dateTime:b.toISOString(),title:a.getFullDateTimeString(b)},a.renderDateTime(b))},renderDateTime:function(a){var b=this;return b.props.template?f.transform(a,b.props.template):b.getRelativeDateTime(a)},getFullDateTimeString:function(a){return f.transform(a,f.FULL)},getRelativeDateTime:function(a){var b=this;return b.isToday(a)?f.transform(a,f.TIME):b.isThisYear(a)?f.transform(a,f.INFORMAL):f.transform(a,f.COMPACT)},isThisYear:function(a){return(new Date).getFullYear()===a.getFullYear()},isToday:function(a){var b=new Date;return this.isThisYear(a)&&b.getMonth()===a.getMonth()&&b.getDate()===a.getDate()}}),b.exports=d},{DateTimeFormatter:"DateTimeFormatter","react/addons":"react/addons"}],SearchConstants:[function(a,b,c){var d,e=a("lodash");d={SEARCH_KEYWORD:e.uniqueId(),RESET_SUGGESTION:e.uniqueId(),SET_QUERY:e.uniqueId(),REMOVE_QUERY:e.uniqueId(),CONTACTS_TAB:e.uniqueId(),CALENDAR_TAB:e.uniqueId(),NOTEPAD_TAB:e.uniqueId(),OTHER_TAB:e.uniqueId(),SEARCH_TAB:e.uniqueId(),FOLDER_TAB:e.uniqueId(),ADV_SEARCH_CONTACT_SUGGEST_TO:e.uniqueId(),ADV_SEARCH_CONTACT_SUGGEST_FROM:e.uniqueId(),CONTACT_SUGGESTIONS_RECEIVED:e.uniqueId(),BOOTCAMP_SUGGESTIONS_RECEIVED:e.uniqueId(),BOOTCAMP_SUGGESTIONS_FAILURE:e.uniqueId(),SEARCH_INIT:e.uniqueId(),SEARCH_START:e.uniqueId(),SEARCH_UPDATE:e.uniqueId(),SEARCH_SUCCESS:e.uniqueId(),SEARCH_FAILURE:e.uniqueId(),WEBSEARCH_SUGGESTIONS_RECEIVED:e.uniqueId(),WEBSEARCH_SUGGESTIONS_FAILURE:e.uniqueId(),SEARCH:e.uniqueId(),ADD_RECENT_SEARCH:e.uniqueId(),REMOVE_RECENT_SEARCH:e.uniqueId(),SEARCH_MESSAGE_VIEW:e.uniqueId(),SEARCH_PHOTO_VIEW:e.uniqueId(),SEARCH_DOCUMENT_VIEW:e.uniqueId(),SEARCH_MESSAGE_VIEW_FETCH_MORE:e.uniqueId(),SEARCH_MESSAGE_VIEW_FETCH_MORE_SUCCESS:e.uniqueId(),SEARCH_MESSAGE_VIEW_FETCH_MORE_FAILURE:e.uniqueId(),SEARCH_PHOTO_VIEW_FETCH_MORE:e.uniqueId(),SEARCH_PHOTO_VIEW_FETCH_MORE_SUCCESS:e.uniqueId(),SEARCH_PHOTO_VIEW_FETCH_MORE_FAILURE:e.uniqueId(),SEARCH_DOCUMENT_VIEW_FETCH_MORE:e.uniqueId(),SEARCH_DOCUMENT_VIEW_FETCH_MORE_SUCCESS:e.uniqueId(),SEARCH_DOCUMENT_VIEW_FETCH_MORE_FAILURE:e.uniqueId(),SET_SELECTED_ITEMS:e.uniqueId(),CLOSE_CURRENT_TAB:e.uniqueId(),BOOTCAMP_DIDYOUMEAN_RECEIVED:e.uniqueId(),BOOTCAMP_DIDYOUMEAN_FAILURE:e.uniqueId(),CLEAN_UP_SEARCH_RESULTS:e.uniqueId(),REGEX_IN:/(?:\s|^)in:("[^")]+"|'[^']+'|\S+)(?=\s|$)/g,REGEX_IS:/(?:\s|^)is:("[^")]+"|'[^']+'|\S+)(?=\s|$)/g,REGEX_SANITIZE_HAS_IS_IN_MATCH:/(is:|has:|in:|"|')/g,REGEX_HAS_IS_IN:/(?:\s|^)(has|is|in):("[^"]+"|'[^']+'|\S+)(?=\s|$)/g,REGEX_AFTER_BEFORE:/(?:\s|^)(after|before):(\d{4}\/\d{1,2}\/\d{1,2})(?=\s|$)/g,REGEX_FROM_TO_SUBJECT:/(?:\s|^)(from|to|subject):('(?:[^'\\]|\\')*'|"(?:[^"\\]|\\")*"|[^\s]*)(?=\s|$)/g,UNSEARCHABLE_FIDS:["%40B%40Bulk"],SMARTVIEW_CATEGORIES:["unread","starred","personal","shopping","financial","social","travel"],PERSON_TOKEN_FALLBACK_IMG_DATA:"'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMiIgaGVpZ2h0PSIyMiI+PHBhdGggZD0iTTUuODIzIDE2Ljc5OGwxNCAuMDAydi0xLjMzNXMuMDktLjg2LTEuNzYyLTEuNjRjLS45MTMtLjM4NC0xLjk5Mi0xLjEyLTMuOTI4LTEuMzU2LjU5Ni0uNDI1Ljg1Ny0xLjMwMiAxLjM2NS0yLjUxOGwuMDIzLS4wNmMuMTE2LjAyLjIzNi4wMi4zMjItLjAzLjIzNS0uMTM4LjM3OC0uODk1LjM4Mi0xLjI2Mi4wMDYtLjU1LS4yODctLjQ5Ny0uMjg3LS40OTdsLS4wMjQtLjAwNWMuMDAyLS4wNDQuMDA1LS4wODcuMDA1LS4xMyAwLS41MTcuMTA1LTEuMzQ4LS4wMzItMS44MDQtLjIxLS43MDYtLjQ2NC0xLjQ4Ni0xLjAyMy0xLjQ4Ni0uNTIgMC0uMTY3LS42MS0uODAyLS44MTMtLjY1NS0uMjEtMS43MzYuMTYtMS45NTQuMTYtLjMxNSAwLTEuMTA4LjIzLTEuNjU1Ljc3Ni0uMzg1LjM4NS0uMzQyLjY1LS41NTQgMS4zNi0uMTQuNDY3LS4wMzIgMS4zMS0uMDMyIDEuODA4IDAgLjA0NC4wMDMuMDg4LjAwNC4xMzItLjAwOCAwLS4wMTUuMDAzLS4wMTUuMDAzcy0uMjkzLS4wNTQtLjI4Ni40OTdjLjAwNC4zNjguMTQ2IDEuMTI0LjM4MiAxLjI2LjA4My4wNS4yLjA1Mi4zMS4wMzMuMDA4LjAxOC4wMTYuMDM2LjAyLjA1NC41MDYgMS4yMDcuNzgzIDIuMDkgMS4zNzMgMi41MTctMS45NTUuMjMtMy4wNDIuOTczLTMuOTYgMS4zNTgtMS44NjMuNzc3LTEuODcgMS41MzItMS44NyAxLjUzMnYxLjQ0NHoiIGZpbGw9IiMxQzg5RkYiLz48L3N2Zz4='",VALID_EMAIL_REGEX:/^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/},b.exports=d},{lodash:"lodash"}],StatService:[function(a,b,c){"use strict";var d,e=a("lodash"),f=window.NeoConfig||{};d=function(){var a={},b={tags:{bucket:f.expBucketId,agent:f.browser}};return{stat:function(a){var c=a;e.isString(a)&&(c={name:a}),yui.use("ymma-stats",function(a){a.fire("util:ymstats",e.merge(c,b))})},lighthouseBeaconStat:function(a,b){yui.fire("lhStat:feature_complete",{message:a,duration:b})},timerStart:function(b){a[b]=Date.now()},timerCurrentDuration:function(b){return a[b]&&Date.now()-a[b]},timerComplete:function(b){var c;return a[b]&&(c=Date.now()-a[b],delete a[b]),c},featureInvoke:function(a){yui.fire("stat:feature_invoke",e.merge({message:a,feature_group:"search"},b))},featureComplete:function(a){yui.fire("stat:feature_complete",e.merge({message:a,feature_group:"search"},b))},featureFail:function(a){yui.fire("stat:feature_fail",e.merge({message:a,feature_group:"search"},b))},featureLatency:function(a,c){yui.fire("stat:feature_latency",e.merge({message:a,feature_group:"search",value:c},b))},logRapid:function(a,b){yui.use("search-ult",function(c){c.fire(a,b)})},mailLog:function(a,b,c){b&&!c&&(c="stat_service_debug"),yui.fire("MailLog",a,b,c)}}}(),b.exports=d},{lodash:"lodash"}],StringUtils:[function(a,b,c){"use strict";var d,e=a("lodash"),f=a("./RTLCharactersRegExp"),g=a("./NeutralCharactersRegExp"),h=a("./ArabicShapingRegExp"),i=h.rightJoiner,j=h.leftJoiner,k="‍";d={hashCode:function(a){var b,c;for(c=0;c<a.length;c++)b=31*b+a.charCodeAt(c)<<0;return b},escapeHtml:function(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};return(a||"").replace(/[&<>'"]/g,function(a){return b[a]})},startsWith:function(a,b,c){return c=c||0,a.lastIndexOf(b,c)===c},startsWithIgnoreCase:function(a,b,c){return this.startsWith(a.toLowerCase(),b.toLowerCase(),c)},contains:function(a,b,c){return-1!==a.indexOf(b,c)},containsIgnoreCase:function(a,b,c){return this.contains(a.toLowerCase(),b.toLowerCase(),c)},indexOfIgnoreCase:function(a,b,c){return c=c||0,a.toLowerCase().indexOf(b.toLowerCase(),c)},escapeRegExp:function(a){return a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},capitalize:function(a){return a[0].toUpperCase()+a.slice(1)},stripHTML:function(a){return a.replace(/<\/?.*?>/g,"");

},addUrlParameters:function(a,b){var c,d=a;return d?(-1===d.indexOf("?")?d+="?":"&"!==d.charAt(d.length-1)&&(d+="&"),c=Object.keys(b).map(function(a){return[encodeURIComponent(a),encodeURIComponent(b[a])].join("=")}),d+c.join("&")):""},stringReplace:function(a,b){var c=a.split(/({{{?.*?}}}?)/);return c.map("function"==typeof b?function(a){var c=a.match(/{{([^}]+)}}/);return c?b(c[1].trim()):a}:function(a){var c=a.match(/{{([^}]+)}}/);return c?b[c[1].trim()]:a})},getTextDirection:function(){var a=new RegExp("^(?:"+g+")*(?:"+f+")"),b=new RegExp("^(?:"+g+")*$");return function(c){var d="ltr";return a.test(c)?d="rtl":b.test(c)&&(d=null),d}}(),getBidiString:function(a,b){var c;if("string"==typeof a){if(c=this.getTextDirection(a)||b,"ltr"===c)return"‪"+a+"‬";if("rtl"===c)return"‬"+a+"‫"}return a},bidiSafeConcatenate:function(a,b){return b=b||"ltr",Array.isArray(a)?e.reduce(a,function(a,c){return a+this.getBidiString(String(c),b)},"",this):a},mightNeedJoiner:function(a){return a.charCodeAt(0)>=1568},nextNeedsJoiner:function(a){return a=a.slice(-1),this.mightNeedJoiner(a)&&j.test(a)},previousNeedsJoiner:function(a){return a=a[0],this.mightNeedJoiner(a)&&i.test(a)},addRTLJoiners:function(a,b){return b=b||k,e.each(a,function(a,c,d){0!==c&&this.previousNeedsJoiner(a)&&this.nextNeedsJoiner(d[c-1])&&(d[c-1]=d[c-1]+b,d[c]=b+d[c]),d[c+1]&&this.nextNeedsJoiner(a)&&this.previousNeedsJoiner(d[c+1])&&(d[c+1]=b+d[c+1],d[c]=d[c]+b)},this),a},getFileName:function(a){return"string"==typeof a?-1!==a.lastIndexOf(".")?a.slice(0,a.lastIndexOf(".")+1):a:""},getFileExtension:function(a){return"string"==typeof a&&-1!==a.lastIndexOf(".")&&a.slice(a.lastIndexOf(".")+1)||""}},b.exports=d},{"./ArabicShapingRegExp":4,"./NeutralCharactersRegExp":5,"./RTLCharactersRegExp":6,lodash:"lodash"}],Template:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash");d=e.createClass({displayName:"Template",mixins:[e.addons.PureRenderMixin],render:function(){var a=this,b=f.template(a.props.tmpl,null)(a.props);return e.createElement("span",{dangerouslySetInnerHTML:{__html:b}})}}),b.exports=d},{lodash:"lodash","react/addons":"react/addons"}],TokenizedTypeahead:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("DOMUtils"),h=a("List"),i=a("ListItem"),j=a("Typeahead");d=e.createClass({displayName:"TokenizedTypeahead",propTypes:{},getInitialState:function(){return{selectedIndex:this.props.tokens?this.props.tokens.length:0}},getDefaultProps:function(){return{tokens:[],inputValue:"",onKeyDown:f.noop,onComplete:function(a,b){return b},tokenTemplate:function(a){return a.data}}},shouldComponentUpdate:function(a,b){return!(f.isEqual(this.props,a)&&f.isEqual(this.state,b))},componentDidUpdate:function(a){f.isEqual(this.props.tokens,a.tokens)||this.setState({selectedIndex:this.props.tokens.length})},render:function(){var a,b=this,c=b.props,d=c.tokens,f=d.length,g=b.state.selectedIndex,h=f>0&&f>g,i={"tokenized-typeahead":!0,tokensSelected:h},k={};return i[c.className]=!!c.className,a=e.addons.classSet(i),c.endPadding&&(NeoConfig.bidi?k["padding-left"]=c.endPadding:k["padding-right"]=c.endPadding),e.createElement("div",{className:a,style:k},e.createElement("div",{className:"tokenized-typeahead-container"},b.renderTokens(),e.createElement(j,{ref:"typeahead",items:c.items,itemTemplate:c.itemTemplate,onClick:b.handleClick,onFocus:c.onFocus,onSelect:b.handleTextSelection,placeholder:c.placeholder,onKeyUp:c.onKeyUp,onKeyDown:b.handleKeyDown,onKeyPress:c.onKeyPress,onChange:b.handleChange,onComplete:b.handleComplete,getItemValue:c.getItemValue,getAriaCountMessage:c.getAriaCountMessage,getAriaSuggestionMessage:c.getAriaSuggestionMessage,handleInputHint:c.handleInputHint,inputValue:c.inputValue})))},renderTokens:function(){var a=this.state.selectedIndex,b=this.props.tokens;return b.length>0?e.createElement(h,{className:"typeahead-token-list",onKeyDown:this.handleKeyDown},b.map(function(b,c){return e.createElement(i,{key:c,id:c,onClick:this.handleTokenClick},e.createElement(this.props.tokenTemplate,{index:c,data:b,isSelected:0>a||a===c,destroyFunc:this.destroyToken}))},this)):void 0},focus:function(){this.refs.typeahead.focus()},blur:function(){this.refs.typeahead.blur()},handleComplete:function(a,b){this.props.onComplete(a,b)},handleKeyDown:function(a){var b=this,c=b.props.tokens,d=b.state.selectedIndex,e=a.target,f=0===e.selectionStart&&0===e.selectionEnd;if((a.ctrlKey||a.metaKey)&&65===a.keyCode)b.setState({selectedIndex:-1});else if(a.key&&(f||-1!==d))switch(a.key){case"ArrowLeft":f&&b.setState({selectedIndex:Math.max(d-1,0)});break;case"ArrowRight":-1===d?(b.setState({selectedIndex:c.length}),g.halt(a)):d<c.length&&(b.setState({selectedIndex:d+1}),g.halt(a));break;case"Backspace":-1===d?b.destroyAllTokens():c.length&&(d===c.length&&c.length&&f?b.setState({selectedIndex:b.state.selectedIndex-1}):d<c.length&&b.destroyToken(c[d]))}b.props.onKeyDown(a)},handleChange:function(a){var b=this,c=b.props.tokens;-1===b.state.selectedIndex?b.destroyAllTokens():b.state.selectedIndex<c.length&&b.destroyToken(c[b.state.selectedIndex]),b.props.onChange(a)},handleClick:function(){var a=this;a.setState({selectedIndex:a.props.tokens.length})},handleTokenClick:function(a,b){var c=this;c.refs.typeahead.focus(),c.refs.typeahead.setSelectionRange(0,0),c.setState({selectedIndex:b})},destroyToken:function(a){this.props.handleDestroyToken(a)},destroyAllTokens:function(){var a=this;a.props.tokens.forEach(function(b){a.destroyToken(b)})},isInputFullySelected:function(a){return a.value.length>0&&0===a.selectionStart&&a.selectionEnd===a.value.length},handleTextSelection:function(a){var b=this;b.isInputFullySelected(a.target)?b.setState({selectedIndex:-1}):-1===b.state.selectedIndex&&b.setState({selectedIndex:b.props.tokens.length})}}),b.exports=d},{DOMUtils:"DOMUtils",List:"List",ListItem:"ListItem",Typeahead:"Typeahead",lodash:"lodash","react/addons":"react/addons"}],Token:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"Token",propTypes:{},render:function(){var a,b=this,c=b.props,d={"ui-token":!0,"ui-token-selected":c.isSelected,"ui-token-destroyable":c.destroyFunc};return c.data.className&&(d[c.data.className]=!0),c.data.intent&&(d["ui-token-type-"+c.data.intent.trim().toLowerCase()]=!0),a=e.addons.classSet(d),e.createElement("span",{className:a,title:c.data.displayStr,"data-value":c.data.dataValue},b.renderDisplayName(),b.renderCloseButton())},renderCloseButton:function(){var a=this;return a.props.destroyFunc?e.createElement("span",{ref:"close",className:"icon icon-close",onClick:a.destroyToken}):void 0},renderDisplayName:function(){var a,b=this,c=b.props.data,d={"ui-token-text":!0};return c.innerClassName&&(d[c.innerClassName]=!0),a=e.addons.classSet(d),e.createElement("span",{className:a},b.renderThumbnail(),c.displayStr)},renderThumbnail:function(){var a=this,b=a.props.data,c=[];return[b.imageUrl,b.fallbackImageUrl].forEach(function(a){a&&c.push("url("+a+")")}),c.length?e.createElement("figure",{className:"ui-token-thumbnail",style:{"background-image":c.join(", ")}}):void 0},destroyToken:function(a){var b=this;b.props.destroyFunc(b.props.data),a.stopPropagation()}}),b.exports=d},{"react/addons":"react/addons"}],Typeahead:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("DOMUtils"),h=a("StringUtils"),i=a("./Input.jsx"),j=a("List"),k=a("ListItem"),l=a("Dropdown"),m=a("ListNavigation"),n=a("AriaStatus"),o="⇤";d=e.createClass({displayName:"Typeahead",propTypes:{},isComposing:!1,isInputHintVisible:!0,minIndex:-1,mixins:[m],getInitialState:function(){return{selectedIndex:-1,isDropdownOpen:!1,temporaryInputValue:""}},getDefaultProps:function(){return{inputValue:"",items:[],itemTemplate:function(a){return a.data},onChange:f.noop,onKeyUp:f.noop,onKeyDown:f.noop,onKeypress:f.noop,onClick:f.noop,onFocus:f.noop,getAriaCountMessage:f.noop,getAriaSuggestionMessage:f.noop}},shouldComponentUpdate:function(a,b){return!(f.isEqual(this.props,a)&&f.isEqual(this.state,b))},componentWillReceiveProps:function(a){var b,c=this,d=a.inputValue,e=a.items;c.state.temporaryInputValue?d!==c.props.inputValue&&c.setState({temporaryInputValue:"",selectedIndex:-1}):(b=c.state.isDropdownOpen&&0!==e.length?d+c.handleInputHint(d,e):d,c.setState({fullInputValue:b}))},render:function(){var a=this,b=a.props,c=a.state.temporaryInputValue||b.inputValue,d=a.state.fullInputValue,f=a.refs.input&&a.refs.input.getDOMNode(),g=f&&0===f.scrollLeft&&a.isInputHintVisible,j="",k=h.getTextDirection(c);return g&&d!==c&&(j=d),"rtl"===k&&j&&(j=o+" "+j),e.createElement("div",{className:"typeahead-content-box"},e.createElement("div",{className:"typeahead-input-container"},e.createElement(i,{className:"typeahead-input-grayhint",disabled:!0,value:j,dir:k}),e.createElement(i,{ref:"input",className:"typeahead-input-usertext",onFocus:a.handleInputFocus,onClick:a.handleInputClick,onSelect:b.onSelect,onChange:a.handleInputChange,onKeyUp:b.onKeyUp,placeholder:b.placeholder,onKeyDown:a.handleInputKeyDown,onKeyPress:b.onKeyPress,onCompositionStart:a.handleInputCompositionStart,onCompositionEnd:a.handleInputCompositionEnd,value:c,dir:k})),a.renderDropdown(),a.renderAriaSuggestionMessage(),a.renderAriaCountMessage())},renderDropdown:function(){var a=this;return a.state.isDropdownOpen&&a.props.items.length>0?e.createElement(l,{parentNode:a.getDOMNode().parentElement,closeDropdown:a.closeDropdown},e.createElement(j,{ref:"typeaheadList",className:"typeahead-list"},a.props.items.map(function(b,c){return e.createElement(k,{key:c,id:c,onClick:a.handleItemClick},e.createElement(a.props.itemTemplate,{data:b,inputValue:a.props.inputValue,isSelected:a.state.selectedIndex===c}))}))):void 0},renderAriaCountMessage:function(){var a=this;return a.state.isDropdownOpen?e.createElement(n,{message:a.getAriaCountMessage()}):void 0},renderAriaSuggestionMessage:function(){var a=this;return a.state.isDropdownOpen?e.createElement(n,{message:a.getAriaSuggestionMessage()}):void 0},getAriaCountMessage:function(){var a=this;return a.props.getAriaCountMessage(a.props.items.length)||""},getAriaSuggestionMessage:function(){var a=this;return a.props.getAriaSuggestionMessage(a.getSelectedItem())||""},getInputValue:function(){return this.refs.input.getDOMNode().value},getItemValue:function(a){var b=this;return b.props.getItemValue?b.props.getItemValue(a):a},getSelectedItem:function(){var a=this;return a.props.items[a.state.selectedIndex]},focus:function(){this.refs.input.focus()},blur:function(){this.refs.input.blur()},setSelectionRange:function(a,b){this.refs.input.setSelectionRange(a,b)},shouldDisplayHint:function(a,b){var c=this;return!c.isComposing&&c.isInputHintVisible&&b.length>0&&a.length>0},getMatchingPart:function(a,b){var c=this,d="",e=b[0];return e&&(c.props.handleInputHint?d=c.props.handleInputHint(a,e):h.startsWithIgnoreCase(e,a)&&(d=e)),d},handleInputHint:function(a,b){var c=this;return b=b||c.props.items,c.shouldDisplayHint(a,b)?c.getMatchingPart(a,b).slice(a.length):""},handleInputChange:function(a){var b=this;a.inputValue=b.getInputValue(),b.props.onChange(a)},handleInputKeyDown:function(a){var b,c,d,e,f=this,i=a.key,j=f.refs.input,k={key:a.key,type:a.type,altKey:a.altKey,metaKey:a.metaKey,ctrlKey:a.ctrlKey,shiftKey:a.shiftKey,value:f.props.inputValue,fullInputValue:f.state.fullInputValue},l=f.props,m=f.state;switch(i){case"Enter":if(a.shiftKey)break;m.isDropdownOpen&&g.halt(a),f.isInputHintVisible=!1,d=l.inputValue.length,j.setSelectionRange(d,d),f.handleInputComplete(k),f.setState({fullInputValue:l.inputValue,isDropdownOpen:!1,selectedIndex:-1});break;case"ArrowLeft":case"ArrowRight":m.temporaryInputValue.length<1&&l.inputValue.length===j.getSelectionEnd()&&l.inputValue.length===j.getSelectionStart()&&m.fullInputValue!==l.inputValue&&-1===m.selectedIndex&&(e=h.getTextDirection(l.inputValue),("ltr"===e&&"ArrowRight"===i||"rtl"===e&&"ArrowLeft"===i)&&(f.handleInputComplete(k),a.preventDefault()));break;case"End":case"Tab":!a.shiftKey&&f.handleInputHint(l.inputValue).length>0&&(g.halt(a),f.handleInputComplete(g.cloneEvent(a)));break;case"Escape":break;case"ArrowUp":case"ArrowDown":a.preventDefault(),f.setState({isDropdownOpen:!0}),c="ArrowUp"===i?f.navigateUp():f.navigateDown(),c>=0?(b=f.getItemValue(l.items[c]),f.setState({temporaryInputValue:b,fullInputValue:b},function(){j.setSelectionRange(b.length,b.length)})):f.setState({temporaryInputValue:"",fullInputValue:l.inputValue}),a.stopPropagation();break;default:f.isInputHintVisible=!0,f.setState({isDropdownOpen:!0})}a.nativeEvent.stopPropagation(),l.onKeyDown(a)},handleInputFocus:function(){var a=this,b=a.props;a.isInputHintVisible=!0,a.setState({isDropdownOpen:!0,fullInputValue:b.inputValue+a.handleInputHint(b.inputValue)},function(){b.onFocus()})},closeDropdown:function(){var a=this;a.setState({isDropdownOpen:!1,selectedIndex:-1,temporaryInputValue:"",fullInputValue:a.props.inputValue}),a.isInputHintVisible=!1},handleInputClick:function(a){this.props.onClick(a)},handleItemClick:function(a,b){var c=this;a=g.cloneEvent(a),c.isInputHintVisible=!1,c.setState({selectedIndex:b,isDropdownOpen:!1},function(){c.handleInputComplete(a),c.setState({selectedIndex:-1})})},handleInputComplete:function(a){var b,c=this,d=c.props,e=c.state.selectedIndex,f=a.key;"Enter"!==f&&(e=Math.max(0,e)),c.props.onComplete?c.props.onComplete(a,d.items[e]):"Tab"===f?(b=e>-1?d.items[e]:"",c.setProps({inputValue:b})):("ArrowRight"===f||"ArrowLeft"===f)&&c.setProps({inputValue:c.state.fullInputValue})},handleInputCompositionStart:function(){this.isComposing=!0},handleInputCompositionEnd:function(){this.isComposing=!1},getItems:function(){return this.props.items}}),b.exports=d},{"./Input.jsx":8,AriaStatus:"AriaStatus",DOMUtils:"DOMUtils",Dropdown:"Dropdown",List:"List",ListItem:"ListItem",ListNavigation:"ListNavigation",StringUtils:"StringUtils",lodash:"lodash","react/addons":"react/addons"}],UserSettingsConstants:[function(a,b,c){c.MSG_DENSITY_RELAXED=0,c.MSG_DENSITY_COMPACT=1,c.MSG_DENSITY_OPEN=2,c.TAB="tab",c.RECENT="recent",c.MSG_SORT_TYPE_DATE="date",c.MSG_SORT_TYPE_ATTACHMENT="attachmentcount",c.MSG_SORT_TYPE_RELEVANCE="relevance",c.MSG_SORT_ORDER_UP="up",c.MSG_SORT_ORDER_DOWN="down"},{}],UserSettingsStore:[function(a,b,c){"use strict";function d(){var a;try{a=JSON.parse(window.yui.mail.persist.MetaData.get("simpleCustomViews").json)}catch(b){}return a||{}}function e(a){var b=this;b.dispatcher=a,b.settings={customViews:{},messageDensity:NeoConfig.msgListDensity,multitask:NeoConfig.tabs?g.TAB:g.RECENT},yui.use("mail-persist-meta-data",function(){b.settings.metaData=window.yui.mail.persist.MetaData,b.settings.customViews=d(),b.emit("changed")}),yui.on("simple:customViewsChanged",function(){b.settings.customViews=d(),b.emit("changed")}),yui.on("messageDensityChange",function(a){b.settings.messageDensity=a.density,b.emit("changed")}),yui.on("multitaskChange",function(a){b.settings.multitask=a.option,b.emit("changed")})}var f=a("lodash"),g=a("UserSettingsConstants"),h=a("events").EventEmitter,i=a("GlobalConstants"),j=a("ObjectUtils"),k={};yui.use("mail-persist-meta-data"),e.prototype=f.merge({constructor:e,getAll:function(){return this.settings},get:function(a){return j.getValue(this.settings,a,null)},getMetaData:function(a){var b=this,c=b.settings.metaData;return c.get(a)},_setUserData:function(a){var b=this,c=b.settings.metaData;Object.keys(a).forEach(function(b){c.set(b,a[b]),c.save()}),b.emit("changed")}},h.prototype),k[i.METADATA_CHANGE]="_setUserData",e.handlers=k,e.storeName="UserSettingsStore",b.exports=e},{GlobalConstants:"GlobalConstants",ObjectUtils:"ObjectUtils",UserSettingsConstants:"UserSettingsConstants",events:"events",lodash:"lodash"}],Utils:[function(a,b,c){"use strict";var d=function(){var a={};return{loadPromisesMap:a,loadCSS:function(a){return new Promise(function(b){var c=document.head,d=new Image;d.onerror=function(){var d=document.createElement("link");d.rel="stylesheet",d.href=a,d.onload=b,window.setTimeout(b,200),c.insertBefore(d,c.firstChild)},d.src=a})},loadJS:function(a){return new Promise(function(b){var c=document.createElement("script");c.onload=b,c.src=a,document.head.appendChild(c)})},loadTictac:function(b){return a[b]||(a[b]=yui.mail.ui.Tictacs.loadTictac(b)),a[b]}}}();b.exports=d},{}],"context-mixin":[function(a,b,c){"use strict";var d=a("react/addons");b.exports={childContextTypes:{executeAction:d.PropTypes.func,getStore:d.PropTypes.func,extraPayload:d.PropTypes.object},getChildContext:function(){return{executeAction:this.context.executeAction,getStore:this.context.getStore,extraPayload:this.context.extraPayload}},contextTypes:{executeAction:d.PropTypes.func,getStore:d.PropTypes.func,extraPayload:d.PropTypes.object}}},{"react/addons":"react/addons"}],"dispatchr/utils/BaseStore":[function(a,b,c){"use strict";function d(a){var b=this;b.dispatcher=a,b._hasChanged=!1,b.initialize&&b.initialize()}var e=a("inherits"),f=a("events").EventEmitter,g="change";e(d,f),d.prototype.getContext=function(){return this.dispatcher.getContext()},d.prototype.addChangeListener=function(a){this.on(g,a)},d.prototype.removeChangeListener=function(a){this.removeListener(g,a)},d.prototype.shouldDehydrate=function(){return this._hasChanged},d.prototype.emitChange=function(a){var b=this;b._hasChanged=!0,b.emit(g,a||b)},b.exports=d},{events:"events",inherits:3}],"infinite-scroll":[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=5;d=e.createClass({displayName:"InfiniteScroll",getInitialState:function(){var a=this.props,b=a.items.length*a.itemHeight,c=Math.floor(b/a.itemHeight);return{loading:!1,scrollTop:0,loadThreshold:a.loadThreshold||g,items:a.items,hasMoreItems:a.hasMoreItems,itemHeight:a.itemHeight,itemsPerPage:c,visibleStart:0,visibleEnd:c,displayStart:0,displayEnd:Math.min(2*c,a.items.length)}},componentWillReceiveProps:function(a){var b=this,c=a.itemHeight,d=a.items.length,e=b.getScrollState(c,d);b.setState(f.merge({loading:!1,items:a.items,hasMoreItems:a.hasMoreItems},e))},componentWillMount:function(){var a=this,b=15;a.setState({itemsPerPage:b,visibleEnd:b,displayEnd:Math.min(2*b,a.state.items.length)})},componentDidMount:function(){var a=this,b=a.refs.scrollable.getDOMNode().offsetHeight,c=Math.floor(b/a.state.itemHeight);a.setState({itemsPerPage:c,visibleEnd:c,displayEnd:Math.min(2*c,a.state.items.length)})},getScrollState:function(a,b){var c=this,d=c.state,e=c.refs.scrollable.getDOMNode().scrollTop,f=d.itemsPerPage,g=Math.floor(e/a),h=Math.min(g+f,b),i=Math.max(0,g-f),j=Math.min(h+f,b);return{visibleStart:g,visibleEnd:h,displayStart:i,displayEnd:j,scrollTop:e}},onScroll:function(){var a=this,b=a.state,c=b.itemHeight,d=b.items.length;a.setState(a.getScrollState(c,d),a.loadMore)},_shouldLoad:function(){var a=this.state,b=a.items.length,c=a.displayStart;return!a.loading&&a.hasMoreItems&&b-c<a.loadThreshold*a.itemsPerPage},loadMore:function(){var a=this;a._shouldLoad()&&(a.setState({loading:!0}),a.props.loadMore())},render:function(){var a,b,c,d=this,f=d.props,g=d.state,h=g.itemHeight,i=g.items,j=g.displayStart,k=g.displayEnd,l=j*h,m=Math.max((i.length-1-k)*h,0),n=d.props.LoadMoreComponent,o=[];for(o.push(e.createElement("li",{key:"top",line:"top",style:{height:l}})),a=j;k>a;a++)b=i[a],c=e.createElement("li",{key:"row-"+a,className:f.itemClass,style:{height:h}},e.createElement(b.descriptor,b.props)),o.push(c);return o.push(e.createElement("li",{key:"bottom",line:"bottom",style:{height:m}})),this.state.loading&&this.props.LoadMoreComponent&&o.push(e.createElement("li",{key:"loading"},e.createElement(n,null))),e.createElement("div",{className:this.props.className,ref:"scrollable",onScroll:this.onScroll},e.createElement("ul",{className:"Reset"},o))}}),b.exports=d},{lodash:"lodash","react/addons":"react/addons"}]},{},[10]);require=function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){var d="#Stencil .search-folder-scope-dd,.search-content button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.suggestion-adv-search button{background:transparent;border:0;outline:0;margin:0;padding:0}#Stencil .search-folder-scope-dd,.search-content button{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.suggestion-adv-search button{background:transparent;border:0;outline:0;margin:0;padding:0}.suggestion-adv-search,.suggestion-search-web{border-top:1px solid #e5e5e5;line-height:3rem}.suggestion-adv-search{padding-right:15px;text-align:right}.suggestion-adv-search button:hover,.suggestion-adv-search button:focus,.menu-active-item .suggestion-adv-search button{color:rgba(117,144,245,.8)}.suggestion-adv-search button:active{color:#7590f5}.suggestion-row,.suggestion-row-icon{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex}.suggestion-row{cursor:pointer}.suggestion-row-content,.suggestion-search-web-shortcut{color:gray}.suggestion-row-icon{width:53px;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.suggestion-row-icon.icon-search-web{font-size:1.8rem;padding-right:0}.suggestion-row-content{-webkit-box-flex:1;-webkit-flex-grow:1;-moz-box-flex:1;-ms-flex-positive:1;flex-grow:1;text-overflow:ellipsis;position:relative;overflow:hidden}.suggestion-search-web-shortcut{padding-right:15px;padding-left:10px;font-family:inherit}.suggestion-row-icon,.suggestion-search-web-shortcut{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}body{background:none}.StencilRoot input,.StencilRoot select,.StencilRoot textarea{box-shadow:none}.StencilRoot table{margin:0}.parens::before{content:'('}.parens::after{content:')'}.label-text{color:#7f7f7f}.button-plain{background:none repeat scroll 0 0 transparent;border:none;margin:0;outline:none;padding:0}#mail-search-btn,#web-search-btn{background-color:#198fff;border:0;border-radius:2px;box-shadow:#063a93 0 2px 0 0;color:#FFF;line-height:32px;margin:0 0 0 6px;padding-top:0;padding-bottom:0;min-width:117px}#web-search-btn{background-color:#3775dd;box-shadow:#21487f 0 2px 0 0}#Stencil .bdc-g{border-color:#e5e5e5}#Stencil .c-s{color:silver}#Stencil .c-w{color:#fff}#Stencil .c-b{color:black}#Stencil .c-bb{color:#1c89ff}#Stencil .c-bbb{color:#1567bf}#Stencil .bgc-w{background-color:#fff}#Stencil .bgc-lg{background-color:#f2f2f2}#Stencil .bgc-g{background-color:#ededed}#Stencil .c-n{color:#000}#Stencil .c-g,.icon-light{color:#999}.icon-light:hover{color:#333}#Stencil .ff-h{font-family:Helvetica Neue,Segoe UI,Helvetica,Arial,Lucida Grande,sans-serif}#Stencil .bgc-lb,#Stencil button.bgc-lb:hover,#Stencil button.bgc-lb:active{background-color:#198fff}#Stencil .bdrc-lb,#Stencil button.bdrc-lb:hover,#Stencil button.bdrc-lb:active{border-color:#198fff}#Stencil .bgc-db,#Stencil button.bgc-db:hover,#Stencil button.bgc-db:active{background-color:#3775dd}#Stencil .bdrc-db,#Stencil button.bdrc-db:hover,#Stencil button.bdrc-db:active{border-color:#3775dd}#Stencil .bxsh-lb{box-shadow:0 2px #063a93}#Stencil .bxsh-db{box-shadow:0 2px #21487f}#Stencil .bdrs-4{border-radius:4px}#Stencil .bxshb-1{box-shadow:0 1px 1px #cdcdcd}#Stencil .mwpx-860{max-width:860px}#Stencil .miwpx-117{min-width:117px}#Stencil .hpx-30{height:30px}#Stencil .hpx-34{height:34px}#Stencil .hpx-35{height:35px}#Stencil .hpx-36{height:36px}#Stencil .hpx-40{height:40px}#Stencil .lh-10{line-height:10px}#Stencil .lh-14{line-height:14px}#Stencil .lh-30{line-height:30px}#Stencil .lh-40{line-height:40px}#Stencil .wpx-40{width:40px}#Stencil .mt-3{margin-top:3px}#Stencil .bgr-nr{background-repeat:no-repeat}#Stencil .Py-5{padding-top:5px;padding-bottom:5px}#Stencil .pb-26{padding-bottom:26px}#Stencil .Cur-t{cursor:text}#Stencil .fz-12{font-size:1.2rem}#Stencil .fz-14,#Stencil .fz-ms{font-size:1.4rem}.search-autocomplete{-moz-box-sizing:border-box;box-sizing:border-box;z-index:3;position:relative}.search-content{display:table-row}.search-autocomplete{display:table-cell;vertical-align:middle}.search-buttons{display:table-cell}#mail-search-btn{margin-left:6px}#Stencil .adv-search-container{border:1px solid #DDD;border-radius:0 0 3px 3px;margin:0 1px}#Stencil .adv-search-container [dir]{text-align:inherit}#Stencil .lt .adv-search-container{border-width:1px 0}#Stencil #adv-search-from ul,#Stencil #adv-search-to ul{box-shadow:none;border-width:1px;max-height:250px;overflow-y:auto}#Stencil .adv-search-container .typeahead-input:focus,#Stencil .adv-search-container input:focus{border-color:#7590f5;box-shadow:none}#Stencil .adv-search-container input{border-radius:2px}#Stencil .adv-search-container .custom-select::after{margin-top:8px}#Stencil .search-autocomplete .menu-active-item .icon-small-close,#Stencil .search-autocomplete li:hover .icon-small-close{display:block}.search-autocomplete .menu-active-item .adv-search-button,.adv-search-button:hover{border-radius:3px;background-color:#e5e5e5}#Stencil .custom-select select{background-color:transparent!important}#Stencil .offscreen{position:absolute;left:-9999px}#Stencil .search-folder-scope-dd{background:#FFF;border:1px solid #7590f5;border-left:0;-moz-box-sizing:border-box;box-sizing:border-box;color:#000;outline:0;margin:0;padding:0 26px 0 0;position:absolute;right:0;top:0;z-index:1;height:34px;max-width:120px}#Stencil .search-folder-scope-dd::-moz-focus-inner{padding:0;border:0}#Stencil .search-folder-scope-dd .search-folder-name,#Stencil .search-folder-scope-dd .icon-chevron{color:#7590f5;line-height:34px}#Stencil .search-folder-scope-dd .search-folder-name{font-size:1.3rem;padding-left:10px;-moz-transform:translateY(-1px)}.search-content button:hover .icon-chevron,.search-content button:focus .icon-chevron,.search-content button:active .icon-chevron{opacity:1}.search-content button.opened .icon-chevron::before{content:\"\\e056\"}.search-content button .icon-chevron{letter-spacing:-12px;line-height:inherit;opacity:.5;padding:0;position:absolute;top:0;right:10px;-moz-transform:translateY(1px);-webkit-transition:opacity 200ms ease-in-out;transition:opacity 200ms ease-in-out}.search-content button .icon-chevron::before{content:\"\\e055\";position:relative;left:-6px;top:1px}.search-folder-name{-moz-box-sizing:border-box;box-sizing:border-box;display:block;max-width:100%;overflow:hidden;text-overflow:ellipsis;vertical-align:middle;white-space:nowrap}";a("./../../../jarvis/node_modules/cssify")(d),b.exports=d},{"./../../../jarvis/node_modules/cssify":23}],2:[function(a,b,c){var d={str_advanced_mail_search:"進階信件搜尋",str_all_email_types:"所有電子信件類型",str_all_except_trash:"垃圾筒以外的所有信件匣",str_all_folders:"所有信件匣",str_all_mail:"所有信件",str_any_time:"任何時間",str_better:"更佳",str_close:"關閉",str_contact_suggestion_onboarding_description:"點選此聯絡人以獲得{{better}}的搜尋結果。",str_contact_suggestion_onboarding_title:"智慧聯絡人",str_contains:"包含",str_custom_date:"自訂日期...",str_date:"日期",str_finance:"理財",str_financial:"理財",str_folder_chats:"即時訊息",str_folder_drafts:"草稿匣",str_folder_draft:"草稿匣",str_folder_inbox:"收件匣",str_folder_search_onboarding_description:"點選箭頭以在{{folders}}內進行搜尋和查看更多搜尋選項。",str_folder_search_onboarding_title:"更聰明的搜尋",str_folder_sent:"寄件備份匣",str_folders_lowercase:"信件匣",str_folder_spam:"Spam",str_folder_trash:"垃圾筒",str_folder:"信件匣",str_from_people:"發佈者",str_from:"寄件者",str_has_attachment:"具有夾檔",str_has_image:"具有影像",str_important:"重要",str_in_the_last_30_days:"最近 30 天",str_in_the_last_7_days:"最近 7 天",str_onboarding_got_it_btn:"知道了",str_personal:"個人（非系統信）",str_search_advanced:"按下 ENTER 以開啟進階搜尋窗格",str_search_btn:"搜尋",str_search_calendar:"搜尋行事曆",str_search_contacts:"搜尋聯絡人",str_search_for_contact:"搜尋信箱以尋找聯絡人 {{ contactName }}",str_search_for_recent:"搜尋信箱以尋找最近搜尋的 {{ keyword }}",str_search_in_folder:"搜尋範圍：",str_search_mail_for:"搜尋信箱以尋找關鍵字 {{ keyword }}",str_search_mail:"搜尋信件",str_search_notepad:"搜尋筆記本",str_search_web_for:"搜尋網路以尋找關鍵字 {{ keyword }}",str_search_web:"搜尋網頁",str_search:"搜尋",str_select_starred:"已標示星號",str_select_unread:"未讀取",str_shopping:"購物",str_social_updates:"好友動態",str_social:"社交",str_starred:"已標示星號",str_subject:"主旨",str_suggestion_email_singular:"{{emailAddress}}",str_suggestion_other_email_plural:"{{emailAddress}} 和其他 {{number}} 封電子信件",str_suggestion_other_email_singular:"{{emailAddress}} 和其他 1 封電子信件",str_suggestions_available:"{{ count }} 個可用的建議。 使用向上與向下鍵來瀏覽。",str_suggestions_not_available:"無可用的建議。",str_to_lowercase:"至",str_to:"收件者",str_travel:"旅遊",str_type:"類型",str_unread:"未讀取",str_web_search_shortcut:"Shift + Enter",str_web_search:"網頁搜尋",last:null};b.exports=d},{}],3:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("SearchConstants"),g=a("../mixins/DropdownMixin"),h=a("Context"),i=a("FolderStore"),j=a("./ContactTypeAhead.jsx"),k=a("../../../../artifacts/lang"),l=a("DOMUtils"),m=a("StringUtils");d=e.createClass({displayName:"AdvancedSearch",propTypes:{},mixins:[e.addons.LinkedStateMixin,g,h],getInitialState:function(){return{dateValue:""}},componentDidMount:function(){var a=this;a.prepopulateInputs(a.props.query.keyword),a.focusFirstElement()},render:function(){var a=this,b=e.addons.classSet({Dn:"custom"!==a.state.dateValue}),c="Btn default miwpx-117 bgc-lb bdrc-lb Mt-14 Bgi-n c-w Mend-6 Bdrs-6 bxsh-lb Va-t Py-5 hpx-30";return e.createElement("div",null,e.createElement("button",{className:"button-plain Fl-end Mx-14 Mt-14 Mb-6",title:k.str_close,onClick:a.props.setClosed},e.createElement("span",{className:"icon icon-small-close icon-light lh-10 Pend-0"})),e.createElement("form",{className:"c-b Bgc-w Px-20 Pt-0 pb-26 adv-search-container",onKeyDown:a.handleKeyDown,onChange:a.handleChange,onSubmit:a.handleSubmit},e.createElement("table",{className:"W-100",role:"presentation"},e.createElement("col",{width:"75px"}),e.createElement("col",null),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},k.str_from),e.createElement("td",{role:"presentation",className:"Pstart-0",id:"adv-search-from",onKeyDown:a.handleFromKeyDown},e.createElement(j,{ref:"from",id:f.ADV_SEARCH_CONTACT_SUGGEST_FROM,onChange:a.handleChange}))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},k.str_to),e.createElement("td",{role:"presentation",className:"Pstart-0",id:"adv-search-to"},e.createElement(j,{ref:"to",id:f.ADV_SEARCH_CONTACT_SUGGEST_TO,onChange:a.handleChange}))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},e.createElement("label",{htmlFor:"adv-search-subject"},k.str_subject)),e.createElement("td",{role:"presentation",className:"Pstart-0"},e.createElement("input",{type:"text",ref:"subject",id:"adv-search-subject",className:"W-100 Py-6 My-4"}))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},e.createElement("label",{htmlFor:"adv-search-contains"},k.str_contains)),e.createElement("td",{role:"presentation",className:"Pstart-0"},e.createElement("input",{type:"text",ref:"contains",id:"adv-search-contains",className:"W-100 Py-6 My-4"}))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},e.createElement("label",{htmlFor:"adv-search-date"},k.str_date)),e.createElement("td",{role:"presentation",className:"Pstart-0 Va-m"},e.createElement("div",{className:"custom-select W-100"},e.createElement("select",{className:"W-100 Py-6 My-4",ref:"date",id:"adv-search-date",valueLink:a.linkState("dateValue")},e.createElement("option",{value:""},k.str_any_time),e.createElement("option",{value:"week"},k.str_in_the_last_7_days),e.createElement("option",{value:"month"},k.str_in_the_last_30_days),e.createElement("option",{value:"custom"},k.str_custom_date))))),e.createElement("tr",{role:"presentation",className:b},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0"}),e.createElement("td",{role:"presentation",className:"Pstart-0 Va-m"},e.createElement("div",null,e.createElement("div",{className:"D-ib"},e.createElement("input",{className:"Py-6 My-4",type:"text",size:"12",maxLength:"10",placeholder:"YYYY/MM/DD",ref:"fromDate"})),e.createElement("span",{className:"D-ib Mx-10"},k.str_to_lowercase),e.createElement("div",{className:"D-ib"},e.createElement("input",{className:"Py-6 My-4",type:"text",size:"12",maxLength:"10",placeholder:"YYYY/MM/DD",ref:"toDate"}))))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},e.createElement("label",{htmlFor:"adv-search-folder"},k.str_folder)),e.createElement("td",{role:"presentation",className:"Pstart-0 Va-m"},e.createElement("div",{className:"custom-select W-100"},e.createElement("select",{className:"W-100 Py-6 My-4",id:"adv-search-folder",ref:"folder"},e.createElement("option",{value:""},k.str_all_except_trash),e.createElement("option",{value:"Inbox"},k.str_folder_inbox),e.createElement("option",{value:"Draft"},k.str_folder_drafts),e.createElement("option",{value:"Sent"},k.str_folder_sent),e.createElement("option",{value:"Instant Messages"},k.str_folder_chats),e.createElement("option",{value:"Trash"},k.str_folder_trash),a.getUserFolders().map(function(a){return e.createElement("option",{key:a.folderInfo.fid,value:a.folderInfo.name},a.folderInfo.name)}))))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Va-m Pstart-0 label-text"},e.createElement("label",{htmlFor:"adv-search-type"},k.str_type)),e.createElement("td",{role:"presentation",className:"Pstart-0 Va-m"},e.createElement("div",{className:"custom-select W-100"},e.createElement("select",{id:"adv-search-type",className:"W-100 Py-6 My-4",ref:"type"},e.createElement("option",{value:""},k.str_all_email_types),e.createElement("option",{value:"unread"},k.str_select_unread),e.createElement("option",{value:"starred"},k.str_select_starred),e.createElement("option",{value:"personal"},k.str_from_people),e.createElement("option",{value:"shopping"},k.str_shopping),e.createElement("option",{value:"travel"},k.str_travel),e.createElement("option",{value:"social"},k.str_social_updates),e.createElement("option",{value:"financial"},k.str_finance))))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Pstart-0"}),e.createElement("td",{role:"presentation",className:"Pstart-0"},e.createElement("label",{className:"cbox Mt-10"},e.createElement("input",{type:"checkbox",ref:"attachment",id:"adv-search-attachment"}),e.createElement("span",{className:"icon c-b"}),e.createElement("span",{className:"text"},k.str_has_attachment)))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Pstart-0"}),e.createElement("td",{role:"presentation",className:"Pstart-0"},e.createElement("label",{className:"cbox Mt-10"},e.createElement("input",{type:"checkbox",ref:"image",id:"adv-search-image"}),e.createElement("span",{className:"icon c-b"}),e.createElement("span",{className:"text"},k.str_has_image)))),e.createElement("tr",{role:"presentation"},e.createElement("td",{role:"presentation",className:"Pstart-0"}),e.createElement("td",{role:"presentation",className:"Pstart-0"},e.createElement("button",{onKeyDown:a.handleButtonKeyDown,type:"submit",ref:"advSearchBtn",className:c},k.str_search_mail))))))},handleSubmit:function(a){var b=this;b.props.handleMailSearch("search_box_adv_search"),b.props.setClosed(),l.halt(a)},handleChange:function(){var a=this,b=a.refs,c={from:b.from.getInputValue(),to:b.to.getInputValue(),subject:b.subject.getDOMNode().value,contains:b.contains.getDOMNode().value,date:b.date.getDOMNode().value,folder:b.folder.getDOMNode().value,type:b.type.getDOMNode().value,attachment:b.attachment.getDOMNode().checked,image:b.image.getDOMNode().checked,fromDate:b.fromDate.getDOMNode().value,toDate:b.toDate.getDOMNode().value};a.props.setContainerValue(a.convertToKeyword(c))},handleButtonKeyDown:function(a){"Tab"!==a.key||a.shiftKey||(this.focusFirstElement(),l.halt(a))},handleFromKeyDown:function(a){"Tab"===a.key&&a.shiftKey&&(this.refs.advSearchBtn.getDOMNode().focus(),l.halt(a))},handleKeyDown:function(a){"Escape"===a.key&&this.props.setClosed(),a.stopPropagation()},appendSearchQuery:function(a,b,c){a.push(c.match(/\s/)&&b?b+'"'+c+'"':b+""+c)},convertToKeyword:function(a){var b,c,d,e=this,f=[];return a.from&&e.appendSearchQuery(f,"from:",a.from),a.to&&e.appendSearchQuery(f,"to:",a.to),a.subject&&e.appendSearchQuery(f,"subject:",a.subject),a.contains&&e.appendSearchQuery(f,"",a.contains),"*trash"===a.folder?e.appendSearchQuery(f,"-in:trash",""):a.folder&&e.appendSearchQuery(f,"in:",a.folder),a.type&&e.appendSearchQuery(f,"is:",a.type),a.attachment&&e.appendSearchQuery(f,"has:attachment",""),a.image&&e.appendSearchQuery(f,"has:image",""),a.date&&(b=new Date,"week"===a.date?(d=b.getFullYear()+"/"+(b.getMonth()+1)+"/"+b.getDate(),b.setDate(b.getDate()-7),c=b.getFullYear()+"/"+(b.getMonth()+1)+"/"+b.getDate()):"month"===a.date?(d=b.getFullYear()+"/"+(b.getMonth()+1)+"/"+b.getDate(),b.setDate(b.getDate()-30),c=b.getFullYear()+"/"+(b.getMonth()+1)+"/"+b.getDate()):"custom"===a.date&&(c=a.fromDate,d=a.toDate),c&&e.appendSearchQuery(f,"after:",c),d&&e.appendSearchQuery(f,"before:",d)),f.join(" ")},focusFirstElement:function(){this.refs.from.focus()},getUserFolders:function(){return this.getStore(i).getUserFolders()},getSystemFolders:function(){return this.getStore(i).getSearchableSystemFolders()},getFolderName:function(a){return a.folderInfo.name},getAllFolders:function(){var a=this;return a.getSystemFolders().concat(a.getUserFolders())},getAllFolderNames:function(){var a=this;return a.getAllFolders().map(a.getFolderName)},runRegularExpression:function(a,b,c){for(var d=a.exec(b),e=b;d;)c(d[1],d[2])&&(e=e.replace(d[0],"")),d=a.exec(b);return e},matchFromToSubject:function(a,b){var c=this.refs;return b.match(/\s/)&&(b=b.replace(/(['"])(.*)\1/,"$2").replace(/\\(['"])/g,"$1")),"subject"===a?c[a].getDOMNode().value=b:c[a].setInputValue(b),!0},matchDates:function(a,b){var c=this.refs;return isNaN(new Date(b).getTime())?!1:(c.date.getDOMNode().value="custom","after"===a?c.fromDate.getDOMNode().value=b:c.toDate.getDOMNode().value=b,!0)},matchHasIn:function(a,b){var c,d,e,f=this,g=f.refs;return c=b.match(/(["'])(.*)\1/),c&&(b=c[2]),"has"===a?d=["attachment","image"]:"is"===a?(a="type",d=["unread","starred","personal","shopping","travel","social","financial"]):"in"===a&&(a="folder",d=f.getAllFolderNames(),e=f.getSystemFolders().map(f.getFolderName),-1!==e.indexOf(m.capitalize(b))&&(b=m.capitalize(b))),d.indexOf(b)>=0?("has"===a?g[b].getDOMNode().checked=!0:g[a].getDOMNode().value=b,!0):!1},prepopulateInputs:function(a){var b=this,c=b.refs;b.props.folder&&(c.folder.getDOMNode().value=b.props.folder),a=b.runRegularExpression(f.REGEX_FROM_TO_SUBJECT,a,b.matchFromToSubject),a=b.runRegularExpression(f.REGEX_AFTER_BEFORE,a,b.matchDates),a=b.runRegularExpression(f.REGEX_HAS_IS_IN,a,b.matchHasIn),c.contains.getDOMNode().value=a.replace(/\s+/," ").trim(),b.handleChange()}}),b.exports=d},{"../../../../artifacts/lang":2,"../mixins/DropdownMixin":10,"./ContactTypeAhead.jsx":5,Context:"Context",DOMUtils:"DOMUtils",FolderStore:"FolderStore",SearchConstants:"SearchConstants",StringUtils:"StringUtils","react/addons":"react/addons"}],4:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("StringUtils");d=e.createClass({displayName:"ContactSuggestion",render:function(){var a=e.addons.classSet({Ell:!0,"menu-active-item":this.props.isSelected});return e.createElement("div",{className:a,dir:f.getTextDirection(this.props.data.displayStr)},e.createElement("span",{className:"Mx-4"},this.boldify(f.getBidiString(this.props.data.displayStr),this.props.inputValue)),e.createElement("span",{className:"Mx-4 parens",dir:"ltr"},this.boldify(this.props.data.emailAddresses[0],this.props.inputValue)))},boldify:function(a,b){var c=f.indexOfIgnoreCase(a,b),d=c+b.length;return c>=0?e.createElement("span",null,a.substring(0,c),e.createElement("strong",null,a.substring(c,d)),a.substring(d)):e.createElement("span",null,a)}}),b.exports=d},{StringUtils:"StringUtils","react/addons":"react/addons"}],5:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("../../../../artifacts/lang"),h=a("SearchActions"),i=a("../../stores/ContactSuggestionsStore"),j=a("SearchQueryStore"),k=a("Typeahead"),l=a("./ContactSuggestion.jsx"),m=a("StringUtils"),n=a("Context");d=e.createClass({displayName:"ContactTypeahead",mixins:[n],getInitialState:function(){return{items:[],inputValue:""}},componentDidMount:function(){this.getStore(i).on("changed",this.updateItems)},componentWillUnmount:function(){this.getStore(i).removeListener("changed",this.updateItems)},render:function(){var a=this;return e.createElement(k,{ref:"typeahead",items:a.state.items,inputValue:a.state.inputValue,disabled:a.props.disabled,itemTemplate:l,onChange:a.handleChange,onComplete:a.handleComplete,getItemValue:a.getItemValue,getAriaCountMessage:a.getAriaCountMessage,getAriaSuggestionMessage:a.getAriaSuggestionMessage,handleInputHint:a.handleInputHint})},updateItems:function(){this.setState({items:this.getStore(i).get(this.props.id)})},handleChange:function(a){var b=this;b.executeAction(h.getContactSuggestions,{query:b.getStore(j).createQuery({keyword:a.inputValue}),searchId:b.props.id}),b.setState({inputValue:a.inputValue},b.props.onChange)},handleInputHint:function(a,b){var c="",d=b.displayStr,e=b.emailAddresses[0],f=new RegExp("^"+m.escapeRegExp(a),"i");return f.test(d)?c=d:f.test(e)&&(c=e),c},handleComplete:function(a,b){this.handleChange({inputValue:b?b.emailAddresses[0]:a.value})},getItemValue:function(a){return a.emailAddresses[0]},getInputValue:function(){return this.state.inputValue},focus:function(){this.refs.typeahead.focus()},setInputValue:function(a){this.setState({inputValue:a},this.props.onChange)},getAriaCountMessage:function(a){return a?f.template(g.str_suggestions_available,null)({count:a}):g.str_suggestions_not_available},getAriaSuggestionMessage:function(a){return a?a.displayStr:void 0}}),b.exports=d},{"../../../../artifacts/lang":2,"../../stores/ContactSuggestionsStore":14,"./ContactSuggestion.jsx":4,Context:"Context",SearchActions:"SearchActions",SearchQueryStore:"SearchQueryStore",StringUtils:"StringUtils",Typeahead:"Typeahead",lodash:"lodash","react/addons":"react/addons"}],6:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("Context"),h=a("SearchConstants"),i=a("SearchActions"),j=a("ObjectUtils"),k=a("../../stores/BootcampSuggestionsStore"),l=a("FolderStore"),m=a("UserSettingsStore"),n=a("OnboardingStore"),o=a("../../stores/RecentSearchesStore"),p=a("SearchQueryStore"),q=a("../../stores/SearchSuggestionsStore"),r=a("../../stores/WebSearchSuggestionsStore"),s=a("TabStore"),t=a("../dropdown/FolderDropdown.jsx"),u=a("./AdvancedSearch.jsx"),v=a("./SearchButton.jsx"),w=a("Token"),x=a("TokenizedTypeahead"),y=a("./Suggestion.jsx"),z=a("Onboarding"),A=a("../../../../artifacts/lang"),B=a("DOMUtils"),C=a("StringUtils"),D=a("StatService"),E=yui.common.Utils.features,F=a("../../stores/SearchSuggestion");d=e.createClass({displayName:"Container",mixins:[g],getInitialState:function(){return{hasShownFolderSearchOnboarding:!0,hasShownContactSuggestionOnboarding:!0,isAdvancedPaneOpen:!1,keyword:"",tokens:[],preventSuggestionHighlight:!1,suggestions:this.getStore(q).get(this.getSearchId())}},componentDidMount:function(){var a=this,b=a.getContext();a.getStore(s).on("changed",a.handleTabChange),a.getStore(p).on("changed",a.queryUpdated),a.getStore(k).on("changed",a.updateBootcampSuggestions),a.getStore(r).on("changed",a.updateSuggestions),a.getStore(o).on("changed",a.updateSuggestions),a.getStore(m).on("changed",a.handleUserDataUpdate),b.events.on("search:advancedSearch:open",a.showAdvancedPane),b.events.on("search:advancedSearch:close",a.handleClose),b.events.on("search:advancedSearch:toggle",a.toggleAdvancedPane),a._yuiEvents.push(yui.on("search:jumpToSearch",a.handleJumpToSearch)),a._yuiEvents.push(yui.on("search:jumpToAdvancedSearch",a.handleJumpToAdvSearch)),a._yuiEvents.push(yui.on("contactDetails:contactDataFetched",a.handleContactDataFetched)),a._yuiEvents.push(yui.on("fireSearch",a.handleFireSearch)),a._yuiEvents.push(yui.on("search:setSearchQuery",a.handleSmartFolder)),a._yuiEvents.push(yui.on("search:fireBootcampSearch",a.handleBootcampSearch)),a._yuiEvents.push(yui.on("search:focus",a.refs.typeahead.focus)),a._yuiEvents.push(yui.on("ui:currentFolder",a.setFolderScope)),a._yuiEvents.push(yui.on("search:fireCustomViewSearch",a.doSavedSearch)),a.fetchSuggestionsThrottled=f.throttle(function(b){a.fetchSuggestions(b)},200)},componentWillUnmount:function(){var a=this,b=a.getContext();a.getStore(s).removeListener("changed",a.handleTabChange),a.getStore(p).removeListener("changed",a.queryUpdated),a.getStore(k).removeListener("changed",a.updateBootcampSuggestions),a.getStore(r).removeListener("changed",a.updateSuggestions),a.getStore(o).removeListener("changed",a.updateSuggestions),b.events.removeListener("search:advancedSearch:open",a.showAdvancedPane),b.events.removeListener("search:advancedSearch:close",a.handleClose),a._yuiEvents.forEach(function(a){a.detach()})},render:function(){var a=this,b="",c=a.isACEnabled()?a.state.suggestions:[],d=a.shouldFolderDropdownRender()?a.state.endPadding:null;return E.enabled("searchBoxPlaceholder")&&0===a.state.tokens.length&&(b=A.str_search),e.createElement("div",{className:"search-content"},e.createElement("div",{className:"search-autocomplete Fz-s Mend-6 W-100 ff-h Bgc-t c-n"},e.createElement(x,{ref:"typeahead",inputValue:a.state.isCollapsedQuery?"":a.state.keyword,items:c,tokens:a.state.tokens,tokenTemplate:w,itemTemplate:y,placeholder:b,onFocus:a.handleFocus,onChange:a.handleChange,onComplete:a.handleComplete,onKeyUp:a.handleKeyUp,onKeyPress:a.handleKeyPress,onKeyDown:a.handleKeyDown,getItemValue:a.getItemValue,getAriaCountMessage:a.getAriaCountMessage,getAriaSuggestionMessage:a.getAriaSuggestionMessage,handleInputHint:a.handleInputHint,endPadding:d,handleDestroyToken:a.handleDestroyToken}),a.renderFolderDropdown(),a.renderAdvancedSearch()),a.renderButtons(),a.renderFolderSearchOnboarding(),a.renderContactSuggestionOnboarding())},renderAdvancedSearch:function(){var a=this;return a.state.isAdvancedPaneOpen&&a.isACEnabled()?e.createElement(u,{folder:a.getFolderScope(),query:a.getQuery(),setContainerValue:a.setContainerValue,setClosed:a.handleClose,handleMailSearch:a.handleMailSearch}):void 0},renderButtons:function(){var a=this;return e.createElement("div",{className:"search-buttons"},e.createElement(v,{searchLabel:a.getSearchBtnText(),handleSearch:a.handleMailSearch}),e.createElement(v,{searchLabel:A.str_search_web,handleSearch:a.handleWebSearchBtn,id:"web-search-btn"}))},shouldRenderFolderSearchOnboarding:function(){var a=this;return!(a.state.hasShownFolderSearchOnboarding||a.refs.typeahead.refs.typeahead.refs.input.getDOMNode()!==document.activeElement||a.getStore(n).hasOnboardingInView()&&"hasShownFolderSearchOnboarding"!==a.getStore(n).get())},_hasPeopleSuggestion:function(){var a=this,b=a.isACEnabled()?a.getStore(k).get(a.getSearchId()):[];return b.length},shouldInitializeContactSuggestionOnboarding:function(){var a=this,b=a.getStore(m).get("metaData"),c=b.get("hasShownContactSuggestionOnboarding");return(E.enabled("contactSuggestionOnboarding")&&!c||-1!==window.location.search.indexOf("contactSuggestionTutorial")&&NeoConfig.isInternal)&&a._hasPeopleSuggestion()},shouldRenderContactSuggestionOnboarding:function(){var a=this,b=a.getStore(n);return!a.state.hasShownContactSuggestionOnboarding&&a._hasPeopleSuggestion()&&(!b.hasOnboardingInView()||"hasShownContactSuggestionOnboarding"===b.get())},renderContactSuggestionOnboarding:function(){var a,b,c,d,f,g=this;return g.shouldRenderContactSuggestionOnboarding()&&(d=g.refs.typeahead.refs.typeahead.refs.typeaheadList,a=d&&d.getDOMNode(),f=166,a)?(b=a.getBoundingClientRect(),c={x:b.left-10-f,y:b.top-5},e.createElement(z,{templateType:"OnboardingText",metaDataKey:"hasShownContactSuggestionOnboarding",id:"contactSuggestionOB",width:f,dir:"right",title:A.str_contact_suggestion_onboarding_title,body:C.stringReplace(A.str_contact_suggestion_onboarding_description,{better:A.str_better}),buttonText:A.str_onboarding_got_it_btn,coordinates:c})):void 0},renderFolderSearchOnboarding:function(){var a,b,c,d=this;return d.shouldRenderFolderSearchOnboarding()?(a=d.refs.folderMenu.getDOMNode(),b=a.getBoundingClientRect(),c={x:b.left-16,y:b.top+45},e.createElement(z,{templateType:"OnboardingText",metaDataKey:"hasShownFolderSearchOnboarding",id:"folderSearchOB",width:240,dir:"top",title:A.str_folder_search_onboarding_title,body:C.stringReplace(A.str_folder_search_onboarding_description,{folders:e.createElement("b",null,A.str_folders_lowercase)}),buttonText:A.str_onboarding_got_it_btn,coordinates:c})):void 0},renderFolderDropdown:function(){var a=this;return a.shouldFolderDropdownRender()?e.createElement(t,{ref:"folderMenu",current:a.getFolderScope(),changeFolder:a.setFolderScope,openAdvancedSearch:a.showAdvancedPane,updateContainerEndPadding:a.setEndPaddingOverride}):void 0},generateTokens:function(a){var b=[];return a.displayName?[{displayStr:a.displayName,type:"savedSearch",className:a.isSavedSearch?"icon icon-pinned":""}]:(a.refinements&&a.refinements.length&&(b=b.concat(a.refinements.map(function(a){var b,c,d=a.split(":");return b="in"===d[0]?{displayStr:A["str_folder_"+l.normalizeFid(d[1])]||d[1],refinementStr:a,type:"refinement",className:"icon icon-folder",dataValue:l.normalizeFid(d[1])||d[1],innerClassName:"search-folder-name"}:{displayStr:A["str_"+d[1].toLowerCase()]||d[1],refinementStr:a,dataValue:d[1].toLowerCase(),type:"refinement"},c=b.displayStr,/^\".*\"$/.test(c)&&(b.displayStr=c.substring(1,c.length-1)),b}))),a.suggestion&&b.push(f.assign(a.suggestion,{type:"bootcamp",fallbackImageUrl:h.PERSON_TOKEN_FALLBACK_IMG_DATA})),b)},handleDestroyToken:function(a){var b=this,c=b.getQuery(),d=c.suggestion,e=c.refinements;switch(a.type){case"bootcamp":d=null;break;case"refinement":e=e.filter(function(b){return b!==a.refinementStr});break;case"savedSearch":c.keyword="",c.displayName=null,c.isSavedSearch=!1,d=null,e=[];break;default:return}b.setQuery(b.getStore(p).createQuery({keyword:c.keyword,refinements:e,suggestion:d}))},shouldFolderDropdownRender:function(){var a=this.getStore(s);return a.isSearchTabActive()||a.getTabId()===h.OTHER_TAB||a.getTabId()===h.FOLDER_TAB},getAriaCountMessage:function(a){return a?f.template(A.str_suggestions_available,null)({count:a}):A.str_suggestions_not_available},getAriaSuggestionMessage:function(a){var b=a?a.intent:"";switch(b){case"RECENT_SEARCH":return f.template(A.str_search_for_recent,null)({keyword:a.displayStr});case"PEOPLE":return f.template(A.str_search_for_contact,null)({contactName:a.displayStr});case"SEARCH_WEB":return f.template(A.str_search_web_for,null)({keyword:a.displayStr});case"SEARCH_MAIL":return f.template(A.str_search_mail_for,null)({keyword:a.displayStr});case"ADVANCED_SEARCH":return A.str_search_advanced}},getFolderNames:function(){return this.getStore(l).all().map(function(a){return a.folderInfo.name})},getFolderScope:function(){return this.getQuery().getFolderScope()},getItemValue:function(a){
return"ADVANCED_SEARCH"===a.intent?this.getQuery().keyword:a.displayStr},getSearchBtnText:function(){var a;switch(this.getStore(s).getTabId()){case h.NOTEPAD_TAB:a=A.str_search_notepad;break;case h.CALENDAR_TAB:a=A.str_search_calendar;break;case h.CONTACTS_TAB:a=A.str_search_contacts;break;default:a=A.str_search_mail}return a},handleFireSearch:function(a,b){var c,d=this,e=d.getStore(s).getTabId();b=b||{},c=d.getStore(p).createQuery({keyword:a,shouldParseQuery:!0,source:b.source}),E.enabled("searchresults")&&e!==h.NOTEPAD_TAB&&e!==h.CONTACTS_TAB&&e!==h.CALENDAR_TAB?(D.stat({name:"search_fireSearch_fired_in_new_srp"}),d.executeSearch(c)):b.fromReact||d.setQuery(c)},handleSmartFolder:function(a,b){var c,d,e=this,f=a?[a]:[],g=b&&b.categoryName||"";if(b&&b.type)switch(b.type){case"category":f.push(b.query);break;case"people":c=b.token}d=e.getStore(p).createQuery({keyword:f.join(" ").trim(),suggestion:c,displayName:b.displayName,shouldParseKeyword:b.hasOwnProperty("shouldParseKeyword")?b.shouldParseKeyword:!0,source:"smartview_"+g,isSavedSearch:b.isSavedSearch}),E.enabled("searchresults")?e.executeSearch(d):e.setQuery(d,h.SEARCH_TAB)},setFolderScope:function(a,b){var c,d,e,f=this,g=f.getQuery(),i=g.refinements;return a&&(a.fid||a.name)?(c=b?[]:h.UNSEARCHABLE_FIDS.slice(0).concat("Inbox"),a.fid?-1===c.indexOf(a.fid)?(d=f.getStore(l).findByFID(a.fid),d&&(e=d.isSystem?d.folderInfo.fid:d.folderInfo.name)):f.clearFolderScope():a.name&&(-1!==f.getFolderNames().indexOf(a.name)?e=a.name:f.clearFolderScope()),void(e&&(i=i.filter(function(a){return 0!==a.indexOf("in:")}),i.unshift("in:"+e),f.setQuery(f.getStore(p).createQuery({keyword:g.keyword,refinements:i,suggestion:g.suggestion}))))):void f.clearFolderScope()},setTypeaheadFocus:function(){this.refs.typeahead.focus()},setEndPaddingOverride:function(a){this.setState({endPadding:a?a+"px":void 0})},updateSuggestions:function(a){var b=this,c=b.getStore(q).get(b.getSearchId()),d=b.getQuery();(!b.bootcampFetchPending||b.state.suggestions.length>0)&&(d.isEmpty()||c.push(new F({intent:"ADVANCED_SEARCH",displayStr:""})),a?b.setState({suggestions:c},function(){b.setState(a)}):b.setState({suggestions:c}))},updateBootcampSuggestions:function(){var a=this,b={};a.shouldInitializeContactSuggestionOnboarding()&&(b={hasShownContactSuggestionOnboarding:!1}),a.bootcampFetchPending=!1,a.updateSuggestions(b)},handleInputHint:function(a,b){return"SEARCH_MAIL"===b.intent?a:b.getMatchAndRemainder(a)},handleContactDataFetched:function(a){var b=this,c=b.getQuery();c.suggestion&&c.suggestion.displayStr===a.displayName||(c=b.getStore(p).createQuery({keyword:"",suggestion:{intent:"PEOPLE",displayStr:a.displayName,emailAddresses:a.emailAddresses,_rawObj:{id:a.contactId}}}),b.setQuery(c,h.SEARCH_TAB))},handleJumpToAdvSearch:function(a){var b,c=this,d=a.keyword.replace(/\(.*?\)/,"").trim();b=c.getStore(p).createQuery({keyword:d,shouldParseKeyword:!0}),c.setQuery(b),c.showAdvancedPane()},handleJumpToSearch:function(a){var b=this;b.setQuery(b.getStore(p).createQuery({keyword:a.keyword})),b.refs.typeahead.focus()},handleTabChange:function(){var a=this,b=a.getSearchId(),c=a.getQuery();a.setState({suggestions:a.getStore(q).get(b),isAdvancedPaneOpen:!1,keyword:c.keyword,isCollapsedQuery:!!c.displayName,tokens:a.generateTokens(c)})},handleOpen:function(){var a=this;a.fetchSuggestions()},initializeFolderSearchOnboarding:function(){var a=this,b=a.getStore(m).get("metaData"),c=b.get("hasShownFolderSearchOnboarding");(-1!==window.location.search.indexOf("folderSearchTutorial")&&NeoConfig.isInternal||E.enabled("folderSearchOnboarding")&&!c)&&a.setState({hasShownFolderSearchOnboarding:!1})},handleFocus:function(){var a=this;return a.initializeFolderSearchOnboarding(),a.connectToBootcamp(),this.handleOpen()},connectToBootcamp:function(){var a=this;a.bootcampConnected||(a.executeAction(i.connectToBootcamp),a.bootcampConnected=!0)},handleClose:function(){this.setState({isAdvancedPaneOpen:!1})},handleChange:function(a){var b=this,c=b.getQuery();b.setQuery(b.getStore(p).createQuery({keyword:a.inputValue,refinements:c.refinements,suggestion:c.suggestion}))},handleShiftEnter:function(a){"Enter"===a.key&&a.shiftKey&&(D.stat({name:"search_sugg_web_shortcut"}),this.handleWebSearch(this.getQuery().toString()),B.halt(a))},handleKeyUp:function(a){this.handleShiftEnter(a)},handleKeyPress:function(a){this.handleShiftEnter(a)},handleKeyDown:function(a){var b=this,c=b.state.suggestions;("ArrowUp"===a.key||"ArrowDown"===a.key)&&b.isACEnabled()&&!c.length&&b.setState({suggestions:[new F({intent:"ADVANCED_SEARCH",displayStr:""})]})},handleComplete:function(a,b){var c=this,d="Enter"===a.key||"click"===a.type,e=c.getQuery(),f=e.keyword,g=f||"";if(!c.isACEnabled())return c.doNonMailSearch(),c.refs.typeahead.blur(),g;if(!b){if(c.getQuery().isEmpty())return"";b={intent:"SEARCH_MAIL",displayStr:g,keyword:g}}switch(b.intent){case"ADVANCED_SEARCH":d&&c.showAdvancedPane();break;case"SEARCH_WEB":d&&(D.stat({name:"search_sugg_web_click"}),c.handleWebSearch(b.displayStr));break;case"RECENT_SEARCH":d&&(D.stat({name:"search_sugg_search_recent",tags:{numchars:c.getQuery().keyword.length}}),c._triggerUHEvent(!0),g=b.displayStr,c.executeSearch(c.getStore(p).createQuery({keyword:g,shouldParseKeyword:!0,source:"search_box_suggestion_recent"})));break;case"SEARCH_MAIL":c.executeSearch(c.getStore(p).createQuery({keyword:e.keyword,refinements:e.refinements,suggestion:e.suggestion,shouldParseKeyword:!0,source:"search_box_enter"})),c._triggerUHEvent(!0);break;default:d?(c.executeSearch(c.getStore(p).createQuery({keyword:"",suggestion:b,refinements:e.refinements,source:"search_box_suggestion_people"})),c._triggerUHEvent(!0),D.stat({name:"search_sugg_people_click"})):"ArrowRight"===a.key?c.setQuery(c.getStore(p).createQuery({keyword:a.fullInputValue,suggestion:e.suggestion,refinements:e.refinements})):"Tab"===a.key&&(c.setQuery(c.getStore(p).createQuery({keyword:"",suggestion:b,refinements:e.refinements})),D.stat({name:"search_sugg_tab_lozenge",tags:{numchars:c.getQuery().keyword.length}}))}},handleMailSearch:function(a){var b=this,c=b.getQuery();b.isACEnabled()?c.isEmpty()||(b.executeSearch(b.getStore(p).createQuery({keyword:c.keyword,suggestion:c.suggestion,refinements:c.refinements,shouldParseKeyword:!0,source:a,displayName:c.displayName,isSavedSearch:c.isSavedSearch})),D.logRapid("mt:click",{action:"mail_search",spid:"search_results"}),b._triggerUHEvent(!1)):(b.doNonMailSearch(),b.refs.typeahead.blur())},handleWebSearchBtn:function(){D.stat({name:"search_sugg_web_btn"}),this.handleWebSearch(this.getQuery().toWebQueryString())},handleWebSearch:function(a){var b=document.getElementById("UHSearchWeb"),c=document.getElementById("UHSearchBox");b&&c&&a&&(c.value=a,b.click(),D.stat({name:"search_sugg_search_web"}))},getQuery:function(){return this.getStore(p).get(this.getSearchId())},setQuery:function(a,b){var c=this;c.executeAction(i.setQuery,{searchId:b||c.getSearchId(),query:a})},executeSearch:function(a){var b=this;b.executeAction(i.executeSearch,{query:a,searchId:b.getSearchId(),preserveQuery:b.getStore(s).isSearchTabActive()}),b.refs.typeahead.blur()},queryUpdated:function(){var a=this,b=a.getQuery();a.setState({keyword:b.keyword,tokens:a.generateTokens(b),isCollapsedQuery:!!b.displayName},function(){a.fetchSuggestionsThrottled({query:a.getQuery(),searchId:a.getSearchId()})})},fetchSuggestions:function(){var a=this,b=a.getQuery();a.state.isAdvancedPaneOpen||(a.bootcampFetchPending=!0,a.executeAction(i.fetchSuggestions,{query:b,searchId:a.getSearchId()}))},toggleAdvancedPane:function(){var a=this;a.state.isAdvancedPaneOpen?a.handleClose():a.showAdvancedPane()},showAdvancedPane:function(){this.setState({isAdvancedPaneOpen:!0}),D.stat({name:"search_sugg_adv_search_open"})},doNonMailSearch:function(){var a=this,b=a.getStore(s).getTabId(),c=a.getStore(p).createQuery({keyword:a.getQuery().keyword||""});switch(b){case h.CONTACTS_TAB:a.executeAction(i.doContactsSearch,{query:c});break;case h.CALENDAR_TAB:a.executeAction(i.doCalendarSearch,{query:c});break;case h.NOTEPAD_TAB:a.executeAction(i.doNotepadSearch,{query:c})}},doSavedSearch:function(a,b){var c,d=this,e=b&&b.source||"";"Contact"===a.type?(c=d.getStore(p).createQuery({keyword:j.getValue(a,"query.keyword"),displayName:a.name,suggestion:j.getValue(a,"query.suggestion"),refinements:j.getValue(a,"query.refinements")||[],source:e,isSavedSearch:!0}),d.executeAction(i.getPeopleResultsByEmail,{keyword:j.getValue(a,"query.keyword"),email:a.email,query:c,searchId:d.getSearchId(),preserveQuery:d.getStore(s).isSearchTabActive()})):d.executeSearch(d.getStore(p).createQuery({displayName:a.name,keyword:j.getValue(a,"query.keyword"),refinements:j.getValue(a,"query.refinements")||[],shouldParseKeyword:f.isEmpty(j.getValue(a,"query.refinements")),source:e,isSavedSearch:!0}))},handleBootcampSearch:function(a){var b,c=this;f.isObject(a)||(a=h.VALID_EMAIL_REGEX.test(arguments[0])?{query:{keyword:j.getValue(arguments[2],"query.keyword")},email:arguments[0],shouldParseKeyword:arguments[2].shouldParseKeyword,source:arguments[2].source}:{query:{keyword:arguments[0],shouldParseKeyword:arguments[2].shouldParseKeyword,source:arguments[2].source}}),a.email?(b=c.getStore(p).createQuery({keyword:j.getValue(a,"query.keyword")||a.email,source:a.source||"unknown source",displayName:j.getValue(a,"displayName"),suggestion:j.getValue(a,"query.suggestion"),refinements:j.getValue(a,"query.refinements"),shouldParseKeyword:a.shouldParseKeyword,isSavedSearch:a.isSavedSearch}),c.executeAction(i.getPeopleResultsByEmail,{displayName:j.getValue(a,"displayName"),searchId:c.getSearchId(),email:a.email,query:b,suggestion:j.getValue(a,"query.suggestion"),refinements:j.getValue(a,"query.refinements"),preserveQuery:c.getStore(s).isSearchTabActive(),keyword:j.getValue(a,"query.keyword"),name:a.name,isSavedSearch:a.isSavedSearch})):c.executeSearch(c.getStore(p).createQuery({keyword:j.getValue(a,"query.keyword"),displayName:j.getValue(a,"displayName"),source:a.source,suggestion:j.getValue(a,"query.suggestion"),refinements:j.getValue(a,"query.refinements"),shouldParseKeyword:a.shouldParseKeyword,isSavedSearch:a.isSavedSearch}))},isACEnabled:function(){var a=this.getStore(s);return a.isSearchTabActive()||a.getTabId()===h.OTHER_TAB||a.getTabId()===h.FOLDER_TAB},setContainerValue:function(a){var b=this,c=b.getQuery();b.setQuery(b.getStore(p).createQuery({keyword:a,suggestion:c.suggestion,shouldParseKeyword:!0}))},clearFolderScope:function(){var a=this,b=a.getQuery(),c=b.refinements;c=c.filter(function(a){return 0!==a.indexOf("in:")}),a.setQuery(a.getStore(p).createQuery({keyword:b.keyword,suggestion:b.suggestion,refinements:c}))},_yuiEvents:[],_triggerUHEvent:function(a){var b=new yui.EventTarget,c=a?"ucs:mailSearchSugg":"ucs:mailSearch";b.publish(c,{broadcast:2,emitFacade:!0}),b.fire(c)},getSearchId:function(){return this.getStore(s).getActiveSearchId()},handleUserDataUpdate:function(){var a=this,b=a.getStore(m).get("metaData");a.setState({hasShownFolderSearchOnboarding:b.get("hasShownFolderSearchOnboarding")===!0?!0:a.state.hasShownFolderSearchOnboarding,hasShownContactSuggestionOnboarding:b.get("hasShownContactSuggestionOnboarding")===!0?!0:a.state.hasShownContactSuggestionOnboarding})}}),b.exports=d},{"../../../../artifacts/lang":2,"../../stores/BootcampSuggestionsStore":13,"../../stores/RecentSearchesStore":16,"../../stores/SearchSuggestion":17,"../../stores/SearchSuggestionsStore":18,"../../stores/WebSearchSuggestionsStore":19,"../dropdown/FolderDropdown.jsx":9,"./AdvancedSearch.jsx":3,"./SearchButton.jsx":7,"./Suggestion.jsx":8,Context:"Context",DOMUtils:"DOMUtils",FolderStore:"FolderStore",ObjectUtils:"ObjectUtils",Onboarding:"Onboarding",OnboardingStore:"OnboardingStore",SearchActions:"SearchActions",SearchConstants:"SearchConstants",SearchQueryStore:"SearchQueryStore",StatService:"StatService",StringUtils:"StringUtils",TabStore:"TabStore",Token:"Token",TokenizedTypeahead:"TokenizedTypeahead",UserSettingsStore:"UserSettingsStore",lodash:"lodash","react/addons":"react/addons"}],7:[function(a,b,c){"use strict";var d,e=a("react/addons");d=e.createClass({displayName:"SearchButton",getDefaultProps:function(){return{className:"",handleSearch:function(){},searchLabel:"",id:"mail-search-btn"}},render:function(){var a,b=this,c={};return c[b.props.className]=!0,a=e.addons.classSet(c),e.createElement("button",{type:"button",className:a,id:b.props.id,onClick:b.props.handleSearch.bind(null,"search_box_click")},b.props.searchLabel)}}),b.exports=d},{"react/addons":"react/addons"}],8:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("DOMUtils"),h=a("StringUtils"),i=a("Context"),j=a("../../../../artifacts/lang"),k=a("SearchActions"),l=a("GlobalConstants");d=e.createClass({displayName:"Suggestion",mixins:[i],render:function(){var a=this,b=e.addons.classSet({"menu-active-item":a.props.isSelected});return e.createElement("div",{className:b},a.renderMap[a.props.data.intent].call(a))},boldify:function(a,b){var c=h.indexOfIgnoreCase(a,b),d=a.substr(0,c),f=a.substr(c+b.length),g=a.substr(c,b.length);return c>=0?e.createElement("span",null,d,e.createElement("b",{className:"Fw-b"},g),f):e.createElement("span",{className:"Va-m"},a)},renderMap:{PEOPLE:function(){var a=this,b=a.props.data,c=a.props.inputValue,d=b.imageUrl?h.addUrlParameters(b.imageUrl,{spsize:"72X72",badge:!0,fallback_url:l.FALLBACK_XOBNI_IMG_URL}):l.FALLBACK_XOBNI_IMG_URL,f={backgroundImage:"url("+d+")"},g={backgroundColor:a.getRandomPersonColor(b.displayStr)};return e.createElement("div",{className:"Mx-4 Py-2 W-100 Bxz-bb Pos-r Cur-p Bfc","data-id":b.displayStr,ref:"suggestion",onClick:a.handlePersonClick},e.createElement("div",{className:"D-ib wpx-40 hpx-40 Pend-10 Va-m Fl-start"},e.createElement("span",{style:f,className:"bgr-nr wpx-40 hpx-40 Bgz-cv Pos-a Z-1 Bdrs"}),e.createElement("span",{style:g,className:"fz-ms wpx-40 lh-40 c-w Pos-a Z-0 Start-0 Ta-c Bdrs"},b.getInitials())),e.createElement("div",{className:"mt-3"},e.createElement("div",{className:"fz-ms Ell",ref:"name"},a.boldify(b.displayStr,c)),e.createElement("div",{"aria-label":"contact suggestion",className:"c-g Fz-s Ell",ref:"email"},a.boldify(a.getPersonSecondLine(),c))))},RECENT_SEARCH:function(){var a=this;return e.createElement("div",{className:"Mx-4 Py-2 Pos-r Cur-p Bfc fz-ms"},e.createElement("div",{className:"Ta-c wpx-40 lh-40 Pend-10 Fl-start icon icon-recent"}),e.createElement("div",{className:"Mend-1 Fl-end"},e.createElement("span",{className:"icon icon-small-close icon-light D-n lh-40",onClick:a.handleRemoveRecentSearch})),e.createElement("div",{"aria-label":"recent search",className:"lh-40 Ell","data-action":"search-recent"},a.boldify(a.props.data.displayStr,a.props.inputValue)))},SEARCH_WEB:yui.common.Utils.features.enabled("webSuggestions")?function(){var a=this;return e.createElement("div",null,a.renderWebSearchHeader(),e.createElement("div",{className:"Bfc"},e.createElement("div",{className:"Pend-14 Fl-end lh-40 Fz-s"},a.renderShiftEnterLabel()),e.createElement("div",{"aria-label":"search web for",className:"Px-14 Cur-p lh-40 Ell fz-ms","data-action":"search-web"},a.boldify(h.getBidiString(a.props.data.displayStr),a.props.data.hasToken?a.props.data.displayStr:a.props.inputValue))))}:function(){var a=this,b=f.template(j.str_search_web_for)({keyword:a.props.data.displayStr});return e.createElement("div",{className:"suggestion-row suggestion-search-web"},e.createElement("div",{className:"suggestion-row-icon icon icon-search-web"}),e.createElement("div",{"aria-label":b,"data-action":"search-web",className:"suggestion-row-content"},h.stringReplace(j.str_search_web_for,{keyword:e.createElement("strong",null,a.props.data.displayStr)})),e.createElement("kbd",{className:"suggestion-search-web-shortcut"},j.str_web_search_shortcut))},SEARCH_MAIL:function(){return e.createElement("div",{className:"Mx-4 Py-2 Bxz-bb Pos-r Cur-p Bfc"},e.createElement("div",{className:"Ta-c wpx-40 lh-40 Pend-10 Fl-start icon icon-search"}),e.createElement("div",{"aria-label":"search mail for",className:"lh-40 Ell fz-ms","data-action":"search-mail"},this.props.data.displayStr))},ADVANCED_SEARCH:function(){return e.createElement("div",{className:"suggestion-adv-search"},e.createElement("button",{onClick:this.props.showAdvancedPane},j.str_advanced_mail_search))}},renderShiftEnterLabel:function(){return 0===this.props.data.typeIndex?e.createElement("span",{className:"c-g"},j.str_web_search_shortcut):void 0},getRandomPersonColor:function(a){function b(a,b){return(a%b+b)%b}var c=h.hashCode(a),d=["#940050","#CC008C","#BE0067","#F80E5D","#FE4E4D","#FD6867","#FF1032","#FF8C13","#FF530E","#FA0027"];return d[b(c,d.length)]},getPersonSecondLine:function(){var a,b,c=this,d=c.props.data.emailAddresses||c.props.data._rawObj.emails||[],e=c.props.inputValue,g=f.find(d,function(a){return h.containsIgnoreCase(a,e)})||d[0];switch(d.length){case 1:a=j.str_suggestion_email_singular;break;case 2:a=j.str_suggestion_other_email_singular;break;default:a=j.str_suggestion_other_email_plural}return b=f.template(a,null)({emailAddress:g,number:d.length-1}),b||""},renderWebSearchHeader:function(){return 0===this.props.data.typeIndex?e.createElement("div",{className:"D-b Us-n c-g bgc-lg lh-30 Pstart-14 Fw-b",onClick:g.halt},j.str_web_search):void 0},handleRemoveRecentSearch:function(a){var b=this;b.executeAction(k.removeRecentSearch,b.props.data.displayStr),a.stopPropagation()}}),b.exports=d},{"../../../../artifacts/lang":2,Context:"Context",DOMUtils:"DOMUtils",GlobalConstants:"GlobalConstants",SearchActions:"SearchActions",StringUtils:"StringUtils",lodash:"lodash","react/addons":"react/addons"}],9:[function(a,b,c){"use strict";var d,e=a("react/addons"),f=a("lodash"),g=a("Context"),h=a("FolderStore"),i=a("MenuButton"),j=a("MenuItemGroup"),k=a("MenuItem"),l=a("../../../../artifacts/lang"),m=a("StatService");d=e.createClass({displayName:"FolderDropdown",mixins:[e.addons.PureRenderMixin,g],propTypes:{},getDefaultProps:function(){return{current:"",changeFolder:f.noop,updateContainerEndPadding:f.noop}},getInitialState:function(){return{userFolders:this.getStore(h).getSearchableUserFolders(),folderClass:"search-folder-name",statName:"folder_dropdown"}},componentDidMount:function(){var a=this;a.props.updateContainerEndPadding(a.getDOMNode().clientWidth),a.getStore(h).on("change",a.fetchFoldersAndUpdateState)},componentWillUnmount:function(){var a=this;a.getStore(h).removeListener("change",a.fetchFoldersAndUpdateState)},componentDidUpdate:function(){var a=this;a.props.updateContainerEndPadding(a.getDOMNode().clientWidth)},render:function(){var a=this,b=a.state.folderClass,c=a.props.current,d=e.addons.classSet({"search-folder-scope-dd":!0});return e.createElement(i,{ref:"menu",className:d,ddClassName:"search-folder-dropdown",label:a.renderFolderName(),name:a.state.statName,dropdownXOrigin:"right",onOpen:a.handleMenuOpen},e.createElement(j,{title:l.str_search_in_folder,overflow:!0,togglable:!0},e.createElement(k,{value:"",selected:!c,title:l.str_all_mail,onClick:a.handleUserSelection},e.createElement("span",{className:b},l.str_all_mail)),e.createElement(k,{value:"Inbox",selected:"Inbox"===c,title:l.str_folder_inbox,onClick:a.handleUserSelection},e.createElement("span",{className:b},l.str_folder_inbox)),e.createElement(k,{value:"Draft",selected:"Draft"===c,title:l.str_folder_drafts,onClick:a.handleUserSelection},e.createElement("span",{className:b},l.str_folder_drafts)),e.createElement(k,{value:"Sent",selected:"Sent"===c,title:l.str_folder_sent,onClick:a.handleUserSelection},e.createElement("span",{className:b},l.str_folder_sent)),e.createElement(k,{value:"Trash",selected:"Trash"===c,title:l.str_folder_trash,onClick:a.handleUserSelection},e.createElement("span",{className:b},l.str_folder_trash)),a.state.userFolders.map(function(d){return e.createElement(k,{key:d.folderInfo.fid,value:d.folderInfo.fid,selected:c===d.folderInfo.name,"data-type":"user",title:d.folderInfo.name,onClick:a.handleUserSelection},e.createElement("span",{className:b},d.folderInfo.name))})),e.createElement(k,{className:"search-folder-scope-adv",title:l.str_advanced_mail_search,onClick:a.handleAdvSearchClick},e.createElement("span",{className:b},l.str_advanced_mail_search)))},renderFolderName:function(){return e.createElement("span",{className:"icon icon-chevron"})},fetchFoldersAndUpdateState:function(){var a=this;a.setState({userFolders:a.getStore(h).getSearchableUserFolders()})},handleUserSelection:function(a){var b=this,c=a.currentTarget,d=c.getAttribute("data-value");""!==b.props.current&&""===d?m.mailLog({m:"search_"+b.state.statName+"_allMail_click",yid:NeoConfig.loginId}):""!==d&&"system"===c.getAttribute("data-type")&&m.mailLog({m:"search_"+b.state.statName+"_folder_click",folder:d,yid:NeoConfig.loginId}),b.setFolder({fid:d}),b.refs.menu.closeMenu()},handleAdvSearchClick:function(){var a=this;a.props.openAdvancedSearch(),m.mailLog({m:"react_search_"+a.state.statName+"_advSearch_click",yid:NeoConfig.loginId})},handleMenuOpen:function(){m.mailLog({m:"react_search_menu_"+this.state.statName+"_open",yid:NeoConfig.loginId}),m.stat("search_box_folder_dd_open")},setFolder:function(a){this.props.changeFolder({fid:a.fid},!0)}}),b.exports=d},{"../../../../artifacts/lang":2,Context:"Context",FolderStore:"FolderStore",MenuButton:"MenuButton",MenuItem:"MenuItem",MenuItemGroup:"MenuItemGroup",StatService:"StatService",lodash:"lodash","react/addons":"react/addons"}],10:[function(a,b,c){"use strict";var d={componentDidMount:function(){window.addEventListener("mousedown",this.DropdownMixin_handleWindowClick,!0)},componentWillUnmount:function(){window.removeEventListener("mousedown",this.DropdownMixin_handleWindowClick,!0)},DropdownMixin_handleWindowClick:function(a){var b,c=this.props.parentNode||this.getDOMNode();for(b=a.target;b;b=b.parentNode){if(b&&b.hasAttribute&&b.hasAttribute("data-preventclose"))return;if(b===c)break}b||this.props.setClosed()}};b.exports=d},{}],11:[function(a,b,c){"use strict";YUI.add("tictac-search",function(b){function c(){a("../../artifacts/css/main.css");var b=a("AppDispatcher"),c=a("./components/autocomplete/Container.jsx"),d=a("StatService"),e=a("TabStore"),f=a("FolderStore"),g=a("SearchQueryStore"),h=a("./stores/RecentSearchesStore"),i=a("./stores/WebSearchSuggestionsStore"),j=a("./stores/BootcampSuggestionsStore"),k=a("./stores/SearchSuggestionsStore"),l=a("./stores/ContactSuggestionsStore"),m=document.getElementById("yucs-search"),n=document.createElement("div"),o="StencilRoot search-container Mt-10 Mx-0 W-45 Whs-nw mwpx-860";window.React=window.React||a("react/addons"),m||(m=document.getElementById("UHSearch"),o="StencilRoot search-container M-0 Whs-nw mwpx-860"),n.className=o,m.parentNode.insertBefore(n,m),[j,l,f,h,g,k,e,i].forEach(b.registerStore),React.renderComponent(c({context:b.context}),n),window.performance&&window.performance.timing.responseStart&&d.featureLatency("search_sugg_render",Date.now()-window.performance.timing.responseStart),d.stat({name:"search_sugg_launch"}),yui.fire("search:loaded")}function d(){var c=a("StatService");b.one("body").removeClass("no-uhsearch"),b.use(["searchautocomplete","searchautocomplete-extra-modules"]),c.stat({name:"search_sugg_xobni_fallback"})}var e=yui.common.Utils.features.enabled("searchresults");b.namespace("Tictac").search={loader:function(){b.xobniContacts.isXobnified(function(a){a?(c(),e&&yui.detach("search:input")):d()})},isSearchResultsReallyEnabled:function(a){e?b.xobniContacts.isXobnified(function(b){a(b)}):a(!1)}}},"1.0.0",{requires:["tictac-lib","mail-common-utils-features","isXobnifiedCheck","mail-persist-meta-data"]})},{"../../artifacts/css/main.css":1,"./components/autocomplete/Container.jsx":6,"./stores/BootcampSuggestionsStore":13,"./stores/ContactSuggestionsStore":14,"./stores/RecentSearchesStore":16,"./stores/SearchSuggestionsStore":18,"./stores/WebSearchSuggestionsStore":19,AppDispatcher:"AppDispatcher",FolderStore:"FolderStore",SearchQueryStore:"SearchQueryStore",StatService:"StatService",TabStore:"TabStore","react/addons":"react/addons"}],12:[function(a,b,c){"use strict";var d,e=a("lodash"),f=a("StatService");d=function(){var a="neo.pref.savedSearch";return{get:function(){return yui.use("mail-persist-meta-data").then(function(b){var c=b.mail.persist.MetaData.get(a);return f.stat({name:"search_sugg_fetch_recent"}),c?JSON.parse(c):[]})},add:function(){return this.get()},remove:function(b){return yui.use("mail-persist-meta-data").then(function(c){var d=e.uniq(JSON.parse(c.mail.persist.MetaData.get(a))).slice(0,NeoConfig.maxSearchHistory),g=d.indexOf(b);return g>-1&&(d.splice(g,1),c.mail.persist.MetaData.set(a,JSON.stringify(d))),f.stat({name:"search_sugg_remove_recent"}),d})}}}(),b.exports=d},{StatService:"StatService",lodash:"lodash"}],13:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this._results={}}var e=a("events").EventEmitter,f=a("lodash"),g=a("ObjectUtils"),h=a("../stores/PersonSuggestion"),i=a("GlobalConstants"),j=a("SearchConstants"),k=a("StringUtils"),l={};d.prototype=f.merge(Object.create(e.prototype),{constructor:d,get:function(a){return this._results[a]||[]},_dataTransformer:function(a){var b,c,d=a.queryText.match(/%[a-zA-Z0-9\-]+/g),e=a.queryText,j=g.getValue(a,["entities"],{});return d&&d.forEach(function(d){var f=d.substr(1),g=a.entities[f];e=e.replace(d,g.name),b=g.imageUrl,c=g.emailIds}),new h({_rawObj:a,serviceId:f.result(j[f.findKey(j,"serviceId")],"serviceId"),displayStr:e,imageUrl:b?k.addUrlParameters(b,{spsize:"50X50",badge:!0,fallback_url:i.FALLBACK_XOBNI_IMG_URL}):i.FALLBACK_XOBNI_IMG_URL,emailAddresses:c,intent:a.intent})},_handleSuggestionsReceived:function(a){var b=a.data,c=a.query,d=a.searchId;c.suggestion&&"PEOPLE"===c.suggestion.intent?this._results[d]=[]:this._results[d]=b.filter(function(a){return 200===a.status&&a.response&&a.response.suggestions instanceof Array}).reduce(function(a,b){return a.concat(b.response.suggestions)},[]).filter(function(a){return"PEOPLE"===a.intent}).slice(0,3).map(this._dataTransformer,this).filter(function(a){return a.emailAddresses}),this.emit("changed")},_resetSearchSuggestions:function(a){this._results[a.searchId]=[],this.emit("changed")},_handleDoSearch:function(a){delete this._results[j.SEARCH_TAB],a.searchId===j.OTHER_TAB&&delete this._results[j.OTHER_TAB],a.searchId===j.FOLDER_TAB&&delete this._results[j.FOLDER_TAB],this.emit("changed")},_handleCleanUp:function(a){delete this._results[a.searchId]}}),l[j.RESET_SUGGESTION]="_resetSearchSuggestions",l[j.SEARCH_START]="_handleDoSearch",l[j.BOOTCAMP_SUGGESTIONS_RECEIVED]="_handleSuggestionsReceived",l[j.BOOTCAMP_SUGGESTIONS_FAILURE]="_handleSuggestionsReceived",l[j.CLEAN_UP_SEARCH_RESULTS]="_handleCleanUp",d.storeName="BootcampSuggestionsStore",d.handlers=l,b.exports=d},{"../stores/PersonSuggestion":15,GlobalConstants:"GlobalConstants",ObjectUtils:"ObjectUtils",SearchConstants:"SearchConstants",StringUtils:"StringUtils",events:"events",lodash:"lodash"}],14:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this._results={}}var e=a("events").EventEmitter,f=a("lodash"),g=a("StringUtils"),h=a("SearchConstants"),i=a("../stores/PersonSuggestion"),j={};d.prototype=f.merge(Object.create(e.prototype),{constructor:d,get:function(a){return this._results[a]||[]},_dataTransformer:function(a){var b,c,d=a.queryText.match(/%[a-zA-Z0-9\-]+/g),e=a.queryText;return d&&d.forEach(function(d){var f=d.substr(1),g=a.entities[f];e=e.replace(d,g.name),b=g.imageUrl,c=g.emailIds}),new i({_rawObj:a,displayStr:e,imageUrl:b,emailAddresses:c,intent:a.intent})},_handleSuggestionsReceived:function(a){var b=a.data,c=a.query.keyword;this._results[a.searchId]=f.chain(b).filter(function(a){return 200===a.status&&a.response&&a.response.suggestions instanceof Array}).map(function(a){return a.response.suggestions}).flatten().filter(function(a){return"PEOPLE"===a.intent}).slice(0,3).map(this._dataTransformer,this).filter(function(a){return a.emailAddresses}).map(function(a){return a.emailAddresses.map(function(b){return new i({_rawObj:a._rawObj,displayStr:a.displayStr,imageUrl:a.imageUrl,emailAddresses:[b],intent:a.intent,overrrideWithEmail:!0})})}).flatten().filter(function(a){return g.containsIgnoreCase(a.displayStr,c)||g.containsIgnoreCase(a.emailAddresses[0],c)}).value(),this.emit("changed")},_resetSearchSuggestions:function(a){this._results[a.searchId]=[],this.emit("changed")},_handleCleanUp:function(a){delete this._results[a.searchId]}}),j[h.RESET_SUGGESTION]="_resetSearchSuggestions",j[h.CONTACT_SUGGESTIONS_RECEIVED]="_handleSuggestionsReceived",j[h.CLEAN_UP_SEARCH_RESULTS]="_handleCleanUp",d.storeName="ContactSuggestionsStore",d.handlers=j,b.exports=d},{"../stores/PersonSuggestion":15,SearchConstants:"SearchConstants",StringUtils:"StringUtils",events:"events",lodash:"lodash"}],15:[function(a,b,c){"use strict";function d(a){f.call(this,a)}var e=a("lodash"),f=a("./SearchSuggestion");d.prototype=e.extend(Object.create(f.prototype),{constructor:d,getMatchAndRemainder:function(a){var b=[this.displayStr].concat(this.emailAddresses),c=e.find(b,function(b){return this.getRemainingPart(b,a)},this);return this.getRemainingPart(c||"",a)},getInitials:function(){var a=this.displayStr.split(" ");return[].concat(a.shift()||[]).concat(a.pop()||[]).map(function(a){return(a.charAt(0)||"").toUpperCase()}).join("")},getAdvancedSearchQuery:function(){return this.displayStr.indexOf(" ")>-1?'from:"'+this.displayStr+'" ':"from:"+this.displayStr+" "}}),b.exports=d},{"./SearchSuggestion":17,lodash:"lodash"}],16:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this._recentSearch=[],this._recentSearchesInit=!1}var e=a("lodash"),f=a("events").EventEmitter,g=a("SearchConstants"),h=a("../services/RecentSearchService"),i={};d.prototype=e.merge(Object.create(f.prototype),{constructor:d,all:function(){return this._recentSearchesInit||(this._recentSearchesInit=!0,this._getRecentSearch()),this._recentSearch},_getRecentSearch:function(){var a=this;return h.get().then(function(b){a._recentSearch=b,a.emit("changed")})},_addRecentSearch:function(a){this._recentSearch.unshift(a.data),this.emit("changed")},_removeRecentSearch:function(a){var b=this;return h.remove(a.data).then(function(a){b._recentSearch=a,b.emit("changed")})}}),i[g.ADD_RECENT_SEARCH]="_addRecentSearch",i[g.REMOVE_RECENT_SEARCH]="_removeRecentSearch",d.storeName="RecentSearchesStore",d.handlers=i,b.exports=d},{"../services/RecentSearchService":12,SearchConstants:"SearchConstants",events:"events",lodash:"lodash"}],17:[function(a,b,c){"use strict";function d(a){e.merge(this,a)}var e=a("lodash"),f=a("StringUtils");d.prototype={getOverrideText:function(){var a;return a="SEARCH_WEB"===this.intent?"":this.overrrideWithEmail?this.emailAddresses[0]:this.displayStr},getRemainingPart:function(a,b){var c,d,e;return c=f.escapeRegExp(b),d=new RegExp("(^|\\s)"+c+"(.*)","i"),e=d.exec(a),e?b+e[2]:""},getMatchAndRemainder:function(){return""}},b.exports=d},{StringUtils:"StringUtils",lodash:"lodash"}],18:[function(a,b,c){"use strict";function d(a){this.dispatcher=a}var e=a("lodash"),f=a("events").EventEmitter,g=a("StringUtils"),h=a("../stores/BootcampSuggestionsStore"),i=a("SearchQueryStore"),j=a("../stores/RecentSearchesStore"),k=a("../stores/WebSearchSuggestionsStore"),l=a("../stores/SearchSuggestion");d.prototype=e.merge(Object.create(f.prototype),{constructor:d,get:function(a){var b=this.dispatcher.getStore(i).get(a),c=b?b.toString():"",d=this._hideRecentSuggestions(b),e=this._hideBootcampSuggestions(b),f=this.dispatcher.getStore(k).get(a),g=this.dispatcher.getStore(h).get(a);return[].concat(e?[]:g).concat(d?[]:this._getRecentSearches(c)).concat(f)},_hideBootcampSuggestions:function(a){return!!a.suggestion&&a.keyword},_hideRecentSuggestions:function(a){return!!a.suggestion||!a.keyword},_getRecentSearches:function(a){var b=this.dispatcher.getStore(j).all();return e.uniq(b).filter(function(a){return"string"==typeof a}).filter(function(b){return!!b.trim()&&(!a.trim()||g.containsIgnoreCase(b,a));

}).slice(0,3).map(function(a){return new l({intent:"RECENT_SEARCH",displayStr:a,keyword:a})})}}),d.storeName="SearchSuggestionsStore",b.exports=d},{"../stores/BootcampSuggestionsStore":13,"../stores/RecentSearchesStore":16,"../stores/SearchSuggestion":17,"../stores/WebSearchSuggestionsStore":19,SearchQueryStore:"SearchQueryStore",StringUtils:"StringUtils",events:"events",lodash:"lodash"}],19:[function(a,b,c){"use strict";function d(a){this.dispatcher=a,this._results=[]}var e=a("lodash"),f=a("events").EventEmitter,g=a("SearchConstants"),h=a("../stores/SearchSuggestion"),i={};d.prototype=e.merge(Object.create(f.prototype),{constructor:d,get:function(a){return this._results[a]||[]},_handleSuggestionsReceived:function(a){var b,c,d=a.searchId,f=a.query,g=f.keyword,i=a.data,j=f.refinements.length||f.suggestion,k=a.query.toWebQueryString();yui.common.Utils.features.enabled("webSuggestions")?g?this._results[d]=e.chain(i).slice(0,4).unshift({key:g}).uniq(function(a){return a.key}).slice(0,4).map(function(a,b){return new h({intent:"SEARCH_WEB",displayStr:j?k:a.key,typeIndex:b,hasToken:!!j})}).value():this._results[d]=[]:(b=f.toHumanReadableString(),c=b.length>0?[new h({intent:"SEARCH_WEB",displayStr:b})]:[],this._results[d]=c),this.emit("changed")},_resetSearchSuggestions:function(a){this._results[a.searchId]=[],this.emit("changed")},_handleDoSearch:function(a){delete this._results[g.SEARCH_TAB],a.searchId===g.OTHER_TAB&&delete this._results[g.OTHER_TAB],a.searchId===g.FOLDER_TAB&&delete this._results[g.FOLDER_TAB],this.emit("changed")},_handleCleanUp:function(a){delete this._results[a.searchId]}}),i[g.RESET_SUGGESTION]="_resetSearchSuggestions",i[g.SEARCH_START]="_handleDoSearch",i[g.WEBSEARCH_SUGGESTIONS_RECEIVED]="_handleSuggestionsReceived",i[g.WEBSEARCH_SUGGESTIONS_FAILURE]="_handleSuggestionsReceived",i[g.CLEAN_UP_SEARCH_RESULTS]="_handleCleanUp",d.storeName="WebSearchSuggestionsStore",d.handlers=i,b.exports=d},{"../stores/SearchSuggestion":17,SearchConstants:"SearchConstants",events:"events",lodash:"lodash"}],20:[function(a,b,c){"use strict";function d(){var a;for(f++,a=f.toString(16);a.length<4;)a="0"+a;return NeoConfig.uuid?NeoConfig.uuid.replace("SEQN",a):""+e.uniqueId()}var e=a("lodash"),f=0;b.exports=d},{lodash:"lodash"}],21:[function(a,b,c){"use strict";var d,e=a("StatService"),f=a("./GenUniqueId");d=function(){return{get:function(a){return new Promise(function(b){yui.use("mail-ui-mailSearchController",function(){var c,d=a.keyword,g=a.getFolderScope(),h=a.suggestion&&"PEOPLE"===a.suggestion.intent,i="keyword",j=f(),k={keyword:a.toQueryString(),source:a.source,searchId:j};h?d||"Drafts"===g||"Sent"===g?(i="person_with_keyword",yui.fire("search:input",{addToRecentSearches:!1,query:k,prefilterRefinements:!1}),e.stat({name:"search_sugg_search_people_keyword"})):(i="person_no_keyword",c="in:%40C%40Chats"===g?"in:Chats":"in:"+g,yui.fire("searchSuggestion:start",{type:"xContact",contactId:a.suggestion._rawObj.id,scopeToFolder:g?c:!1,isFromQuery:!0,source:a.source,searchId:j}),e.stat({name:"search_sugg_search_people"})):(g?("%40C%40Chats"===g&&(k.keyword=k.keyword.replace("in:%40C%40Chats","in:Chats")),yui.fire("search:input",{addToRecentSearches:!1,query:k})):yui.fire("fireSearch",a.toQueryString(),{fromReact:!0,source:a.source,searchId:j}),e.stat({name:"search_sugg_search_keyword"})),g&&e.mailLog({m:"folder_scoped_react_search",info:"Performed a folder-scoped search in React Search",flavor:i,yid:NeoConfig.loginId}),yui.once("global:search:complete",function(){b()})})})}}}(),b.exports=d},{"./GenUniqueId":20,StatService:"StatService"}],22:[function(a,b,c){"use strict";var d,e=a("EnhancedPromise"),f=a("IO"),g=a("StatService");d=function(){var a,b="/neo/sugg";return{processResponse:function(a){var b=JSON.parse(a);return b.gossip.results},get:function(c){var d,h=this,i=c.keyword.trim(),j=["output=json","appid=YahooMailNeo","nresults=5","command="+encodeURIComponent(i)],k=b+"?"+j.join("&"),l="(((\\s+)(-?)(in|subject|to|from|after|before|is|has))|(^(-?)(in|subject|to|from|after|before|is|has)))(?=:)",m=new RegExp(l),n=m.test(i);return a&&(a.cancel(),a=null),c.suggestion||c.refinements.length||!i||n?d=e.resolve([]):(g.featureInvoke("search_sugg_fetch_web"),d=f.post(k,"").then(function(a){var b,c=a.text;if(!c)throw g.featureFail("search_sugg_fetch_web"),a;try{return b=h.processResponse(c),g.featureComplete("search_sugg_fetch_web"),b}catch(d){throw g.featureFail("search_sugg_fetch_web"),g.mailLog({status:a.status,body:c},!0,"error_web_search_response"),d}},function(a){throw 800===a.status?g.featureComplete("search_sugg_fetch_web"):g.featureFail("search_sugg_fetch_web"),a}),a=d),d}}}(),b.exports=d},{EnhancedPromise:"EnhancedPromise",IO:"IO",StatService:"StatService"}],23:[function(a,b,c){b.exports=function(a,b){var c=b||document;if(c.createStyleSheet){var d=c.createStyleSheet();return d.cssText=a,d.ownerNode}var e=c.getElementsByTagName("head")[0],f=c.createElement("style");return f.type="text/css",f.styleSheet?f.styleSheet.cssText=a:f.appendChild(c.createTextNode(a)),e.appendChild(f),f},b.exports.byUrl=function(a){if(document.createStyleSheet)return document.createStyleSheet(a).ownerNode;var b=document.getElementsByTagName("head")[0],c=document.createElement("link");return c.rel="stylesheet",c.href=a,b.appendChild(c),c}},{}],SearchActions:[function(a,b,c){"use strict";function d(){return f?l():h.SEARCH_TAB}var e,f=yui.common.Utils.features.enabled("searchresults"),g=a("StatService"),h=a("SearchConstants"),i=a("UserSettingsConstants"),j=a("Utils"),k=a(f?"BootcampAPIUtils":"BootcampAPIUtilsV1"),l=a("../utils/GenUniqueId"),m=a("../utils/WebSearchAPIUtils"),n=f?null:a("../utils/MailSearchAPIUtils"),o=[],p=yui.common.Utils.features,q=yui.mail.persist.MetaData,r="neo.pref.searchSortBy";o[h.SEARCH_MESSAGE_VIEW]={FETCH_MORE:h.SEARCH_MESSAGE_VIEW_FETCH_MORE,FETCH_SUCCESS:h.SEARCH_MESSAGE_VIEW_FETCH_MORE_SUCCESS,FETCH_FAILURE:h.SEARCH_MESSAGE_VIEW_FETCH_MORE_FAILURE},o[h.SEARCH_PHOTO_VIEW]={FETCH_MORE:h.SEARCH_PHOTO_VIEW_FETCH_MORE,FETCH_SUCCESS:h.SEARCH_PHOTO_VIEW_FETCH_MORE_SUCCESS,FETCH_FAILURE:h.SEARCH_PHOTO_VIEW_FETCH_MORE_FAILURE},o[h.SEARCH_DOCUMENT_VIEW]={FETCH_MORE:h.SEARCH_DOCUMENT_VIEW_FETCH_MORE,FETCH_SUCCESS:h.SEARCH_DOCUMENT_VIEW_FETCH_MORE_SUCCESS,FETCH_FAILURE:h.SEARCH_DOCUMENT_VIEW_FETCH_MORE_FAILURE},e={setQuery:function(a,b){a.dispatch(h.SET_QUERY,{query:b.query,searchId:b.searchId})},executeSearch:function(a,b){var c,l,m=b.preserveQuery,o=b.searchId,s=d(),t=b.query,u=t.refinements,v=i.MSG_SORT_TYPE_DATE,w=b.sortType,x={sortOrder:b.sortOrder||i.MSG_SORT_ORDER_DOWN},y={searchId:s,query:t,sortOrder:b.sortOrder||i.MSG_SORT_ORDER_DOWN},z=q.get(r);w||(w=v,p.enabled("stickySearchSort")&&z&&(w=z)),p.enabled("stickySearchSort")&&w!==z&&(q.set(r,w),q.save()),x.sortType=y.sortType=w,f?(g.timerStart("doSearch"),g.timerStart("doSearchRender"),a.dispatch(h.SEARCH_INIT,{query:t,searchId:s}),l=!!j.loadPromisesMap["tictac-searchresults"],l||g.timerStart("loadSearchResultsTictac"),j.loadTictac("tictac-searchresults").then(function(){return l||g.featureLatency("srp_load_tictac",g.timerComplete("loadSearchResultsTictac")),a.dispatch(h.SEARCH_START,y),k.getSuggestions(t).then(function(b){a.dispatch(h.BOOTCAMP_DIDYOUMEAN_RECEIVED,{searchId:s,query:t,data:b})},function(b){800!==b.status&&a.dispatch(h.BOOTCAMP_DIDYOUMEAN_FAILURE,{searchId:s,query:t,data:[]})}),k.getSearchResults(b.query,x,s).then(function(b){a.dispatch(h.SEARCH_SUCCESS,{searchId:s,sortInfo:x,data:b,query:t})},function(b){a.dispatch(h.SEARCH_FAILURE,{searchId:s,data:b})},function(c){a.dispatch(h.SEARCH_UPDATE,{searchId:s,data:c,primaryResultType:b.currentView})}).then(function(){if(!m){var b={};o===h.FOLDER_TAB&&(b.refinements=[],t.refinements.map(function(a){0===a.indexOf("in:")&&b.refinements.push(a)})),e.setQuery(a,{query:b,searchId:o})}},function(b){throw m||e.setQuery(a,{query:{},searchId:o}),b})})):(a.dispatch(h.SEARCH_START,y),n.get(b.query).then(function(){m||e.setQuery(a,{query:{},searchId:o})})),t.isKeywordOnly()&&a.dispatch(h.ADD_RECENT_SEARCH,{data:t.keyword}),t.suggestion?g.stat("do_search_with_people_token"):t.refinements&&t.refinements.length>0?(c=u.filter(function(a){return 0===a.lastIndexOf("in:",0)}).length,c&&g.stat({name:"do_search_with_folder_token",tags:{folderTokenNum:c}})):g.stat({name:"do_search_with_keywords",tags:{numchars:t.keyword.length}})},fetchSuggestions:function(){var a=0,b=-1;return function(c,d){var e,i=d.query,l=d.searchId,n=a++;f?(e=!!j.loadPromisesMap["tictac-searchresults"],e||g.timerStart("loadSearchResultsTictac"),j.loadTictac("tictac-searchresults").then(function(){e||g.featureLatency("srp_load_tictac",g.timerComplete("loadSearchResultsTictac"))})):yui.use("mail-ui-mailSearchController"),k.getSuggestions(i).then(function(a){n>b&&(c.dispatch(h.BOOTCAMP_SUGGESTIONS_RECEIVED,{searchId:l,query:i,data:a}),b=n)},function(a){800!==a.status&&c.dispatch(h.BOOTCAMP_SUGGESTIONS_FAILURE,{searchId:l,query:i,data:[]})}),m.get(i).then(function(a){c.dispatch(h.WEBSEARCH_SUGGESTIONS_RECEIVED,{searchId:l,data:a,query:i})},function(a){800!==a.status&&c.dispatch(h.WEBSEARCH_SUGGESTIONS_FAILURE,{searchId:l,data:[],query:i})})}}(),setSelectedItems:function(a,b){a.dispatch(h.SET_SELECTED_ITEMS,b)},getContactSuggestions:function(a,b){k.getSuggestions(b.query).then(function(c){a.dispatch(h.CONTACT_SUGGESTIONS_RECEIVED,{searchId:b.searchId,query:b.query,data:c})})},getPeopleResultsByEmail:function(a,b){var c,f,i,l=b.searchId,m=d(),n=b.query||{},o=b.preserveQuery,p=b.keyword||"";a.dispatch(h.SEARCH_INIT,{query:b.query,searchId:m}),g.stat({name:"search_source",tags:{type:n.source}}),i=!!j.loadPromisesMap["tictac-searchresults"],i||g.timerStart("loadSearchResultsTictac"),j.loadTictac("tictac-searchresults").then(function(){return i||g.featureLatency("srp_load_tictac",g.timerComplete("loadSearchResultsTictac")),a.dispatch(h.SEARCH_START,{searchId:m,query:b.query}),k.getPeopleSRPByEmail(b.email,p).then(function(b){a.dispatch(h.SEARCH_SUCCESS,{searchId:m,data:b,query:f||n})},function(b){a.dispatch(h.SEARCH_FAILURE,{searchId:m,data:b})},function(b){var d={searchId:m,data:b};b&&b.contacts&&b.contacts[0]&&!f&&(c=b.contacts[0],f={keyword:p,suggestion:{displayStr:c.name,intent:"PEOPLE",serviceId:c.id.slice(2),imageUrl:c.thumbnail,emailAddresses:c.prettyEndpoints.smtps,_rawObj:c},shouldParseKeyword:!0,displayName:n.displayName,isSavedSearch:!0},e.setQuery(a,{query:f,searchId:m}),d.newQuery=f),a.dispatch(h.SEARCH_UPDATE,d)}).then(function(){o||e.setQuery(a,{query:{},searchId:l})},function(){o||e.setQuery(a,{query:{},searchId:l})})})},getMoreSearchResults:function(a,b){var c=b.searchId,d=b.currentView;a.dispatch(o[d].FETCH_MORE,{searchId:c,type:b.currentFilter}),k.getMoreSearchResults(b.url,b.offset).then(function(e){a.dispatch(o[d].FETCH_SUCCESS,{searchId:c,data:e,type:b.currentFilter}),b.successCB&&b.successCB(e)},function(e){800!==e.status&&a.dispatch(o[d].FETCH_FAILURE,{searchId:c,data:e,type:b.currentFilter})})},doCalendarSearch:function(a,b){yui.fire("fireSearch",b.query.toString(),{fromReact:!0}),g.stat({name:"search_sugg_search_cal"})},doContactsSearch:function(a,b){yui.fire("fireSearch",b.query.toString(),{fromReact:!0}),g.stat({name:"search_sugg_search_contacts"})},doNotepadSearch:function(a,b){yui.fire("fireSearch",b.query.toString(),{fromReact:!0}),g.stat({name:"search_sugg_search_notepad"})},removeRecentSearch:function(a,b){a.dispatch(h.REMOVE_RECENT_SEARCH,{data:b})},cleanUpSearchResults:function(a,b){a.dispatch(h.CLEAN_UP_SEARCH_RESULTS,{searchId:b.searchId})},connectToBootcamp:function(){k.connectToBootcamp()},closeCurrentTab:function(a){a.dispatch(h.CLOSE_CURRENT_TAB)}},b.exports=e},{"../utils/GenUniqueId":20,"../utils/MailSearchAPIUtils":21,"../utils/WebSearchAPIUtils":22,BootcampAPIUtils:"BootcampAPIUtils",BootcampAPIUtilsV1:"BootcampAPIUtilsV1",SearchConstants:"SearchConstants",StatService:"StatService",UserSettingsConstants:"UserSettingsConstants",Utils:"Utils"}],SearchQueryStore:[function(a,b,c){"use strict";function d(){return l.enabled("attachmentQueryTokens")}function e(a,b){var c,d,e,f,g;for(/^\".*\"$/.test(a)&&(a=a.substring(1,a.length-1)),c=0;c<b.length;c++)if(d=b[c],e=d.folderInfo.fid,g=m.normalizeFid(e),f=p["str_folder_"+g]||"",d.isSystem){if(g===a.toLowerCase()||f.toLowerCase()===a.toLowerCase())return e}else if(d.folderInfo.name===a)return a.indexOf(" ")>-1?'"'+a+'"':a;return""}function f(a){var b,c;for(b=0;b<o.SMARTVIEW_CATEGORIES.length;b++)if(c=o.SMARTVIEW_CATEGORIES[b],c===a.toLowerCase()||p["str_"+c]===a)return c;return""}function g(a,b){var c,g=a.keyword,h=a.refinements||[],i=a.source||"";return n.test(g)?{keyword:g.trim(),refinements:h}:(c=g.match(o.REGEX_HAS_IS_IN),c&&c.forEach(function(a){var c,i,j=a.trim(),k=j.split(":"),l=!1;"in"===k[0]?(c=e(k[1],b),c&&(h.push("in:"+c),l=!0)):"is"===k[0]?(i=f(k[1]),i&&(h.push("is:"+i),l=!0)):"has"===k[0]&&d()&&(h.push(j),l=!0),l&&(g=g.replace(a,""))}),{keyword:g.trim(),refinements:h,source:i})}function h(a,b){var c=this;a=a||{},c.suggestion=a.suggestion,c.displayName=a.displayName,c.isSavedSearch=a.isSavedSearch,a.shouldParseKeyword?j.assign(c,g(a,b)):(c.keyword=a.keyword||"",c.refinements=a.refinements||[],c.source=a.source||"")}function i(a){this.dispatcher=a,this._queries={},this.folderStore=a.getStore(m)}var j=a("lodash"),k=a("events").EventEmitter,l=yui.common.Utils.features,m=a("FolderStore"),n=/\bOR\b|\bAND\b|\([^()]+\b[^()]+\)|\s\-|^\-|\s\+|^\+/i,o=a("SearchConstants"),p=a("../../../artifacts/lang"),q=a("TabStore"),r={};h.prototype={getSuggestionQueryFragment:function(){var a,b=this;return b.suggestion?(a=b.suggestion.displayStr,a.indexOf(" ")>-1&&(a='"'+a+'"'),"(from:"+a+" recipient:"+a+")"):""},getRefinementsQueryFragments:function(){return this.refinements.map(function(a){var b=a.split(":");return b[1].indexOf(" ")>-1&&!/^\".*\"$/.test(b[1])&&(b[1]='"'+b[1].replace(/\"/g,'\\"')+'"'),b.join(":")})},getHumanReadableSuggestionString:function(){var a=this.suggestion;return a?a.displayStr.indexOf(" ")>-1?'"'+a.displayStr+'"':a.displayStr:""},isEmpty:function(){var a=this;return!a.keyword&&!a.suggestion&&0===a.refinements.length},isKeywordOnly:function(){var a=this;return!a.suggestion&&0===a.refinements.length},toString:function(){var a=this,b=[];return b.push(a.getHumanReadableSuggestionString()),b=b.concat(a.getRefinementsQueryFragments()),b.push(a.keyword),b.join(" ").trim()},toQueryString:function(){var a=this,b=[];return b.push(a.getSuggestionQueryFragment()),b.push.apply(b,a.getRefinementsQueryFragments()),b.push(a.keyword),b.join(" ").trim()},toHumanReadableString:function(){var a,b,c=this.getHumanReadableSuggestionString(),d=this,e=d.getRefinementsQueryFragments();return d.displayName?d.displayName:(b=e.map(function(b){return b?(a=b.split(":"),"in"===a[0]?p["str_folder_"+a[1].toLowerCase()]||a[1]:p["str_"+a[1].toLowerCase()]||a[1]):void 0}),c&&b.push(c),d.keyword&&b.push(d.keyword),b=b.join(" "),b||d.toString())},toQueryStringWithoutSuggestion:function(){var a=this,b=[];return b.push.apply(b,a.getRefinementsQueryFragments()),b.push(a.keyword),b.join(" ").trim()},toWebQueryString:function(){var a=this,b=[];return b.push(a.getHumanReadableSuggestionString()),b.push(a.keyword),b.join(" ").trim()},getFolderScope:function(){var a=j.find(this.refinements,function(a){return 0===a.indexOf("in:")});return a?a.split(":")[1]:null}},i.prototype=j.merge(Object.create(k.prototype),{constructor:i,createQuery:function(a){var b=this.folderStore.all();return new h(a,b||[])},get:function(a){return this._queries[a]||this.createQuery({})},_handleSetQuery:function(a){var b=a.query;b instanceof h||(b=this.createQuery(b)),this._queries[a.searchId]=b,this.emit("changed")},_checkDiscardedSearch:function(){var a=this;a.dispatcher.waitFor(["TabStore"],function(){var b=a.dispatcher.getStore(q).getDiscardedSearchId();delete a._queries[b]})},_handleCleanUp:function(a){delete this._queries[a.searchId]}}),r[o.SEARCH_START]="_handleSetQuery",r[o.SET_QUERY]="_handleSetQuery",r[o.SEARCH_INIT]="_checkDiscardedSearch",r[o.CLEAN_UP_SEARCH_RESULTS]="_handleCleanUp",i.storeName="SearchQueryStore",i.handlers=r,b.exports=i},{"../../../artifacts/lang":2,FolderStore:"FolderStore",SearchConstants:"SearchConstants",TabStore:"TabStore",events:"events",lodash:"lodash"}],TabStore:[function(a,b,c){"use strict";function d(){var a=k.getActiveTab(),b=a.widget&&a.widget.type||a.widgetType;switch(b){case"notepadtab":return i.NOTEPAD_TAB;case"contactstab":return i.CONTACTS_TAB;case"calendartab":return i.CALENDAR_TAB;case"search":return g?a.get("id"):i.SEARCH_TAB;case"convlist":case"messagelist":return i.FOLDER_TAB;default:return i.OTHER_TAB}}function e(a){var b=this;b.dispatcher=a,b._activeTabID=d(),b._discardedSearchId=null,yui.on("tabChange",function(){b._activeTabID=d(),b.emit("changed")})}var f=a("lodash"),g=yui.common.Utils.features.enabled("searchresults"),h=a("events").EventEmitter,i=a("SearchConstants"),j=a("StringUtils"),k=yui.mail.Tabs,l={};e.prototype=f.merge(Object.create(h.prototype),{constructor:e,getTabId:function(){return this._activeTabID},getDiscardedSearchId:function(){return this._discardedSearchId},isSearchTabActive:function(){var a=k.getActiveTab();return a.widget&&"search"===a.widget.type||"search"===a.widgetType},getTabById:k.getTabById.bind(k),selectSearchTab:function(a){var b=this,c=a.query.toHumanReadableString(),d=a.query,e=k.getByType("search"),g=a.searchId,h=k.getActiveTab(),i=h.widget;return i&&"search"===i.type?(b._discardedSearchId=i.searchId,i.searchId=g,i.query=d,void i.set("title",j.escapeHtml(c))):(h=f.find(e,function(a){return a.widget.query.toQueryString()===d.toQueryString()}),!h&&f.size(e)>3&&(h=f.findLast(k.tabs,function(a){return a.widget&&"search"===a.widget.type||"search"===a.widgetType})),void(h?(i=h.widget,b._discardedSearchId=i.searchId,i.searchId=g,i.query=d,i.set("title",j.escapeHtml(c)),b.selectTab(h.get("id"))):b._createSearchTab(g,d)))},selectTab:function(a){var b;a!==this.getTabId()&&(b=k.getTabById(a),b&&k.switchToTab(b))},getTabBySearchId:function(a){return f.find(k.getByType("search"),function(b){return b.widget.searchId===a})},getActiveSearchId:function(){var a=k.getActiveTab().widget;return a&&"search"===a.type&&a.searchId?a.searchId:d()},_createSearchTab:function(a,b){var c=new yui.mail.ui.BaseWidget;c.render=function(a){c.renderLocation=a},c.type=c.widgetType="search",c.query=b,c.searchId=a,yui.mail.ui.Workspace.addContentWidget({p_label:"Search",s_label:"Search",hideToolbar:!0,reuse:!0,widget:c,isRemovable:!0,acwHandler:function(a){var d=a.tab;d.set("hideToolbar",!0),c.set("title",j.escapeHtml(b.toHumanReadableString())),d.widget=c}})},closeCurrentTab:function(){var a=k.getActiveTab();a&&a.widget.set("close",1)}}),l[i.SEARCH_INIT]="selectSearchTab",l[i.CLOSE_CURRENT_TAB]="closeCurrentTab",e.storeName="TabStore",e.handlers=l,b.exports=e},{SearchConstants:"SearchConstants",StringUtils:"StringUtils",events:"events",lodash:"lodash"}]},{},[11]);