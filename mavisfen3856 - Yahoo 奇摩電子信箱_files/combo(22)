YUI.add("comms-ui-tooltips-widget",function(B){var I="tooltips",F="tooltip-text",S="tooltip-arrow",D={UP:"up",RIGHT:"right",DOWN:"down",LEFT:"left"},A="<div class='"+I+"'>{{"+F+"}}</div>",G=200,P=300,R=[-10000,-10000],E=[0,0],Q="custom-tooltip",T={"CENTER":"center","TOPRIGHT":"tr","RIGHT":"right","BOTTOMRIGHT":"br","BOTTOMLEFT":"bl","LEFT":"left","TOPLEFT":"tl","MOUSE":"mouse"},C=["customPos","correction","nested"],J,U=B.Node,H=B.Lang,L=H.isArray,K=H.isObject,M=H.isString,N=H.isNumber,O=function(W,V){if(W==null){return null;}W=""+W;W=W.replace(/&/g,"&amp;");W=W.replace(/</g,"&lt;");W=W.replace(/>/g,"&gt;");W=W.replace(/\"/g,"&quot;");W=W.replace(/\'/g,"&#39;");W=W.replace(/\\/g,"&#92;");W=W.replace(/{/g,"&#123;");W=W.replace(/&(?:amp;)+/g,"&amp;");if(V){W=W.replace(/&amp;#([A-Za-z0-9]+);/g,"&#$1;");}return W;};J=B.Base.create("tooltips",B.Widget,[B.WidgetPosition,B.WidgetStack,B.WidgetPositionConstrain],{initializer:function(){var V=this;V._triggerClassName=J.TRIGGER_CLASS;V._currTrigger={node:null,title:null,mouseX:J.OFFSCREEN_XY[0],mouseY:J.OFFSCREEN_XY[1]};V._eventHandles={delegate:null,boundingBox:{mouseLeave:null,mouseOver:null},trigger:{mouseMove:null,mouseOut:null}};V._timers={show:null,hide:null,offscreen:null};V.publish("triggerEnter",{defaultFn:V._defTriggerEnterFn,preventable:true});V.publish("triggerLeave",{defaultFn:V._defTriggerLeaveFn,preventable:true});},destructor:function(){this._clearCurrentTrigger();this._clearTimers();this._clearHandles();},bindUI:function(){var V=this;V.after("delegateChange",V._afterSetDelegate);V.after("nodesChange",V._afterSetNodes);V._bindDelegate();},syncUI:function(){var V=this;V.get("boundingBox").setStyles({"position":"absolute","textAlign":"center"});V._uiSetNodes(V.get("trigger"));},setTriggerContent:function(a,W){var Z=this,b=Z.get("contentBox"),d=Z._currTrigger,V,Y,X,c;b.set("innerHTML","");if((!a||(a.length&&a.length===0))&&W){if(M(W)){W=d.node&&d.node.one(W);}c=W.getAttribute("title");a=Z._getTemplateForContent(c);d.nested=W;W.setAttribute("title","");W.setAttribute("title-off",c);}if(M(a)){a=[a];}if(L(a)){for(Y=0,X=a.length;Y<X;++Y){if(M(a[Y])){V=U.create(a[Y]);a[Y]=V;}b.appendChild(a[Y]);}}},setCustomTriggerAttrs:function(W){var X,Z=C,Y=this._currTrigger,V=0;for(X in Z){if(W[Z[X]]){Y[Z[X]]=W[Z[X]];V++;}}return(V>0);},getTooltipPosition:function(){var Y=this,W=Y._currTrigger,X=T,V;for(V in X){if(X[V]===W.customPos){return W.customPos;}}return Y.get("position");},showTooltipFor:function(V){var W;if(!V){return false;}V.addClass(Q);W=V.getXY();this._enterTrigger(V,W[0],W[1]);return true;},getNodeSize:function(V){var X=[],W=function(Y,a){if(!a){return 0;}var Z=parseInt(a.getComputedStyle(Y),10);if(a.getStyle("display")==="inline"&&(Y==="width"||Y==="height")){Z=a.get("offset"+Y.charAt(0).toUpperCase()+Y.slice(1));}return N(Z)?Z:0;};X[0]=W("paddingLeft",V)+W("borderLeftWidth",V)+W("width",V)+W("borderRightWidth",V)+W("paddingRight",V);X[1]=W("paddingTop",V)+W("borderTopWidth",V)+W("height",V)+W("borderBottomWidth",V)+W("paddingBottom",V);return X;},hideToolTip:function(){this._hideTooltip();},_afterSetNodes:function(V){this._uiSetNodes(V.newVal);},_afterSetDelegate:function(V){this._bindDelegate(V.newVal);},_uiSetNodes:function(X){var Y=this,W,V;if(Y._triggerNodes){for(W in Y._triggerNodes){Y._triggerNodes[W].removeClass(Y._triggerClassName);}}if(X&&X.include){Y._triggerNodes=[];for(W in X.include){V=U.all(X.include[W]);V.addClass(this._triggerClassName);Y._triggerNodes=Y._triggerNodes.concat(V);}}},_bindDelegate:function(){var V=this._eventHandles,W=this;if(V.delegate){V.delegate.detach();V.delegate=null;}V.delegate=B.delegate("mouseenter",B.bind(W._onNodeMouseEnter,W),W.get("delegate"),"."+W._triggerClassName);},_onNodeMouseEnter:function(W){var V=W.currentTarget;if(V&&(!this._currTrigger.node||!V.compareTo(this._currTrigger.node))){this._enterTrigger(V,W.pageX,W.pageY);}},_onNodeMouseLeave:function(V){this._leaveTrigger(V.currentTarget);},_onNodeMouseMove:function(V){this._overTrigger(V.pageX,V.pageY);},_overTrigger:function(V,W){this._currTrigger.mouseX=V;this._currTrigger.mouseY=W;},_enterTrigger:function(W,V,X){this._setCurrentTrigger(W,V,X);this.fire("triggerEnter",{node:W,pageX:V,pageY:X});},_leaveTrigger:function(){this.fire("triggerLeave");},_showTooltip:function(X){var d=this,g,j,f,c,b,W,i,a,Y=6;if(d.get("visible")){d.hide();}f=d.get("boundingBox");g=d.getTooltipPosition();j=d._getXYForPosition(g);b=d._currTrigger.correction||[0,0];c=I+"-"+g;if(!f.hasClass(c)){f.addClass(c);}W=f.one("."+S);if(W){for(i in D){W.removeClass(S+"-"+D[i]);}W.addClass(S+"-"+d.arrowPosition);switch(d.arrowPosition){case D.UP:case D.DOWN:f.setStyle("textAlign","center");break;case D.RIGHT:f.setStyle("textAlign","right");break;case D.LEFT:f.setStyle("textAlign","left");break;}}d.show();d.move(j[0]+J.OFFSET_XY[0]+b[0],j[1]+J.OFFSET_XY[1]+b[1]);if(W){switch(d.arrowPosition){case D.UP:case D.DOWN:W.setStyle("left",(X.getX()-f.getX())+"px");break;case D.RIGHT:case D.LEFT:a=parseInt(f.getStyle("height"),10);if(!a||a===0){a=30;}W.setStyle("top",(Math.floor(a/2)-Math.floor(Y/2))+"px");break;}}d._clearTimers();var e=d.get("contentBox");var Z=e.get("text");var V=Math.max(d.get("delay.auto"),Z.length*1000/10);if(d.get("autoHide")){d._timers.hide=B.later(V,d,d._hideTooltip);}d._clearOffscreenTimer();},_defTriggerEnterFn:function(X){var W=X.node,Y=this,V;if(!Y.get("disabled")){Y._clearTimers();V=(Y.get("visible"))?0:Y.get("delay.show");Y._timers.show=B.later(V,Y,Y._showTooltip,[W]);}},_defTriggerLeaveFn:function(){this._clearCurrentTrigger();this._clearTimers();this._hideTooltip();},_getXYForPosition:function(c){var a=this,g=a._currTrigger,W=a.get("boundingBox"),X=a.getNodeSize(g.node),V=g.node.getXY(),f=parseInt(W.getComputedStyle("width"),10),Z=parseInt(W.getComputedStyle("height"),10),d=g.mouseX,b=g.mouseY,Y,e;a.arrowPosition=J.ARROW_DIRECTION;switch(c){case T.CENTER:d=((X[0]/2)+V[0])-(f/2);b=V[1]+X[1];break;case T.TOPRIGHT:d=X[0]+V[0];b=V[1];break;case T.RIGHT:d=X[0]+V[0];
b=V[1]+X[1]/2-Z/2;break;case T.BOTTOMRIGHT:d=X[0]+V[0];b=V[1]-X[1];break;case T.BOTTOMLEFT:d=V[0]-f;b=V[1]-X[1];break;case T.LEFT:d=V[0]-f;b=V[1]+X[1]/2-Z/2;break;case T.TOPLEFT:d=V[0]-f;b=V[1];break;case T.MOUSE:break;}switch(J.ARROW_DIRECTION){case D.UP:case D.DOWN:Y=B.one("body").get("clientHeight");if(Y-b<Z+30){b=V[1]-Z-15;a.arrowPosition=D.DOWN;}break;case D.LEFT:e=B.one("html").get("clientWidth");if(e-d<f){d=V[0]-f-25;a.arrowPosition=D.RIGHT;}break;case D.RIGHT:if(d<0){d=V[0]+X[0]+10;a.arrowPosition=D.LEFT;}break;}B.log("XY Calculations :: Trigger WxH :"+X[0]+"x"+X[1]+" Trigger X,Y :"+V[0]+","+V[1]+" Tooltip WxH :"+f+"x"+Z+" Mouse X,Y :"+d+","+b);return[d,b];},_hideTooltip:function(){var V=this;V._clearCurrentTrigger();V.hide();V._clearTimers();V._setOffscreenTimer();},_setOffscreenTimer:function(){var W=this,V=W._timers;W._clearOffscreenTimer();V.offscreen=B.later(W.get("delay.offscreen"),W,W._moveOffscreen);},_moveOffscreen:function(){this.get("boundingBox").setStyles({"top":J.OFFSCREEN_XY[0]});},_clearOffscreenTimer:function(){var V=this._timers;if(V.offscreen){V.offscreen.cancel();}},_setTriggerContent:function(W){var X=this,V=W.getAttribute("title");V=X._getTemplateForContent(V);X.setTriggerContent([V]);},_getTemplateForContent:function(V){return J.TEMPLATE.replace("{{"+J.TEXT+"}}",O(V));},_setCurrentTrigger:function(W,V,b){var a=this,X=a._currTrigger,Z=a._eventHandles.trigger,Y;Y=W.getAttribute("title");a._setTriggerContent(W);Z.mouseMove=B.on("mousemove",B.bind(a._onNodeMouseMove,a),W);Z.mouseOut=B.on("mouseleave",B.bind(a._onNodeMouseLeave,a),W);if(X.node&&!X.node.compareTo(W)&&M(X.title)&&Y!==X.title){X.node.setAttribute("title",X.title);a.get("boundingBox").removeClass(I+"-"+a.getTooltipPosition());}W.setAttribute("title","");X.mouseX=V;X.mouseY=b;X.node=W;X.title=Y;},_clearCurrentTrigger:function(){var b=this,X=b._currTrigger,a=b._eventHandles.trigger,Z=C,W,Y,V;if(X.node){W=X.node;Y=X.title||"";X.node=null;X.title="";b.get("boundingBox").removeClass(I+"-"+b.getTooltipPosition());a.mouseMove.detach();a.mouseOut.detach();a.mouseMove=null;a.mouseOut=null;W.setAttribute("title",Y);if(X.nested instanceof U){Y=X.nested.getAttribute("title-off");X.nested.setAttribute("title",Y);X.nested.removeAttribute("title-off");}}for(V in Z){X[Z[V]]=null;}},_clearTimers:function(){var V=this._timers;if(V.hide){V.hide.cancel();V.hide=null;}if(V.show){V.show.cancel();V.show=null;}},_clearHandles:function(){var V=this._eventHandles,W=function(Y){var X;for(X in Y){if(Y[X] instanceof B.EventHandle&&Y[X].detach){Y[X].detach();Y[X]=null;}else{if(K(Y[X])){W(Y[X]);}}}};W(V);}},{OFFSCREEN_XY:R,OFFSET_XY:E,TRIGGER_CLASS:Q,ARROW_DIRECTION:D.LEFT,TEXT:F,TEMPLATE:A,POSITION:T,ATTRS:{trigger:{value:null,setter:function(W){var V={"include":[],"exclude":[]};if(M(W)){V.include.push(W);}else{if(L(W)){V.include=W;}else{if(K(W)){V=W;}else{V.include=["*[title]"];}}}return V;}},delegate:{value:null,setter:function(V){return B.one(V)||B.one("document");}},delay:{value:{show:250,hide:100,auto:1000,offscreen:1000}},visible:{value:false},width:{value:G},maxWidth:{value:P},xy:{value:R},autoHide:{value:false},constrain:{value:true},position:{value:T.CENTER}}});B.namespace("comms.ui");B.comms.ui.ToolTips=J;},"0.0.1",{requires:["node","common-utils","widget","widget-position","widget-position-constrain","widget-stack","event-mouseenter"]});/*
YUI 3.16.0 (build 3.16.0-ym15)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-base",function(e,t){var n="running",r="startTime",i="elapsedTime",s="start",o="tween",u="end",a="node",f="paused",l="reverse",c="iterationCount",h=Number,p={},d;e.Anim=function(){e.Anim.superclass.constructor.apply(this,arguments),e.Anim._instances[e.stamp(this)]=this},e.Anim.NAME="anim",e.Anim._instances={},e.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i,e.Anim.DEFAULT_UNIT="px",e.Anim.DEFAULT_EASING=function(e,t,n,r){return n*e/r+t},e.Anim._intervalTime=20,e.Anim.behaviors={left:{get:function(e,t){return e._getOffset(t)}}},e.Anim.behaviors.top=e.Anim.behaviors.left,e.Anim.DEFAULT_SETTER=function(t,n,r,i,s,o,u,a){var f=t._node,l=f._node,c=u(s,h(r),h(i)-h(r),o);l?"style"in l&&(n in l.style||n in e.DOM.CUSTOM_STYLES)?(a=a||"",f.setStyle(n,c+a)):"attributes"in l&&n in l.attributes?f.setAttribute(n,c):n in l&&(l[n]=c):f.set?f.set(n,c):n in f&&(f[n]=c)},e.Anim.DEFAULT_GETTER=function(t,n){var r=t._node,i=r._node,s="";return i?"style"in i&&(n in i.style||n in e.DOM.CUSTOM_STYLES)?s=r.getComputedStyle(n):"attributes"in i&&n in i.attributes?s=r.getAttribute(n):n in i&&(s=i[n]):r.get?s=r.get(n):n in r&&(s=r[n]),s},e.Anim.ATTRS={node:{setter:function(t){return t&&(typeof t=="string"||t.nodeType)&&(t=e.one(t)),this._node=t,!t,t}},duration:{value:1},easing:{value:e.Anim.DEFAULT_EASING,setter:function(t){if(typeof t=="string"&&e.Easing)return e.Easing[t]}},from:{},to:{},startTime:{value:0,readOnly:!0},elapsedTime:{value:0,readOnly:!0},running:{getter:function(){return!!p[e.stamp(this)]},value:!1,readOnly:!0},iterations:{value:1},iterationCount:{value:0,readOnly:!0},direction:{value:"normal"},paused:{readOnly:!0,value:!1},reverse:{value:!1}},e.Anim.run=function(){var t=e.Anim._instances,n;for(n in t)t[n].run&&t[n].run()},e.Anim.pause=function(){for(var t in p)p[t].pause&&p[t].pause();e.Anim._stopTimer()},e.Anim.stop=function(){for(var t in p)p[t].stop&&p[t].stop();e.Anim._stopTimer()},e.Anim._startTimer=function(){d||(d=setInterval(e.Anim._runFrame,e.Anim._intervalTime))},e.Anim._stopTimer=function(){clearInterval(d),d=0},e.Anim._runFrame=function(){var t=!0,n;for(n in p)p[n]._runFrame&&(t=!1,p[n]._runFrame());t&&e.Anim._stopTimer()},e.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var v={run:function(){return this.get(f)?this._resume():this.get(n)||this._start(),this},pause:function(){return this.get(n)&&this._pause(),this},stop:function(e){return(this.get(n)||this.get(f))&&this._end(e),this},_added:!1,_start:function(){this._set(r,new Date-this.get(i)),this._actualFrames=0,this.get(f)||this._initAnimAttr(),p[e.stamp(this)]=this,e.Anim._startTimer(),this.fire(s)},_pause:function(){this._set(r,null),this._set(f,!0),delete p[e.stamp(this)],this.fire("pause")},_resume:function(){this._set(f,!1),p[e.stamp(this)]=this,this._set(r,new Date-this.get(i)),e.Anim._startTimer(),this.fire("resume")},_end:function(t){var n=this.get("duration")*1e3;t&&this._runAttrs(n,n,this.get(l)),this._set(r,null),this._set(i,0),this._set(f,!1),delete p[e.stamp(this)],this.fire(u,{elapsed:this.get(i)})},_runFrame:function(){var e=this._runtimeAttr.duration,t=new Date-this.get(r),n=this.get(l),s=t>=e;this._runAttrs(t,e,n),this._actualFrames+=1,this._set(i,t),this.fire(o),s&&this._lastFrame()},_runAttrs:function(t,n,r){var i=this._runtimeAttr,s=e.Anim.behaviors,o=i.easing,u=n,a=!1,f,l,c;t>=n&&(a=!0),r&&(t=n-t,u=0);for(c in i)i[c].to&&(f=i[c],l=c in s&&"set"in s[c]?s[c].set:e.Anim.DEFAULT_SETTER,a?l(this,c,f.from,f.to,u,n,o,f.unit):l(this,c,f.from,f.to,t,n,o,f.unit))},_lastFrame:function(){var e=this.get("iterations"),t=this.get(c);t+=1,e==="infinite"||t<e?(this.get("direction")==="alternate"&&this.set(l,!this.get(l)),this.fire("iteration")):(t=0,this._end()),this._set(r,new Date),this._set(c,t)},_initAnimAttr:function(){var t=this.get("from")||{},n=this.get("to")||{},r={duration:this.get("duration")*1e3,easing:this.get("easing")},i=e.Anim.behaviors,s=this.get(a),o,u,f;e.each(n,function(n,a){typeof n=="function"&&(n=n.call(this,s)),u=t[a],u===undefined?u=a in i&&"get"in i[a]?i[a].get(this,a):e.Anim.DEFAULT_GETTER(this,a):typeof u=="function"&&(u=u.call(this,s));var l=e.Anim.RE_UNITS.exec(u),c=e.Anim.RE_UNITS.exec(n);u=l?l[1]:u,f=c?c[1]:n,o=c?c[2]:l?l[2]:"",!o&&e.Anim.RE_DEFAULT_UNIT.test(a)&&(o=e.Anim.DEFAULT_UNIT);if(!u||!f){e.error('invalid "from" or "to" for "'+a+'"',"Anim");return}r[a]={from:e.Lang.isObject(u)?e.clone(u):u,to:f,unit:o}},this),this._runtimeAttr=r},_getOffset:function(e){var t=this._node,n=t.getComputedStyle(e),r=e==="left"?"getX":"getY",i=e==="left"?"setX":"setY",s;return n==="auto"&&(s=t.getStyle("position"),s==="absolute"||s==="fixed"?(n=t[r](),t[i](n)):n=0),n},destructor:function(){delete e.Anim._instances[e.stamp(this)]}};e.extend(e.Anim,e.Base,v)},"3.16.0",{requires:["base-base","node-style"]});
/*
YUI 3.16.0 (build 3.16.0-ym15)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("widget-anim",function(e,t){function b(e){b.superclass.constructor.apply(this,arguments)}var n="boundingBox",r="host",i="node",s="opacity",o="",u="visible",a="destroy",f="hidden",l="rendered",c="start",h="end",p="duration",d="animShow",v="animHide",m="_uiSetVisible",g="animShowChange",y="animHideChange";b.NS="anim",b.NAME="pluginWidgetAnim",b.ANIMATIONS={fadeIn:function(){var t=this.get(r),f=t.get(n),l=new e.Anim({node:f,to:{opacity:1},duration:this.get(p)});return t.get(u)||f.setStyle(s,0),l.on(a,function(){this.get(i).setStyle(s,e.UA.ie?1:o)}),l},fadeOut:function(){return new e.Anim({node:this.get(r).get(n),to:{opacity:0},duration:this.get(p)})}},b.ATTRS={duration:{value:.2},animShow:{valueFn:b.ANIMATIONS.fadeIn},animHide:{valueFn:b.ANIMATIONS.fadeOut}},e.extend(b,e.Plugin.Base,{initializer:function(e){this._bindAnimShow(),this._bindAnimHide(),this.after(g,this._bindAnimShow),this.after(y,this._bindAnimHide),this.beforeHostMethod(m,this._uiAnimSetVisible)},destructor:function(){this.get(d).destroy(),this.get(v).destroy()},_uiAnimSetVisible:function(t){if(this.get(r).get(l))return t?(this.get(v).stop(),this.get(d).run()):(this.get(d).stop(),this.get(v).run()),new e.Do.Prevent},_uiSetVisible:function(e){var t=this.get(r),i=t.getClassName(f);t.get(n).toggleClass(i,!e)},_bindAnimShow:function(){this.get(d).on(c,e.bind(function(){this._uiSetVisible(!0)},this))},_bindAnimHide:function(){this.get(v).after(h,e.bind(function(){this._uiSetVisible(!1)},this))}}),e.namespace("Plugin").WidgetAnim=b},"3.16.0",{requires:["anim-base","plugin","widget"]});
YUI.add("_shared_module_offscreen_bin_tooltip_fresh",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_tooltip_fresh={base:"<div class='tooltip-arrow'></div><span class='tooltips-text'>{{tooltip_text}}</span>"};},"1.0.0");YUI.add("mail-ui-workspace-fresh",function(A){A.mix(A.mail.ui.Workspace,{_setupFeedback:function(){A.use("comms-ui-feedback-widget","_shared_module_feedback","feedback_css",function(H){var C=H.comms.ui.Feedback,G="_shared_module_feedback",D={},B=NeoConfig.expBucketId,F;if(NeoConfig.isCorpmail){F="http://yo/corpmailgsd";}D={internalIP:NeoConfig.isInternalIP,bucketId:B,template:H.ui.Templates[G].base,strings:{yconfidential:"Y! Confidential"},urls:{bug:F||strings.str_cfg_url_feedback_bug,productInfo:strings.str_cfg_url_feedback_product_info,moderator:strings.str_cfg_url_feedback_ymoderator,confidential:strings.str_cfg_url_feedback_confidential}};var E=new C(D);E.render("body");if(NeoConfig.expBucketIdList){H.use("mail-debug",function(I){I.mail._showBuckets();});}});},_setUpFreshToolTips:function(){var B={},D=A.comms.ui.ToolTips,F,E="_shared_module_offscreen_bin_tooltip_fresh",C=strings.str_tog_loadRTLCss?true:false;D.TRIGGER_CLASS="s-tp";D.OFFSET_XY=[C?-5:5,0];D.TEXT="tooltip_text";D.TEMPLATE=A.ui.Templates[E].base;D.ARROW_DIRECTION=C?"right":"left";B={shim:false,zIndex:100,position:C?"left":"right",width:"300px",delay:{show:25,hide:50,auto:6000,offscreen:0},render:true,autoHide:true,trigger:".s-tp"};F=new D(B);F.before("triggerEnter",function(I){var G=I.node,L=G?G.get("id"):"",J=null,K=this,H;A.fire("menu:display-menu-close");if(L==="btn-ml-count"||L==="btn-previous"||L==="btn-next"){H={"btn-previous":0,"btn-ml-count":0,"btn-next":2};J=G.one("span[title]");K.setCustomTriggerAttrs({"correction":[K.getNodeSize(J)[0]*H[L],-5]});K.setTriggerContent(false,J);}});A.on("menu:display-state",function(H){var G;if(H.state==="show"){F&&F.hide();}else{if(H.state==="hide"){G=A.one("#btn-ml-count");G&&G.removeClass("pressed");}}});A.on("mailview:toolbar-action",function(){F&&F.hide();});A.on("ToolTips:hideTooltips",function(){F&&F.hideToolTip();});}},1);},"1.0.0",{requires:["mail-ui-workspace-base","comms-ui-tooltips-widget","widget-anim","_shared_module_offscreen_bin_tooltip_fresh"]});YUI.add("mail-ui-workspace-stats",function(H){var E=NeoConfig,C=H.mail.ui.Workspace,A={},G=100;function D(K,J,I){var L={name:K};if(J){L.tags=J;}H.fire("util:ymstats",L);if(I){H.fire("mt:click",I);}}function F(){var I=H.one(".listnav-outter");C.statter("themeLaunch",{name:E.theme.id});C.statter("tabLauch",{enabled:E.tabs?1:0});C.statter("leftRailLaunch",{hasScrollbar:I.get("offsetHeight")<I.get("scrollHeight")?1:0});}function B(L,K,J,I){if(!I){I=G;}if(A[L]){A[L].cancel();}A[L]=H.later(I,C,C.statter,[L,K,J]);}H.mix(C,{sendStats:F,statter:D,statAfterIdle:B},1);},"1.0.0",{requires:["mail-ui-workspace-base"]});YUI.add("common-utils-rapid-clickmap",function(e){e.namespace("common.Utils").RapidCM={ml_srch:["hdr","hdr","srchMlLnk"],ml_srch_sugg:["hdr","hdr","sggstnLnk"],uh_themes_lnk:["hdr","hdr","thmsLnk"],uh_options_lnk:["hdr","hdr","mlOptnsLnk"],uh_msgr_options_lnk:["hdr","hdr","mssngrOptnsLnk"],uh_Calendar_options_lnk:["hdr","hdr","clndrOptnsLnk"],uh_upgrade_lnk:["hdr","hdr","upgrdLnk"],uh_help_lnk:["hdr","hdr","hlpLnk"],uh_feedback_lnk:["hdr","hdr","fdbckLnk"],uh_privacy_lnk:["hdr","hdr","prvcyLnk"],uh_legal_lnk:["hdr","hdr","lglLnk"],uh_copyright_lnk:["hdr","hdr","cpyRghtLnk"],uh_ads_lnk:["hdr","hdr","adsLnk"],uh_fullmail_lnk:["hdr","hdr","fllLnk"],uh_help_upgrade_lnk:["hdr","hdr","upgrdLnk"],mail_search:["hdr","hdr","srchMailBtn"],folder_tab:["tabs","{{activeTab}}","tab"],messageread_tab:["tabs","msgRdTb","tab"],compose_menu_toolbar:["msgLstTlbr","{{activeTab}}","tlbr","cmpsMnu"],compose_menu_toolbar_sel:["msgLstTlbr","{{activeTab}}","tlbr","cmpsMnuSel"],compose_new_nav_toolbar:["msgLstTlbr","{{activeTab}}","tlbr","cmpsBtn"],"tlbr_selectAll-message":["msgLstTlbr","{{activeTab}}","tlbr","selectAll"],tlbr_delete:["msgLstTlbr","{{activeTab}}","tlbr","dltBtn"],tlbr_reply_sender:["msgLstTlbr","{{activeTab}}","tlbr","rplyBtn"],tlbr_reply_all:["msgLstTlbr","{{activeTab}}","tlbr","rplyAllBtn"],tlbr_forward:["msgLstTlbr","{{activeTab}}","tlbr","frwrdBtn"],tlbr_spam:["msgLstTlbr","{{activeTab}}","tlbr","spmBtn"],"tlbr_menubtn-spam":["msgLstTlbr","{{activeTab}}","tlbr","spmMnu"],"tlbr_menusel-spam":["msgLstTlbr","{{activeTab}}","tlbr","spmMnuSel"],"tlbr_menubtn-move":["msgLstTlbr","{{activeTab}}","tlbr","mvMsgMnu"],"tlbr_menusel-move":["msgLstTlbr","{{activeTab}}","tlbr","mvMsgMnuSel"],"tlbr_menubtn-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnu"],"tlbr_menusel-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnuSel"],"tlbr_select-dd":["msgLstTlbr","{{activeTab}}","tlbr","slctMnuBtn"],"tlbr_menubtn-conv-view":["msgLstTlbr","{{activeTab}}","tlbr","vwMnuBtn"],tlbr_themes:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","thms"],tlbr_tab:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","tb"],tlbr_recent:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","rcnt"],tlbr_date:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtDt"],"tlbr_date-asc":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtDtAsc"],"tlbr_date-desc":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtDtDesc"],tlbr_unRead:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtUnrd"],tlbr_attachment:["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtAtt"],"tlbr_sort-flagged":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","srtFlg"],"tlbr_menusel-conv-view":["msgLstTlbr","{{activeTab}}","tlbr","vwMnu","vwChng"],"tlbr_reply-im":["msgLstTlbr","{{activeTab}}","tlbr","rplyBtn"],"tlbr_menubtn-conv-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnu",{t1:"chtTb"}],"tlbr_menusel-conv-actions":["msgLstTlbr","{{activeTab}}","tlbr","actnMnuSel",{t1:"chtTb"}],tlbr_edit:["msgLstTlbr","drftTb","tlbr","edtDrft"],tlbr_notspam:["msgLstTlbr","spmTb","tlbr","ntSpmBtn"],msglist_selectMnu:["msgLst","{{activeTab}}","msgLst","selectMnu"],msglist_retry:["msgLst","{{activeTab}}","msgLst","retry"],flag_message:["msgLst","{{activeTab}}","msgLst","flg"],unflag_message:["msgLst","{{activeTab}}","msgLst","unflg"],msglist_delBtn:["msgLst","{{activeTab}}","msgLst","delBtn"],msglist_sortMnu:["msgLst","{{activeTab}}","msgLst","sortMnu"],open_msg:["msgLst","{{activeTab}}","msgLst","msg"],rt_click_msglst_preview:["msgLst","{{activeTab}}","msgLst","rtClkMenuPreview"],rt_click_msglst:["msgLst","{{activeTab}}","msgLst","rtClkMenu"],click_select:["msgLst","{{activeTab}}","msgLst","slctMsg"],mas_frm_srch:["msgLst","{{activeTab}}","msgLst","frmSrch"],mas_sbj_srch:["msgLst","{{activeTab}}","msgLst","sbjSrch"],msglist_delBtn_thrd:["msgLst","{{activeTab}}","msgLst","delBtnThrd"],click_select_thrd:["msgLst","{{activeTab}}","msgLst","selThrd"],flag_thrd:["msgLst","{{activeTab}}","msgLst","flgThrd"],unflag_thrd:["msgLst","{{activeTab}}","msgLst","unflgThrd"],expand_thrd:["msgLst","{{activeTab}}","msgLst","expThrd"],retry_expand_thrd:["msgLst","{{activeTab}}","msgLst","retryExpThrd"],collapse_thrd:["msgLst","{{activeTab}}","msgLst","clpseThrd"],flag_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","flg"],unflag_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","unflg"],msglist_delBtn_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","delBtn"],open_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","msg"],open_thrd_drftMsg:["msgLst","{{activeTab}}","msgLst","thrdLst","drftMsg"],move_thrd_msg:["msgLst","{{activeTab}}","msgLst","thrdLst","move"],inbox_fldr:["fldrLst","leftRail","fldrLst","fldrInbx"],conversations_fldr:["fldrLst","leftRail","fldrLst","fldrCnv"],drafts_fldr:["fldrLst","leftRail","fldrLst","fldrDrft"],sent_fldr:["fldrLst","leftRail","fldrLst","fldrSnt"],spam_fldr:["fldrLst","leftRail","fldrLst","fldrSpm"],trash_fldr:["fldrLst","leftRail","fldrLst","fldrTrsh"],inbox_leftnav:["fldrLst","leftRail","fldrLst","inbxBtn"],calendar_leftnav:["fldrLst","leftRail","fldrLst","cldrBtn"],contacts_leftnav:["fldrLst","leftRail","fldrLst","cntctBtn"],notepad_leftnav:["fldrLst","leftRail","fldrLst","ntpdBtn"],msngr_nav:["fldrLst","leftRail","fldrLst","msngrBtn"],custom_expand:["fldrLst","leftRail","fldrLst","cstmexpnd"],custom_collapse:["fldrLst","leftRail","fldrLst","cstmclps"],checkmail_btn:["fldrLst","leftRail","fldrLst","chkMlBtn"],mim_toggle:["fldrLst","leftRail","fldrLst","togYFrnds"],mim_frnd:["fldrLst","leftRail","fldrLst","chtYFrnd"],mim_message_send:["fldrLst","leftRail","fldrLst","mimMsgSnd"],mim_message_receive:["fldrLst","leftRail","fldrLst","mimMsgRcv"],usr_fldr:["fldrLst","leftRail","fldrLst","fldrUser"],emptyspam_btn:["fldrLst","leftRail","fldrLst","emptySpmBtn"],emptytrash_btn:["fldrLst","leftRail","fldrLst","emptyTrshBtn"],fldr_add:["fldrLst","leftRail","fldrLst","fldrAdd"],fldr_edit_close:["fldrLst","leftRail","fldrLst","fldrEdtCls"],fldr_srch_open:["fldrLst","leftRail","fldrLst"
,"fldrSrchOpn"],fldr_srch_close:["fldrLst","leftRail","fldrLst","fldrSrchCls"],fldr_srch:["fldrLst","leftRail","fldrLst","fldrSrch"],cntxt_mnu_fldr:["fldrLst","leftRail","fldrLst","cntxtMnuFldrOpn"],"cntxt_mnu_fldr_itm_folder-new":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrAdd"],"cntxt_mnu_fldr_itm_folder-new-subfolder":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","sbfldrAdd"],"cntxt_mnu_fldr_itm_folder-rename":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrRnm"],"cntxt_mnu_fldr_itm_folder-remove":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrRmv"],"cntxt_mnu_fldr_itm_folder-allread":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrMrkRd"],"cntxt_mnu_fldr_itm_folder-empty-spam":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrMtSpm"],"cntxt_mnu_fldr_itm_folder-empty-trash":["fldrLst","leftRail","fldrLst","cntxtMnuFldr","fldrMtTrsh"],cntxt_mnu_sys_fldr:["fldrLst","leftRail","fldrLst","cntxtMnuSysFldrOpn"],"cntxt_mnu_sys_fldr_itm_folder-new":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrAdd"],"cntxt_mnu_sys_fldr_itm_folder-allread":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrMrkRd"],"cntxt_mnu_sys_fldr_itm_folder-empty-spam":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrMtSpm"],"cntxt_mnu_sys_fldr_itm_folder-empty-trash":["fldrLst","leftRail","fldrLst","cntxtMnuSysFldr","fldrMtTrsh"],cntxt_mnu_fldr_v3:["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3Opn"],"cntxt_mnu_fldr_v3_itm_folder-new":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrAdd"],"cntxt_mnu_fldr_v3_itm_folder-new-subfolder":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","sbfldrAdd"],"cntxt_mnu_fldr_v3_itm_folder-rename":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrRnm"],"cntxt_mnu_fldr_v3_itm_folder-remove":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrRmv"],"cntxt_mnu_fldr_v3_itm_folder-allread":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrMrkRd"],"cntxt_mnu_fldr_v3_itm_folder-empty-spam":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrMtSpm"],"cntxt_mnu_fldr_v3_itm_folder-empty-trash":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fldrMtTrsh"],"cntxt_mnu_fldr_v3_itm_find-folder":["fldrLst","leftRail","fldrLst","cntxtMnuFldrV3","fndFldr"],recentTabs_expand:["fldrLst","leftRail","fldrLst","recentTabs",{ltxt:"expand"}],left_rail_scroll:["fldrLst","leftRail","fldrLst","lftRlScrll"],themechooser_select:["thmDlg","dialog","thmDlg","selectTheme"],themechooser_exit_done:["thmDlg","dialog","thmDlg","done"],themechooser_exit_close:["thmDlg","dialog","thmDlg","close"],themechooser_exit_outside:["thmDlg","dialog","thmDlg","outside"],cmps_tab_cls:["tabs","cmpsTb","tbCls"],tlbr_send:["cmpsTlbr","cmpsTb","tlbr","snd",{t1view:"{{listMode}}"}],msg_send:["cmpsTlbr","cmpsTb","tlbr","sent"],tlbr_cancelcompose:["cmpsTlbr","cmpsTb","tlbr","cncl"],tlbr_savedraft:["cmpsTlbr","cmpsTb","tlbr","svdft"],cmps_addrec:["cmpsHdr","cmpsTb","cmpsHdr","addrec"],cmps_addcc:["cmpsHdr","cmpsTb","cmpsHdr","addcc"],cmps_addbcc:["cmpsHdr","cmpsTb","cmpsHdr","addbcc"],cmps_shwcc:["cmpsHdr","cmpsTb","cmpsHdr","shwcc"],cmps_hdcc:["cmpsHdr","cmpsTb","cmpsHdr","hdcc"],cmps_shwbcc:["cmpsHdr","cmpsTb","cmpsHdr","shwbcc"],cmps_hdbcc:["cmpsHdr","cmpsTb","cmpsHdr","hdbcc"],cmps_rplysndr:["cmpsHdr","cmpsTb","cmpsHdr","rplysndr"],cmps_rplyall:["cmpsHdr","cmpsTb","cmpsHdr","rplyall"],ac_del:["cmpsHdr","cmpsTb","cmpsHdr","ac_del"],ac_select:["cmpsHdr","cmpsTb","cmpsHdr","ac_select"],cmps_emo:["emo","cmpsTb","well"],cmps_fmt:["fmt","cmpsTb","well"],cmps_attch:["attch","cmpsTb","well"],cmps_attchReply_mnu:["attch","cmpsTb","well","attprntmnu"],cmps_attflmnu:["attch","cmpsTb","well","attflmnu"],cmps_attfl:["attch","cmpsTb","well","attfl"],cmps_attlgfl:["attch","cmpsTb","well","attlgfl"],cmps_attflk:["attch","cmpsTb","well","attflk"],"cmps_wl_btn-fontname":["fmt","cmpsTb","well","fnttyp"],"cmps_wl_btn-fontsize":["fmt","cmpsTb","well","fntsz"],cmps_wl_bold:["fmt","cmpsTb","well","bld"],cmps_wl_italic:["fmt","cmpsTb","well","itlcs"],cmps_wl_underline:["fmt","cmpsTb","well","undrln"],"cmps_wl_btn-forecolor":["fmt","cmpsTb","well","fntclr"],"cmps_wl_btn-backcolor":["fmt","cmpsTb","well","fnthglght"],"cmps_wl_align-l":["fmt","cmpsTb","well","algnlft"],"cmps_wl_align-c":["fmt","cmpsTb","well","algnctr"],"cmps_wl_align-r":["fmt","cmpsTb","well","algnrght"],"cmps_wl_btn-indent":["fmt","cmpsTb","well","indent"],"cmps_wl_btn-text-align":["fmt","cmpsTb","well","alignmn"],cmps_wl_indent:["fmt","cmpsTb","well","incindnt"],cmps_wl_outdent:["fmt","cmpsTb","well","decindnt"],cmps_wl_insertunorderedlist:["fmt","cmpsTb","well","bllt"],cmps_wl_insertorderedlist:["fmt","cmpsTb","well","blltOrdr"],cmps_wl_insertnumberedlist:["fmt","cmpsTb","well","num"],cmps_wl_insertlink:["fmt","cmpsTb","well","hyprlnk"],cmps_wl_emoticon:["fmt","cmpsTb","well","emomnu"],cmps_wl_spellcheck:["fmt","cmpsTb","well","spllchk"],"cmps_wl_btn-spell-langs":["fmt","cmpsTb","well","spllchkmnu"],cmps_stchpt:["fmt","cmpsTb","well","stchpt"],cmps_qtd_txt:["cmpsBdy","cmpsTb","cmpsBdy","expndTxt"],"cmps_wl_btn-fontnamesize":["fmt","cmpsTb","well","fntSz"],"cmps_wl_btn-insertunordered":["fmt","cmpsTb","well","blltLstMnu"],cmps_wl_fmt_tlbr:["fmt","cmpsTb","well","fmtTlbr"],cmps_dlg_attch_rply_cls:["rcpntDlg","dialog","rcpntDlg","close"],cmps_dlg_attch_rply_no:["rcpntDlg","dialog","rcpntDlg","no"],cmps_dlg_attch_rply_ok:["rcpntDlg","dialog","rcpntDlg","yes"],att_cmps_exp:["attch","cmpsTb","well","attExp"],att_cmps_cll:["attch","cmpsTb","well","attCll"],att_cmps_rmv:["attch","cmpsTb","well","attRmv"],att_cmps_nrtn:["attch","cmpsTb","well","attNrtn"],att_cmps_mnu_rmv:["attch","cmpsTb","well","attMnuRmv"],att_cmps_dnd_mlti:["attch","cmpsTb","well","attDndMlti"],db_dropbox_link_ok:["attch","cmpsTb","well","attDbOk"],db_dropbox_link_cancelled:["attch","cmpsTb","well","attDbCnl"],db_dropbox_share_from_activated:["attch","cmpsTb","well","attDbAc"],db_dropbox_alf_enable_ok:["attch","cmpsTb","well","attDbAlfAc"],att_save_to_dropbox:["attch","cmpsTb","well"
,"attSvtDb"],enhancr_autolink_count:["attch","cmpsTb","well","attEnAL"],tlbr_print:["msgReadTlbr","msgRdTb","tlbr","prntBtn"],tlbr_prev:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"up"}],tlbr_next:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"down"}],tlbr_left:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"left"}],tlbr_right:["msgReadTlbr","msgRdTb","tlbr","navBtn",{ltxt:"right"}],"tlbr_menubtn-msg-actions":["msgReadTlbr","msgRdTb","tlbr","actnMnu"],"tlbr_menusel-msg-actions":["msgReadTlbr","msgRdTb","tlbr","actnMnuSel"],"tlbr_thread-toggle":["msgReadTlbr","msgRdTb","tlbr","thrdTgl"],tlbr_closemsg:["msgReadTlbr","msgRdTb","tlbr","clsMsg"],subject:["msgRead","msgRdTb","msgHdr","sbjct"],frm_srch:["msgRead","msgRdTb","msgHdr","frmSrch"],download_paperclip:["msgRead","msgRdTb","msgHdr","dlPcBtn"],lozenge_add:["msgRead","msgRdTb","msgHdr","lzngAddBtn"],lozenge_more:["msgRead","msgRdTb","msgHdr","lzngMoreBtn"],lozenge_menu:["msgRead","msgRdTb","msgHdr","lzngMnu"],details:["msgRead","msgRdTb","msgHdr","dtlsBtn"],read_toggle:["msgRead","msgRdTb","msgHdr","readInfo"],flag:["msgRead","msgRdTb","msgHdr","flg"],retry:["msgRead","msgRdTb","msgBody","retryBtn"],show_images:["msgRead","msgRdTb","msgBody","shwImgBtn"],options:["msgRead","msgRdTb","msgBody","optnBtn"],show_fullmsg:["msgRead","msgRdTb","msgBody","fullMsgBtn"],download_all:["msgRead","msgRdTb","msgBody","dlAllBtn"],download_single:["msgRead","msgRdTb","msgBody","dlSglBtn"],atm_norton:["msgRead","msgRdTb","msgHdr","atmNorton"],atm_slideshow_next:["msgRead","msgRdTb","msgHdr","atmSsNext"],atm_slideshow_prev:["msgRead","msgRdTb","msgHdr","atmSsPrev"],atm_download_thumbnail_selected:["msgRead","msgRdTb","msgHdr","atmDlTnSel"],atm_download_menu_selected:["msgRead","msgRdTb","msgHdr","atmDlMnSel"],atm_download_all_selected:["msgRead","msgRdTb","msgHdr","atmDlAllSel"],atm_slideshow_thumbnail_selected:["msgRead","msgRdTb","msgHdr","atmSsTnSel"],atm_slideshow_file_selected:["msgRead","msgRdTb","msgHdr","atmSsFlSel"],atm_slideshow_photo_selected:["msgRead","msgRdTb","msgHdr","atmSsPhSel"],atm_slideshow_all_selected:["msgRead","msgRdTb","msgHdr","atmSsAllSel"],atm_slideshow_download_single:["msgRead","msgRdTb","msgHdr","atmSsDlSi"],atm_download_success:["msgRead","msgRdTb","msgHdr","atmDlSuc"],atm_download_error_general:["msgRead","msgRdTb","msgHdr","atmDlErrGen"],atm_download_error_json:["msgRead","msgRdTb","msgHdr","atmDlErrJson"],atm_download_success_warnings:["msgRead","msgRdTb","msgHdr","atmDlSucWarns"],atm_download_success_errors:["msgRead","msgRdTb","msgHdr","atmDlSucErrs"],atm_download_success_warning:["msgRead","msgRdTb","msgHdr","atmDlSucWarn"],atm_download_success_error:["msgRead","msgRdTb","msgHdr","atmDlSucErr"],atm_download_success_success:["msgRead","msgRdTb","msgHdr","atmDlSucSuc"],atm_dropbox_saveto_selected:["msgRead","msgRdTb","msgHdr","atmDpSvtSel"],atm_dropbox_saveall_selected:["msgRead","msgRdTb","msgHdr","atmDpSvlSel"],flag_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","flg"],unflag_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","unflg"],read_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","read"],unread_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","unread"],retry_thrd_hdr:["thrdRead","thrdRdTb","thrdHdr","retryBtn"],flag_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","flg"],unflag_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","unflg"],read_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","read"],unread_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","unread"],expand_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","expMsg"],collapse_thrd_msg_hdr:["thrdRead","thrdRdTb","msg","msgHdr","clpseMsg"],show_images_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","shwImgBtn"],expand_qtd_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","expQtd"],collapse_qtd_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","clpseQtd"],retry_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","retryBtn"],options_thrd_msg:["thrdRead","thrdRdTb","msg","msgBody","optnBtn"],reply_sender_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","rplyBtn"],reply_all_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","rplyAllBtn"],quick_reply_sender_tlbr_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","qrRplyBtn"],quick_reply_all_tlbr_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","qrRplyAllBtn"],quick_forward_tlbr_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","qrFwdBtn"],quick_reply_all_thrd_msg:["thrdRead","thrdRdTb","msg","qRply","rplyAllBtn"],forward_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","frwrdBtn"],delete_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","dltBtn"],actnMnu_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","actnMnu"],spam_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","spamBtn"],print_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","print"],fullheader_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","fullheader"],set_encodings_thrd_msg:["thrdRead","thrdRdTb","msg","tlbr","set_encodings"],reply_card_menu_reply_all:["thrdReply","thrdRdTb","compose","thrdReplyHdr","replyAllMenu"],reply_card_menu_reply_sender:["thrdReply","thrdRdTb","compose","thrdReplyHdr","replySenderMenu"],reply_card_menu_forward:["thrdReply","thrdRdTb","compose","thrdReplyHdr","fwdMenu"],"reply_card_switch-to-fullcompose":["thrdReply","thrdRdTb","compose","thrdReplyHdr","switchToTallBtn"],"reply_card_reply-mode-change":["thrdReply","thrdRdTb","compose","thrdReplyHdr","replyModeBtn"],"reply_card_qr-cancel":["thrdReply","thrdRdTb","compose","thrdReplyHdr","cancelBtn"],compose_hdr_close_confirm_cc:["thrdReply","thrdRdTb","compose","thrdReplyHdr","closeCcConfirm"],compose_hdr_close_confirm_bcc:["thrdReply","thrdRdTb","compose","thrdReplyHdr","closeBccConfirm"],srch_flt:["leftRail","srchTb","flt"],srch_tgl:["leftRail","srchTb","tgl"],mb_ad:["msgLst","{{activeTab}}","msgLst","mbAds"],mb_ad_thrd:["msgLst","{{activeTab}}","msgLst","mbAds"],gta_get:["signup","leftRail","mblzr","gta-btn",{cat:"gtaa"}],gta_send:["signup","leftRail","mblzr","send",{cat:"gtaa"}],autosuggest_auth_facebook:["cmpsHdr","cmpsTb","cmpsHdr","asFbFtr"
],autosuggest_auth_linkedin:["cmpsHdr","cmpsTb","cmpsHdr","asLiFtr"],autosuggest_auth_twitter:["cmpsHdr","cmpsTb","cmpsHdr","asTwFtr"]}},"1.0.0",{requires:[]});
YUI.add("common-utils-rapid-viewmap",function(e){e.namespace("common.Utils").RapidVM={folderview_inbox:["click_select","mas_frm_srch","msglist_delBtn","flag_message","unflag_message","open_msg"],autosuggest_footer:["autosuggest_auth_facebook","autosuggest_auth_linkedin","autosuggest_auth_twitter"]}},"1.0.0",{requires:["common-utils-rapid-clickmap"]});
YUI.add("boss-ult",function(A){A.mix(A.common.Utils.RapidCM,{boss_show_hover:["attrBar","leftRail","attrBar","opnHvr"],boss_hide_hover:["attrBar","leftRail","attrBar","clsHvr"],boss_show_key:["attrBar","leftRail","attrBar","opnKey"],boss_show_click:["attrBar","leftRail","attrBar","opnClk"],boss_hide_key:["attrBar","leftRail","attrBar","clsKey"],boss_hide_click:["attrBar","leftRail","attrBar","clsClk"],boss_change_theme:["attrBar","leftRail","attrBar","chngThm"],boss_show_themes:["attrBar","leftRail","attrBar","opnThms"],boss_hide_themes:["attrBar","leftRail","attrBar","clsThms"],boss_prev_thumbs:["attrBar","leftRail","attrBar","prvThmbs"],boss_next_thumbs:["attrBar","leftRail","attrBar","nxtThmbs"],boss_save_theme:["attrBar","leftRail","attrBar","svThm"],boss_show_zoom:["attrBar","leftRail","attrBar","opnZm"],boss_hide_zoom:["attrBar","leftRail","attrBar","clsZm"],boss_theme_category:["attrBar","leftRail","attrBar","chngCt"],boss_attr:["attrBar","leftRail","attrBar","attrLnk"]});A.mix(A.common.Utils.RapidVM,{boss:["boss_attr"]});},"1.0.0",{requires:["common-utils-rapid-clickmap","common-utils-rapid-viewmap"]});YUI.add("mail-ui-boss",function(D){var Q=NeoConfig,T="boss",I="boss-hide",N="boss-passive",a=500,F=500,M="boss",S=Q.bossThemes,B=Q.bossMt,G=[],U=Q.bossSky,P=Q.bossSS,W=D.one("body"),X=W.one(".attribution-bar"),K=X.one(".attribution"),E=W.one(".boss-mask"),J,L,R=D.mail.Tabs,A,H,C,O,V=[],Z;Z=function(){function l(){return W.hasClass(T);}function Y(p){if(p&&C&&p==="multitask"){C.show();}else{if(A){A.show();if(C&&C.arePreviewsEnabled()){C.show();}}}D.fire("mt:view",{action:"boss"});D.fire("boss:afterShow");}function h(p){D.fire("boss:pre-show");W.addClass(T);document.activeElement.blur();X.removeClass(I);V.push(W.on("keydown",g));if(G.length){D.use(G,function(q){if(B){C=q.mail.ui.Boss.Multitask;}if(S){A=q.mail.ui.Boss.Themes;}Y(p);});}else{Y(p);}if(U){D.fire("darlaEvent",{action:"boss"});}O=(new Date()).getTime();}function k(q){var r,p;while(V.length>0){V.pop().detach();}if(C&&C.isActive()){C.hide();}if(A&&A.isActive()){A.hide();}if(q&&U){p=R.getActiveTab();if(p){p.set("active",0);R.switchToTab(p);}}W.removeClass(T);r=((new Date()).getTime()-O)/1000;D.fire("util:ymstats",{name:"bossTimeActive",unit:"s",type:"duration",dataum:r});D.fire("boss:hide");}function e(p){D.fire("boss:pre-hide");b();if(H){H.disable(k);}else{k(p);}}function f(p){if(p){p.cancel();}}function b(){f(J);f(L);}function o(p,q){D.fire("util:ymstats",{name:p,tags:{how:q}});}function d(q,p){b();if(l()){e(true);if(p){D.fire("mt:click",{action:"boss_hide_key"});o("bossHide","key");}else{D.fire("mt:click",{action:"boss_hide_click"});o("bossHide","click");}}else{h(q);if(p){D.fire("mt:click",{action:"boss_show_key"});o("bossShow","key");}else{D.fire("mt:click",{action:"boss_show_click"});o("bossShow","click");}}}function c(q){var p=q.currentTarget;b();X.removeClass(I);if(l()){if(p.hasClass(N)){return;}}J=D.later(a,this,function(){if(!l()){h();D.fire("mt:click",{action:"boss_show_hover"});o("bossShow","hover");}else{if(A&&!A.isActive()){h("themes");}}});}function j(){if((H&&H.isManuallyPlaying())||(C&&C.isActive())){return;}b();L=D.later(F,this,function(){if(l()){e(true);D.fire("mt:click",{action:"boss_hide_hover"});o("bossHide","hover");}});X.addClass(I);}function i(p){b();if(l()){e(true);p.halt();D.fire("mt:click",{action:"boss_hide_click"});o("bossHide","mask");}}function n(q){var p=q.target;if(p.ancestor(".att-link")){D.fire("mt:click",{action:"boss_attr"});D.fire("util:ymstats",{name:"bossAttr"});}else{if(A&&l()){A.toggleSwitcher();q.halt();}}}function g(q){var p=false;if(l()){switch(q.keyCode){case 27:d(null,true);p=true;break;}if(!p){if(C&&C.handleKeydown(q)){p=true;}}p=true;}if(p&&q.halt){q.halt();}return p;}function m(){E.on("click",i);X.on("hover",c,j);D.all(".boss-active").on("hover",c,j);D.all("."+N).on("hover",c,j);K.on("click",n);if(B){G.push("mail-ui-boss-multitask");}if(S){G.push("mail-ui-boss-themes");}D.on(M+":toggle",function(p){var r,q;if(p){r=p.mode;q=p.fromKey;}d(r,q);});D.on("nav:boss",function(p){d(null,p.keyCode?true:false);});}m();D.mix(this,{toggle:d,isActive:l,hide:e,cancelTimer:f,overActiveArea:c,outsideActiveArea:j,handleKeydown:g});};D.namespace("mail.ui").Boss=new Z();},"1.0.0",{requires:["event-hover","mail-common-utils-features","boss-ult"]});YUI.add("mail-ui-recorder",function(C){var J=0,B="yui_",K=5,G=NeoConfig.maxClickRecords||30,D=[],A=0,F=window.NeoGV||{},L=C.namespace("mail.ui"),H,E,I;I={normalizeForYmma:function(M){if(typeof M!=="string"){if(M&&M.toString){M=M.toString();}else{M="";}}return M.substring(0,60).replace(/[^\w\d]/gi,"_");},getNearestAttribute:function(O,M,P){var N=O.getAttribute(M);if(N){return N;}else{O=O.parentNode;while(O&&!N&&O.getAttribute&&(P===undefined||P>0)){N=O.getAttribute(M);O=O.parentNode;if(P){P--;}}}return N;},getNearestProperty:function(O,M,N){var P=O[M];if(!P||(N&&typeof P==="string"&&(P.indexOf(N)===0))){O=O.parentNode;while(O&&(!P||(N&&typeof P==="string"&&(P.indexOf(N)===0)))){P=O[M];O=O.parentNode;}}return P;},recordClickInfo:function(V){var O=V.el,W=O.nodeName,P=I.getNearestAttribute(O,"data-action")||"",R=I.getNearestProperty(O,"className")||"",M=I.getNearestProperty(O,"id",B)||"",N,S,U,T,Q;if(L.Player&&L.Player.shouldIgnoreNode(O)){return;}if(H){S=I.getNearestAttribute(O,"data-ck",3);if(S){C.fire("mt:click",{action:S});}}J++;U=W+"_"+P+"_I_"+M+"_C_"+R;N={clickNumber:J,dataAction:P,className:R,id:M,clientX:Math.round(V.clientX)||0,clientY:Math.round(V.clientY)||0,sig:U};if(J<=K){Q={clickNumber:I.normalizeForYmma(J)};C.fire("util:ymstats",{name:"recorder",tags:Q,unit:"milliseconds",type:"duration",dataum:V.time});C.fire("MailLog",{m:"n="+Q.clickNumber+","+"t="+Math.round(V.time)+","+"x="+N.clientX+","+"y="+N.clientY+","+"s="+U},1,"RCInfo");}N.m="Record Click";N.time=V.time;C.common.Utils.log(N,false,"ClickRecord");D.push(N);if(D.length>G){D.shift();A++;}C.fire("rc:after");return N;},recordClicks:function(){var M=F.clickRecord;while(M.length){I.recordClickInfo(M.shift());}},getRecords:function(){return D;},getClickRecord:function(N){var M=N-A;return D[M]?D[M]:false;},getLastClickSig:function(P){var O=D.length,M,N,Q;if(O>0){M=D[O-1];N=I.normalizeForYmma(M.sig);if(H&&C.common.Utils.Rapid){Q=C.common.Utils.Rapid.getClickKeyForTime(M.time);if(Q){N+=":"+Q;}}if(P){M.error=1;C.fire("util:ymstats",{name:"recorder_error",tags:{sig:Q||M.sig}});C.fire("MailLog",{m:"n="+M.clickNumber+","+"t="+M.time+","+"x="+M.clientX+","+"y="+M.clientY+","+"s="+N},1,"RCError");}return N;}else{return"";}},recordSignout:function(){F.clickRecord.push({el:Neo.getElementsByClass("yucs-signout")[0]||document.body,time:Neo.performance.now(),clientX:0,clientY:0});I.recordClicks();},overrideEventObject:function(){if(E||!Neo||!Neo.globalClickRecorder){return;}var M=window.Event;if(M&&M.prototype&&M.prototype.stopPropagation){M.prototype.oldStopPropagation=M.prototype.stopPropagation;M.prototype.stopPropagation=function(){if(this.type==="click"){Neo.globalClickRecorder(this);}return this.oldStopPropagation();};E=true;}else{C.fire("util:ymstats",{name:"windowEventMissing"});}},init:function(){if(!F.clickRecord){F.clickRecord=[];}H=C.common.Utils.features.enabled("rapidUlt")||NeoConfig.isUltThrottled||NeoConfig.isRpdWithLH||NeoConfig.expBucketId!=="0";I.recordClicks();C.on("rc",I.recordClicks,I);C.Global.once("ucs:signout",I.recordSignout);I.overrideEventObject();}};I.init();C.namespace("mail.ui").Recorder=I;},"1.0.0",{requires:["ymma-stats","common-utils","mail-common-utils-features"]});YUI.add("contacts-ui-contactsevents",function(B){B.namespace("contacts.ui");var A=function(){var E=this,D=[{name:"contacts:api:contactChanged",showContactsTab:false,contactsView:null},{name:"ct:add_contact",showContactsTab:true,contactsView:"create_update_contact"},{name:"ct:view_contact",showContactsTab:true,contactsView:"view_contact"},{name:"ct:manage_updates",showContactsTab:true,contactsView:"manage_updates"},{name:"ct:import_contacts",showContactsTab:true,contactsView:"contact_import_landing"},{name:"ct:view_connections",showContactsTab:true,contactsView:"view_connections"},{name:"themes:change",showContactsTab:false,contactsView:null},{name:"tabs:toggle",showContactsTab:false,contactsView:null}],C=[{name:"contacts:contactChanged"},{name:"newMessage"},{name:"iframe:loaded"},{name:"contacts:sendSms"},{name:"contacts:sendIM"},{name:"contacts:shortcut"},{name:"contacts:launchrtcomplete"}];B.mix(E,{eventsFromSab:C,eventsToSab:D});};B.contacts.ui.contactsEvents=new A();},"1.0.0");YUI.add("contacts-ui-contactsview",function(A){var B=function(E){var H=this,G,L=null,F,C="",I=E||{},K=A.common.Utils.parseQueryString()||{};H.contactsTabNode=null;function D(N){G=A.one(N);G.append(F);H.contactsTabNode=A.one("#abIframeTab");}function J(N){I=N||{};M();}function M(){var N,Q,P,O=NeoConfig.theme?NeoConfig.theme.id:"";if(I){N=I.vpc?"&VPC="+I.vpc:"";Q=I.params?"&id="+I.params:"";}if(NeoConfig.mintyAB){if(O){P=(!NeoConfig.cssSuffix||NeoConfig.cssSuffix==="")?"dev":NeoConfig.cssSuffix;P=P.replace("_","");C+="/yab-fe/mu/MainView?.src=neo&themeName="+O+N+"&bn="+P+"&s="+(NeoConfig.isSSL?1:0);}else{C+="/yab-fe/mu/MainView?.src=neo"+N;}C+=Q;}else{C="/yab-fe/?.src=neo"+N+Q;}C+="&pc=1&bucketId="+NeoConfig.expBucketId;if(K.id){C+="&id="+K.id;}if(K[".intl"]){C+="&.intl="+K[".intl"];}if(K[".lang"]){C+="&.lang="+K[".lang"];}if(K.ecd||NeoConfig.enableEnhancedContactDetails==="1"||NeoConfig.expBucketId==="XOBNIECDT1"||NeoConfig.isCorpmail){C+="&ecd="+(K.ecd?K.ecd:"1");}C+="&stab="+(new Date()).getTime();F=A.Node.create('<div class="content" style="width:100%;height:100%;overflow:hidden">'+'<iframe  target="_blank" allowtransparency="true" frameborder="0" vspace="0" hspace="0" style="background-color: transparent; width: 100%; height: 100%; " id="abIframeTab" src="'+C+'"/>'+"</div>");}M();B.superclass.constructor.call(H);A.mix(H,{NAME:"ContactsView",render:D,contactsTab:L,updateConfig:J},true);H.set("hideToolbar",1);};A.extend(B,A.mail.ui.BaseWidget);A.namespace("contacts.ui");A.contacts.ui.ContactsView=null;A.contacts.ui.getContactsViewInstance=function(C){if(A.contacts.ui.ContactsView){return A.contacts.ui.ContactsView;}else{A.contacts.ui.ContactsView=new B(C);return A.contacts.ui.ContactsView;}};},"1.0.0",{requires:["mail-ui-basewidget","node-event-simulate"]});YUI.add("contacts-ui-contactseventstranslator",function(B){B.namespace("contacts.ui");var A=function(){var I=this;B.augment(I,B.EventTarget);function G(K,L){var J=K.contactsView,M,N=null;if(J){if(L&&L.args&&L.args.ids){M=L.args.ids.join(",");}N={vpc:J,params:M};}return N;}function E(J,K){if(B.contacts.ui.ContactsView&&B.contacts.ui.ContactsView.contactsTab){if(J.showContactsTab){if(B.contacts.ui.ContactsView.contactsTab.get("active")!==1){B.contacts.ui.ContactsView.contactsTab.set("active",1);}}}else{if(J.showContactsTab){B.fire("openContacts",G(J,K));}}}function F(J){B.Global.on(J.name,function(K){B.fire(J.name,K);});}function C(J){B.on(J.name,function(K){if(B.contacts.ui.ContactsView&&B.contacts.ui.ContactsView.contactsTab){if(K){B.mix(K,{type:J.name});}else{K={type:J.name};}if(NeoConfig.mintyAB){B.one("#abIframeTab").fire(J.name,K);}else{B.Global.fire(J.name,K);}}E(J,K);});}function H(){var J,K;J=B.contacts.ui.contactsEvents.eventsToSab;for(K in J){if(J.hasOwnProperty(K)){C(J[K]);}}J=B.contacts.ui.contactsEvents.eventsFromSab;for(K in J){if(J.hasOwnProperty(K)){F(J[K]);}}}function D(K){var J=B.contacts.ui.ContactsView,L=J?J.contactsTabNode:null;if(L){L.simulate("keydown",K.event);}}B.on("contacts:shortcut",D);H();};B.contacts.ui.contactsEventTranslator=new A();},"1.0.0",{requires:["contacts-ui-contactsevents","contacts-ui-contactsview"]});YUI.add('newsfeed_strings', function(Y) {
Y.namespace("mail");
Y.mix(strings,{"str_breaking_news_toggle_on":"\u95dc\u9589\u5373\u6642\u65b0\u805e\u901a\u77e5","str_breaking_news_toggle_off":"\u958b\u555f\u5373\u6642\u65b0\u805e\u901a\u77e5","str_newsfeed_email":"\u900f\u904e\u96fb\u5b50\u4fe1\u4ef6\u50b3\u9001\u6b64\u5ee3\u544a","str_newsfeed_tumblr":"\u8f49\u8cbc","str_newsfeed_twitter":"\u63a8\u6587","str_newsfeed_pinterest":"\u5f35\u8cbc","str_newsfeed_facebook":"\u5206\u4eab","str_newsfeed_loading_error":"\u8f09\u5165\u65b0\u805e\u6458\u8981\u6642\u767c\u751f\u554f\u984c"});
}, '1.0.0');YUI.add("mail-ui-mb-model",function(e){var t=e.common.net.SessionMgr,n=6e5,r=e.Node.one("#theAd"),i=e.common.Utils,s=NeoConfig.intl+(NeoConfig.partnerType?"_"+NeoConfig.partnerType:""),o=function(){};o.prototype={init:function(e){return this.isCached=e.isCached,this.sectionId=e.sectionId,this.currentAds=[],this.isCached&&this.execute({fetchOnly:!0}),this},statMBAdCall:function(t){e.fire("util:ymstats",{name:"moneyball_adcall_made",tags:{status:t,section:this.sectionId,intl:s,bkt:NeoConfig.expBucketId}})},parseAdResponse:function(e){var t=[],n;if(e.ads){for(var r=0;r<e.ads.length;r++)n=e.ads[r],n=this._parseAdTag(n,r),n&&t.push(n);if(t.length)return this.statMBAdCall("success_displayed"),t}this.statMBAdCall("failure_noads")},_parseAdTag:function(t,n){var r,s,o,u;if(t&&t.tag){try{o=e.JSON.parse(t.tag)}catch(a){typeof globals!="undefined"&&globals.report?globals.report("caughterror:..-build-mail-ui-moneyball-mbModel:1",a,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-mail-ui-moneyball-mbModel:1");return}return u=t.beacon.replace("$(AD_POSN)",n+1),r=o.secImage||this._secureImageUrl(o.image),i.features.enabled("AdBlockr")&&this._adBlockDetected()?(this.sectionId=5420332,r=this._fixMBAd(r),this.statMBAdCall("mb_adblock_unblocked")):s=o.secHqImage||this._secureImageUrl(o.hqImage),{ad_headline:o.headline,ad_summary:o.summary,ad_img:r,ad_source:o.source,image_width:o.imageWidth,image_height:o.imageHeight,resized_hq_image:o.resizedHqImageUrl,hq_image:s,hq_image_width:o.hqImageWidth,hq_image_height:o.hqImageHeight,click_url:o.clickUrl,landing_url:o.landingUrl,imp_tracking_url:o.imprTrackingUrls?"":o.imprTrackingUrl,imp_tracking_pixels:this._getMBImpTrackingPixels(o.imprTrackingUrls),creative_id:t.creativeId,beacon:u,ri:t.ri,sponsored_url:strings.str_cfg_url_about_adchoices,str_srch_sponsored:strings.str_srch_sponsored,str_sponsored_by:strings.str_sponsored_by,str_native_star:strings.str_native_star,str_native_delete:strings.str_native_delete,str_native_search:strings.str_native_search,moneyball_list_bg:i.settings.value("moneyballColor"),override_classes:i.features.enabled("newsFeedMBTransparency")?"mb-background-transparency":""}}},_secureImageUrl:function(t){return t?e.Lang.trim(t).replace(/^http:\/\/l\d?\./,"https://s.")||"":""},_getMBImpTrackingPixels:function(t){var n="";if(!t||!e.Lang.isArray(t))return n;for(var r=0;r<t.length;r++)n+=r>0?"\n":"",n+='<img class="mb-beacon" src="'+t[r]+'" width="1" height="1" alt="" />';return n},_adBlockDetected:function(){var t=0;return e.mail.Tabs.getActiveTab().widget.type==="newsfeedtab"&&(t=1),!NeoConfig.vertPane&&NeoConfig.hasAds&&r&&r.get("clientHeight")===0&&!t?!0:!1},_fixMBAd:function(t){var n;return t.indexOf("http://")!==-1&&(t=this._secureImageUrl(t)),n=e.one(".mb-list-ad.mb-list-img-ad.mb-with-img"),t=t.replace("s.yimg.com/",window.location.host+"/neo/mbimg?"),t=t.replace("/ads/","/ds/"),n&&(n.setAttribute("style","display:block !important"),n.one(".adlink").setAttribute("style","display:block !important"),n.one(".mb-sponsored").setAttribute("style","display:block !important")),t},execute:function(n){n=n||{},this.isCached&&!n.fetchOnly&&(this.cachedAds?this._triggerAdEvent(this.cachedAds):this._setNoAdState(!0));if(this.req)return;n.numAds=n.numAds||1;var r,s,o=n.numAds,u=NeoGV&&NeoGV.sp?NeoGV.sp:"978500286",a="||"+u+"|STRM|",f=1,l=this.sectionId,c=NeoConfig.launchPVID+ +(new Date),h=NeoConfig.lang.substr(0,2),p=NeoConfig.lang==="zh-Hant-HK"||NeoConfig.lang==="zh-Hant-TW"?"zh_TW":h,d=["bk="+this._getBucketTrackingId(),"ve=2","ic=1","sz=3x3","nc=1","tt=1","se="+l,"im=63","cc=STRM","tk="+o,"ui=mail","sl="+p,"co="+NeoConfig.intl,"ri="+c,"pb="+a,"hs="+f];n.fbIds&&d.push("cf="+n.fbIds),i.features.enabled("AdBlockr")&&this._adBlockDetected()?r=i.settings.value("mbEndPointFb")+d.join("&"):r=NeoConfig.mbEndPoint+d.join("&"),s=e.bind(this._handleResponse,this,n),this.req=t.requestProxy(r,{on:{success:s,failure:s},method:"GET",service:"mb",serviceCredType:"loose",timeout:2e3}),this._responseStart=(new Date).getTime()},_triggerAdEvent:function(e){if(NeoGV.mbToggle&&this.sectionId===NeoConfig.mbSectionId)return;this.fire("adsReady",e),this.currentAds=e,this._setNoAdState(!1)},_setNoAdState:function(e){NeoGV=NeoGV||{},NeoGV.mbNoAdStates=NeoGV.mbNoAdStates||{},NeoGV.mbNoAdStates[this.sectionId]=e},_getBucketTrackingId:function(){return NeoConfig.mbExpColor?NeoConfig.mbExpColor.replace("#",""):NeoConfig.expBucketId},_handleResponse:function(t,n,r){var i,o=null;this.req=null,this._logResponseTime();switch(r&&r.status){case 200:try{o=e.JSON.parse(r.responseText)}catch(u){typeof globals!="undefined"&&globals.report?globals.report("caughterror:..-build-mail-ui-moneyball-mbModel:2",u,"TRY_CATCH",1,1,1):window.console&&console.log&&console.log("caughterror:..-build-mail-ui-moneyball-mbModel:2"),e.fire("util:ymstats",{name:"moneyball_parsejson_failure",tags:{intl:s}})}break;case-1:this.statMBAdCall("failure_timeout");break;default:this.statMBAdCall("failure_netfailure")}o&&(i=this.parseAdResponse(o)),i?this.isCached?this._setCachedAds(i):this._triggerAdEvent(i):(this.isCached||this._setNoAdState(!0),this.fire("noAdReturned"))},_logResponseTime:function(){var t;if(!this._responseStart)return;t=(new Date).getTime()-this._responseStart,e.fire("util:ymstats",{name:"moneyball_adcall_responsetime",unit:"ms",type:"duration",dataum:t,tags:{intl:s}})},_setCachedAds:function(e){var t=this;t.cachedAds=e,clearTimeout(t.ttlTimerId),t.ttlTimerId=setTimeout(function(){clearTimeout(t.ttlTimerId),t.cachedAds=null,t.execute({fetchOnly:!0})},n)}},e.augment(o,e.EventTarget),e.namespace("mail.ui"),e.mail.ui.mbModel=o},"1.0.0",{requires:["common-net-sessionmgr","common-utils","event-base","mail-common-utils-features"]});
YUI.add("mail-ui-mb-view",function(e){var t=e.common.Utils,n=function(){};n.extend=function(t){var r=function(){};return e.extend(r,this,t),r.extend=n.extend,r},n.prototype={statName:"",init:function(t){t=t||{},this.model=(new e.mail.ui.mbModel).init({sectionId:this.sectionId,isCached:this.hasCachedModel}),e.on(this._adEvent,e.bind(this._adEventHandler,this),this),this.model.on("adsReady",this.render,this),this.model.on("noAdReturned",this.stat,this,"noAdReturned"),this._bindClickHandler(this._getContainer()),this._bindEvents()},_adEventHandler:function(){this.model.execute(),this.stat("renderAttempt")},_getContainer:function(){var t,n;this.container&&!this.container.inDoc()&&(this.container.detachAll(),this.container.destroy(!0),this.container=null);if(this._allowMultiple){t=this._getRootNode();if(t){n="."+this.shellId;switch(this.rootNodePosition){case"after":this.container=t.next(n);break;case"before":this.container=t.previous(n);break;default:this.container=t.one(n)}}}else this.container=this.container||e.one("#"+this.shellId);return this.container?this.container:this._createContainer()},_createContainer:function(){var t=this._allowMultiple?"class":"id",n=this._getRootNode();if(n)return this.container=e.Node.create("<div "+t+'="'+this.shellId+'">'),this.rootNodePosition==="before"||this.rootNodePosition==="after"?n.insert(this.container,this.rootNodePosition):NeoConfig.rearrangeMb&&!n.hasClass("list-view-items")?n.insert(this.container,"after"):n.prepend(this.container),this._bindClickHandler(this.container),this.container},_getRootNode:function(){var t,n,r;if(!e.Lang.isArray(this.rootNodeSelector))return e.one(this.rootNodeSelector);for(n=0,r=this.rootNodeSelector.length;n<r;n++){t=e.one(this.rootNodeSelector[n]);if(t)return t}},_bindClickHandler:function(t){var n=this;if(!t)return;t.delegate("click",function(t){e.fire("mt:click",{action:NeoConfig.hasConv?"mb_ad_thrd":"mb_ad",append:{crtvid:t.currentTarget.getData("creative-id")}}),n.stat("clicked")},".adlink")},_bindEvents:function(){},render:function(t){if(!t||!t.length)return;var n=this._getAdHtml(t),r,i;r=this._getContainer();if(!r)return;i=e.Node.create("<div></div>"),i.setHTML(n),this._applyBucketLogic(i),r.setHTML(i.getHTML()),this.stat("renderSuccess"),this._postRender()},_getAdHtml:function(e){var t=e[0];return this.substituteWithConditionals(this.template,t)},substituteWithConditionals:function(n,r){return e.Object.each(n,function(e,i){if(i.indexOf("has_")===0){var s=i.replace(/^has_/,""),o=/_else$/;if(i.search(o)>=0){var u=i.replace(o,"");r[u]||(r[u]=t.substitute(n[i],r))}else r[i]=r[s]?t.substitute(n[i],r):""}}),t.substitute(n.base,r)},_applyBucketLogic:function(e){},_postRender:function(){},destroyAd:function(){this.container&&this.container.setHTML("")},show:function(){if(e.common.Utils.features.enabled("mbListNativeView")&&!NeoGV.mbToggle){var t=this.container.ancestor("#shellinner"),n=t.one("#pagetoolbar");this._disableToolbar(n)}this.container&&this.container.show()},hide:function(){this.container&&this.container.hide()},stat:function(t){if(this.statName){var n,r=(new Date).getHours();switch(t){case"renderAttempt":n="Called";break;case"renderSuccess":n="Success";break;case"noAdReturned":n="NoAd";break;case"clicked":n="Clicked"}n&&e.fire("util:ymstats",{name:this.statName,tags:{status:n,uh:r,bkt:NeoConfig.expBucketId}})}}},e.namespace("mail.ui"),e.mail.ui.mbView=n},"1.0.0",{requires:["node","mail-ui-mb-model","common-utils","node-event-delegate"]});
YUI.add("minty_module_list_view_ad_mb",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb={base:'<div class="mb-list-ad" title="" data-id="{{respCreativeId}}"> <a href="{{click_url}}" tabindex="-1" target="_blank" class="adlink" data-creative-id="{{creative_id}}"> <div class="flex"> <span class="title">{{ad_source}}</span> <span class="subj">{{ad_headline}}</span> </div> </a> <a href="{{sponsored_url}}" tabindex="-1" target="_blank" class="icon mb-icon adchoices mb-animate"></a> <a href="{{sponsored_url}}" tabindex="-1" target="_blank" class="sponsor adchoices"> {{str_srch_sponsored}} </a> <img class="mb-beacon" src="{{beacon}}" width="1" height="1" alt="" /> {{has_imp_tracking_url}} {{imp_tracking_pixels}}</div>',has_imp_tracking_url:'<img class="mb-beacon" src="{{imp_tracking_url}}" width="1" height="1" alt="" /> '}},"1.0.0");
YUI.add("minty_module_list_view_ad_mb_native",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb_native={base:'<div class="mb-list-ad mb-native-ad mb-with-img {{moneyball_list_bg}}" data-creative-id="{{creative_id}}"> <div class="fixed start" data-action="check"> <div id="mb-cbox-div" class="cbox" role="gridcell" data-action="check"> <input type="checkbox" role="checkbox" class="mb-checkbox" data-action="check"/> <span class="icon" aria-hidden="true" data-action="check"></span> </div> </div> <div class="flex"> <div class="title mb-table-wrap"> <div class="mb-table-inner"> <div class="mb-header"> <span class="name">{{ad_source}}</span> </div> <div class="mb-sub-header mb-sponsored" data-action="mb-redirect"> {{str_srch_sponsored}} <i class="icon icon-info mb-native-info"> </i> </div> </div> </div> <div class="subj mb-table-wrap"> <div class="mb-table-inner"> <div class="mb-header">{{ad_headline}}</div> <div class="mb-sub-header">{{ad_summary}}</div> </div> </div> </div> <i class="icon mb-icon mb-icon-right adchoices mb-sponsored" data-action="mb-redirect"></i> <img class="mb-beacon" src="{{beacon}}" width="1" height="1" alt="" /> {{has_imp_tracking_url}} {{imp_tracking_pixels}}</div>',has_imp_tracking_url:'<img class="mb-beacon" src="{{imp_tracking_url}}" width="1" height="1" alt="" /> '}},"1.0.0");
YUI.add("minty_module_list_view_ad_mb_native_vert_prev",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_mb_native_vert_prev={base:'<div class="mb-list-ad mb-native-ad mb-with-img {{moneyball_list_bg}}" data-creative-id="{{creative_id}}"> <div class="fixed start" data-action="check"> <div id="mb-cbox-div" class="cbox" role="gridcell" data-action="check"> <input type="checkbox" role="checkbox" class="mb-checkbox" data-action="check"/> <span class="icon" aria-hidden="true" data-action="check"></span> </div> </div> <div class="flex"> <div class="title mb-table-wrap"> <div class="mb-table-inner"> <div class="mb-sub-header mb-sponsored" data-action="mb-redirect"> {{ad_source}} <i class="icon icon-info mb-native-info"> </i> </div> </div> </div> <div class="subj mb-table-wrap"> <div class="mb-table-inner"> <div class="mb-header">{{ad_headline}}</div> <div class="mb-action-toolbar"> <a class="icon icon-small-search" data-action="ad-srch" title="{{str_native_search}}"> </a> <a class="icon icon-small-delete" data-action="ad-delete" title="{{str_native_delete}}"> </a> <a class="icon flag" data-action="ad-star"> </a> </div> <div class="mb-sub-header">{{ad_summary}}</div> </div> </div> </div> <i class="icon mb-icon mb-icon-right adchoices mb-sponsored hidden" data-action="mb-redirect"></i> <img class="mb-beacon" src="{{beacon}}" width="1" height="1" alt="" /> {{has_imp_tracking_url}}</div>',has_imp_tracking_url:'<img class="mb-beacon" src="{{imp_tracking_url}}" width="1" height="1" alt="" /> '}},"1.0.0");
YUI.add("mail-ui-mb-list-view",function(e){function n(){var e=NeoConfig.launchPVID.replace(/[^a-zA-Z]/g,""),t=e.length,n,r="";for(n=8;n<t;n++)n%2==0&&(r+=e.charAt(n));return r}var t=e.common.Utils;e.mail.ui.mbListView=e.mail.ui.mbView.extend({template:e.ui.Templates.minty_module_list_view_ad_mb,rootNodeSelector:NeoConfig.rearrangeMb?[".list-view-items-page > .list-view-item-date-label",".list-view-items"]:".list-view-items",shellId:NeoConfig.ccAb&&n()||"slot_MB",sectionId:NeoConfig.mbSectionId,_adEvent:"mbEvent:rotate",_adEventHandler:function(){NeoConfig.vertPane||this.model.execute()},hasCachedModel:!0,_bindEvents:function(){var n=this;e.on("mbEvent:rotate",function(){if(!NeoConfig.vertPane||t.features.enabled("mbListNativeViewPrvwPnLN1"))t.features.enabled("mbListNativeView")?n.stopAdRot||this.show():this.show()},this),e.on("mbEvent:hide",this.hide,this),e.on("mbEvent:previewpane_expand",function(){if(NeoConfig.vertPane&&!t.features.enabled("mbListNativeViewPrvwPnLN1")){if(t.features.enabled("mbListNativeView")&&!NeoGV.mbToggle){var e=this.container.ancestor("#shellinner"),n=e.one("#pagetoolbar");this._disableToolbar(n)}this.hide()}else this.show()},this),e.on("mbEvent:previewpane_close",function(){this.model.execute()},this)},_applyBucketLogic:function(e){var t=e.one(".mb-list-ad"),n,r,i;t&&NeoConfig.theme&&NeoConfig.theme.id==="purple"&&NeoConfig.mbExpColor&&t.setStyle("background-color",NeoConfig.mbExpColor)}})},"1.0.0",{requires:["mail-ui-mb-view","minty_module_list_view_ad_mb","minty_module_list_view_ad_mb_native","minty_module_list_view_ad_mb_native_vert_prev","mail-common-utils-features"]});
YUI.add("mail-ui-mb-search-list-view",function(A){A.mail.ui.mbSearchListView=A.mail.ui.mbView.extend({template:A.ui.Templates.minty_module_list_view_ad_mb,rootNodeSelector:["#msg-list.result .list-view-item","#msg-list-no-result .inner"],rootNodePosition:"before",sectionId:NeoConfig.mbSearchSectionId,statName:"mbBackfill:searchList",hasCachedModel:true,shellId:"mbSearchAd",_adEvent:"mbEvent:search"});},"1.0.0",{requires:["mail-ui-mb-view","minty_module_list_view_ad_mb"]});YUI.add("minty_module_list_view_ad_buckets_mb_list_img",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_buckets_mb_list_img={base:'<div class="mb-list-ad mb-list-img-ad mb-with-img {{moneyball_list_bg}}" data-id="{{respCreativeId}}"> <a href="{{click_url}}" target="_blank" class="adlink" data-creative-id="{{creative_id}}"> {{has_ad_img}} {{has_ad_img_else}} <div class="flex"> <div class="title mb-table-wrap"> <div class="mb-table-inner"> <div class="mb-header">{{ad_source}}</div> <div class="mb-sub-header mb-sponsored">{{str_srch_sponsored}}</div> </div> </div> <div class="subj mb-table-wrap"> <div class="mb-table-inner"> <div class="mb-header">{{ad_headline}}</div> <div class="mb-sub-header">{{ad_summary}}</div> </div> </div> </div> </a> <button class="mb-close"><i class="icon"></i></button> <i class="icon mb-icon mb-icon-right adchoices mb-sponsored hidden"></i> <img class="mb-beacon" src="{{beacon}}" width="1" height="1" alt="" /> {{has_imp_tracking_url}} {{imp_tracking_pixels}}</div>',has_ad_img:'<div class="mb-table-wrap mb-list-img-wrap"> <div class="mb-table-inner"> <img class="mb-list-img" src="{{ad_img}}" border="0"> </div> </div> ',has_ad_img_else:'<i class="icon mb-icon adchoices mb-sponsored mb-logo-left"></i> ',has_imp_tracking_url:'<img class="mb-beacon" src="{{imp_tracking_url}}" width="1" height="1" alt="" /> '}},"1.0.0");
YUI.add("mail-ui-mb-list-img-view",function(e){var t=!1,n=function(n){if(!n)return;n.delegate("click",function(r){r.preventDefault(),e.fire("util:ymstats",{name:"moneyball_list_img",tags:{action:"close_button"}}),e.use("mail-ui-ad-upsell-dialog",function(e){e.mail.ui.AdUpsellDialog.show(),n.remove(),NeoConfig.expBucketId==="CMUSGRMBI03"&&(t=!0)})},".mb-close"),this.lastContainer!==n&&(this.lastContainer&&this.lastContainer.detach("click"),this.sponsoredClickHandler=n.delegate("click",function(e){e.preventDefault(),window.open(strings.str_cfg_url_about_adchoices,"_blank")},".mb-sponsored"),this.lastContainer=n)};e.mail.ui.mbListImgView=e.mail.ui.mbListView.extend({template:e.ui.Templates.minty_module_list_view_ad_buckets_mb_list_img,statName:"mbListImgView",_postRender:function(){n(this.container)},_adEventHandler:function(){t||(this.model.execute(),this.stat("renderAttempt"))},_applyBucketLogic:function(t){if(!/CMUSGRMBI0[1-4]/.test(NeoConfig.expBucketId)){var n=t.one(".mb-close");n&&n.remove();var r=t.one(".mb-icon-right");r&&r.removeClass("hidden")}e.common.Utils.features.enabled("MBHover")&&t.one(".mb-list-ad").addClass("mb-list-hover")},_bindEvents:function(){e.mail.ui.mbListView.prototype._bindEvents.call(this),n(this.container)}})},"1.0.0",{requires:["mail-ui-mb-list-view","minty_module_list_view_ad_buckets_mb_list_img"]});
YUI.add("minty_module_ads_native_ad_forward",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_ads_native_ad_forward={base:"<p> <span></br><span></p><div>-------------------------------------------------- {{str_forward_message}} --------------------------------------------------</div>"}},"1.0.0");
YUI.add("minty_module_list_view_ad_buckets_mb_right_rail_save_ad",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_list_view_ad_buckets_mb_right_rail_save_ad={base:'<html> <body style="min-width: 580px;"> <style> @media screen and (max-width: 525px) { table[class=\'wrapper\']{ width:100% !important; } } </style> <table border="0" cellpadding="0" cellspacing="0" width="100%"> <tr> <td> <table border="0" cellpadding="0" cellspacing="0" class="wrapper" width="580" style="margin-left: auto; margin-right: auto;"> <tr> <td> <div style="font-family:HelveticaNeue, Helvetica Neue, Helvetica, Arial, Lucida Grande, sans-serif; width: 580px; margin-left:auto; margin-right:auto; margin-top:60px; margin-bottom:60px; border-width:1px; border-style:solid; border-color:#DBDBDB; position:relative" class="native_msg"> <a style="text-decoration:none; color:black; " href="{{click_url}}" target="_blank"> <p style="font-size:21px; font-weight:bold; margin-top:20px; margin-left:15px">{{ad_headline}}</p> <p style="font-size:16px; margin-top:4px; margin-bottom:20px; margin-left:15px">{{ad_summary}} </p> <img style="border-bottom:1px solid #DBDBDB; border-top:1px solid #DBDBDB; width:580px; cursor:pointer;" src="{{hq_image}}" alt="{{ad_headline}}"> <table style="width: 100%; height: 58px;" cellpadding="0" cellspacing="0"> <tr> <td valign=\'middle\' style="width: 82%;"> <p style="font-size:16px; font-weight:bold; margin-top:20px; margin-bottom:20px; margin-left:15px">{{ad_source}}</p> </td> <td valign=\'middle\' style="width: 18%;" id="AdlearnMore"> <a style="text-decoration:none; border-width:1px; border-style:solid; border-color:#00CD7A; padding:6px 9px; font-size:13px; color: #00CD7A;">{{str_mb_list_native_view_more}}</a> </td> </tr> </table> </a> </div> </td> </tr> </table> </td> </tr> </table> </body></html>'}},"1.0.0");
YUI.add("minty_module_offscreen_bin_native_ad_callout",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_offscreen_bin_native_ad_callout={base:"<div id=\"acBtntip\" class='convstooltip nativeadstooltip yui3-tooltips'> <div class='tooltip-arrow-top'> <div class='inner-arrow'></div> </div> <div class='modal tooltips-text native-ads-text' tabindex='0'> <h2 class='modal-hd native-ads-hd'> <span class='native-bd'>{{str_mb_list_native_what}}</span> </h2> <div class=\"modal-bd native-ads-bd\"> <div class=\"bd\"> <span class=\"native-text\">{{str_mb_list_native_hover}}</span> </div> </div> </div></div>"}},"1.0.0");
YUI.add("minty_module_offscreen_bin_native_ad_star",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_offscreen_bin_native_ad_star={base:"<div id=\"starTip\" class='convstooltip nativeadstooltip yui3-tooltips'> <div class='tooltip-arrow-bottom'> <div class='inner-arrow'></div> </div> <div class='modal tooltips-text star' tabindex='0'> <div class=\"modal-bd\"> <div class=\"bd\"> <span class=\"native-text\">{{str_native_star}}</span> </div> </div> </div></div>"}},"1.0.0");
YUI.add("_shared_module_offscreen_bin_notification_native_ad_star",function(A){A.namespace("ui.Templates");A.ui.Templates._shared_module_offscreen_bin_notification_native_ad_star={base:"<div>{{str_native_ad_open_nfhd}}</div>"};},"1.0.0");YUI.add("mail-ui-mail-helper",function(e){var t=function(){},n=e.common.Utils;t.prototype={saveEmailToInboxV3:function(t,n,r,i){var s,o,u,a,f;return a=new Promise(function(a,l){e.use("mail-services-compose","mail-models-draft","mail-controller-reply-processor",function(e){s=new e.Mail.Models.Draft,t.to=[e.mail.Controller.ReplyProcessor.getDefaultFromAddress()],s.folder.id=""+e.mail.model.DataStore.Folders.getByName("Inbox").folderInfo.index,s.setHeader(t),s.setBody(r,n),s.setRead(i),u=new e.Mail.Services.Compose(NeoConfig.V3MailboxId),o={suppressNotification:!0,suppressStat:!0},f=u.save(s,!1,o),f.then(function(t){a(t.result.messageV2.mid)},function(){l()})})}),a},saveEmailToInboxV2:function(t,n,r){var i,s,o,u;return u=new Promise(function(u,a){e.use("mail-controller-compose","mail-controller-sendconfirm","mail-controller-folders",function(e){o=e.mail.Controller.Compose.getDefaultFromAddress(),o.fail=!1,t.to=o,i=e.mail.model.SendModelFactory.createModel(),i.set("attachments",[]),i.set("contenttext",r),i.set("contenthtml",n),i.set("header",t),s={sdo:i,auto:null,silent:null,mid:null,cid:null,action:"save_to_inbox",actionCount:1,folderName:"Inbox",savingAnAd:!0},e.mail.Controller.SendConfirm.saveMessage(s,function(e,t){e&&t===0?u(e):t<=0&&a()})})}),u},saveEmailToInbox:function(e,t,r,i){var s=n.features.enabled("mbListNativeViewSaveV3"),o=s?this.saveEmailToInboxV3(e,t,r,i):this.saveEmailToInboxV2(e,t,r);return o}},e.namespace("mail.ui").mail=new t},"1.0.0",{requires:["common-utils"]});
YUI.add("_shared_module_ads_display",function(e){e.namespace("ui.Templates"),e.ui.Templates._shared_module_ads_display={base:'<div role="main" aria-label="{{str_msg-view_message_pane}}" class="messagepane basepane adspane"> <div class="message content"> <div aria-label="Message header" class="y-module message-header base-header"> <div class="base-msg-header"> <div aria-label="Message header" class="focusholder" tabindex="-1"></div> <h3 role="presentation"> <span class="subject" title="{{ad_subject}}">{{ad_subject}} </span> </h3> <div class="mb-sponsored-open"> {{str_srch_sponsored}} <i class="icon icon-info mb-native-info-open"> </i> </div> </div> </div> <div class="base-card"> <div class="base-card-body"> <div class="msg-body inner" role="presentation" tabindex="0"> </div> <div class="base-card-clear"></div> </div> <div class="base-card-footer"> <div class="card-footer"></div> </div> </div> </div></div>'}},"1.0.0");
YUI.add("mail-ui-ad-toolbar",function(e){function n(e){var n=e.node||e.item,r=e.root,i=e.action,s;return!n||!r?!1:(n.get("tagName")==="A"&&(n=n.get("parentNode")),n.hasClass(t)?!1:i==="save_ad"&&r.hasClass("adSaved")?!1:!0)}function r(e){var t=this;r.superclass.constructor.call(t,e)}var t="disabled";e.extend(r,e.mail.ui.Toolbar,{buttonEnabled:n}),e.namespace("mail.ui.ad").Toolbar=r},"1.0.0",{requires:["common-ui-toolbar-base"]});
YUI.add("minty_module_toolbar_fragments_native_ad_group_rollup",function(e){e.namespace("ui.Templates"),e.ui.Templates.minty_module_toolbar_fragments_native_ad_group_rollup={base:'<div id="pagetoolbar" class="{{msgliststate}} threadtoolbar adspanetoolbar"> <button id="btn-delete" class="btn multimsg" aria-label="" title="{{str_delete_conv_attr}}" data-action="closemsg" tabindex="-1"> <i class="icon-delete"></i><span class="icon-text">{{str_delete}}</span> </button> <button id="btn-forward" class="btn onemsg forward" aria-label="" title="{{str_forward}} [{{str_menu_accel_shift_f}}]" data-action="ad-forward" tabindex="-1"> <i class="icon-forward"></i><span class="icon-text">{{str_forward}}</span> </button> <button id="native-ad-save" class="btn onemsg download" aria-label="" title="{{str_save_this_ad_to_inbox}}" data-action="save_ad" tabindex="-1"> <i class="icon-download"></i><span class="icon-text save-ib">{{str_save_ad_to_inbox}}</span> <span class="icon-text saved invisible">{{str_saved_ad_to_inbox}}</span> </button> <button id="btn-closemsg" class="btn btn-absolute btn-close-msg" aria-label="{{str_close}}" title="{{str_close}}" data-action="closemsg" tabindex="-1"> <i></i> </button></div>'}},"1.0.0");
YUI.add("mail-ui-nativeads-read",function(e){var t=function(n){function s(t){var r=this,i="70,27,70+shift,46,83+shift";if(r.rendered)return;var s=e.ui.Templates._shared_module_ads_display,u;r.container=t,u=r.substituteAd(n,s),r.container.append(u),r.container.one(".msg-body").set("innerHTML",n.content),r.setToolbars(),r.attachHandlers(r.container),r.set("charCodes",i),r.rendered=!0,r.on("closeChange",o)}function o(t){var n=this;t.newVal===1&&n.eventsHandler&&e.detach(n.eventsHandler)}function u(t){var n=this,r=n.container.one("#AdlearnMore");r&&(n.eventsHandler=r.on("click",function(){e.fire("util:ymstats",{name:"mb_list_native_ads_learnMore",tags:{bkt:NeoConfig.expBucketId}})}))}function a(e,t){var n=this,i={ad_from:e.header.from.email,ad_subject:e.header.subject,ad_to:e.header.to,ad_date:r.dateFormatter(new Date,strings.str_tog_dateformat_read_noyear_today)};return r.substitute(t.base,i,null,null,strings)}function f(){var t=this,n=e.ui.Templates.minty_module_toolbar_fragments_native_ad_group_rollup,i=r.substitute,s=i(n.base,null,null,null,null,strings),o=t.createToolbar(s);t.set("contentToolbar",o)}function l(t){var n=this,r;return r=new e.mail.ui.ad.Toolbar({template:t}),r.on("itemSelected",n.handleToolbarSelection,n),r}function c(){var t=this,n,r=e.contacts.ui.ContactsView,s,o,u;s=t.tab.prevTabId;if(s){o=i.getTabById(s);if(o&&o.widgetType==="search"){i.switchToTab(o),u=o.elContent.one("#msg-list"),u!==null&&e.UA.safari>0&&(u.addClass("toggle-to-force-repaint"),setTimeout(function(){u.removeClass("toggle-to-force-repaint")},1));return}n=r&&s===r.tab.get("id");if(n){i.switchToTab(r.tab);return}}i.switchToTab(i.tabs[0])}function h(t){var n=this,r=t?t.dataAction||t.currentTarget._node.getAttribute("data-action"):0;switch(r){case"save_ad":e.fire("nativeAd:save");break;case"ad-forward":e.fire("nativeAd:forward");break;case"closemsg":n.handlePaneClose()}}function p(t){var n=this,r=t.keyCode;switch(r){case 70:return e.fire("nativeAd:forward"),!0;case 83:return e.fire("nativeAd:save"),!0;case 27:case 46:case 8:return n.handlePaneClose(),!0;default:}}function d(){var t=this;e.fire("nativeAd:close"),e.fire("util:ymstats",{name:"mb_list_native_ads_closed",tags:{bkt:NeoConfig.expBucketId}}),NeoConfig.multitask&&!NeoConfig.tabs?(t.handleTabSwitch(),NeoConfig.backButtonFull&&e.fire("removePage")):t.set("close",1)}var r=e.common.Utils,i=e.mail.Tabs;this.rendered=!1,t.superclass.constructor.call(this),e.mix(this,{NAME:"NativeAdsRead",render:s,setToolbars:f,createToolbar:l,handleToolbarSelection:h,handleTabSwitch:c,handlePaneClose:d,onKeyDown:p,substituteAd:a,attachHandlers:u,detachHandlers:o},!0)};e.extend(t,e.mail.ui.BaseWidget),e.namespace("Y.mail.ui"),e.mail.ui.NativeAdsRead=t},"1.0.0",{requires:["mail-ui-basewidget","_shared_module_ads_display","common-ui-toolbar-base","mail-ui-ad-toolbar","minty_module_toolbar_fragments_native_ad_group_rollup"]});
YUI.add("mail-ui-mb-list-native-view",function(e){var t=e.common.Utils,n=e.mail.ui.mail,r=e.common.Utils.settings,i,s,o,u,a,f;e.mail.ui.mbListNativeView=e.mail.ui.mbListView.extend({template:e.ui.Templates.minty_module_list_view_ad_mb_native,nativeTemplates:["minty_module_list_view_ad_buckets_native_email_ad_match","minty_module_list_view_ad_buckets_native_email_ad_dish"],statName:"mbListNativeView",_postRender:function(){this._bindUiEvents(this.container,this),this._detach(),this._bindAdClick(this.container)},_adEventHandler:function(){var e=this;e.stopAdRot||(this.model.execute(),this.stat("renderAttempt"))},_bindAdClick:function(e){e!==null&&(this.readHandler=e.delegate("click",function(e){this._clickHandlers(e)},".mb-native-ad",this))},_fireClickBeacon:function(){var e=new Image,t;a.model.currentAds[0]?t=a.model.currentAds[0].click_url:t=NeoConfig.moneyball.click_url,e.src=t},_getAdHtml:function(n){var r=n[0];return t.features.enabled("mbListNativeView")&&t.features.enabled("mbListNativeViewPrvwPnLN1")&&(this.template=NeoConfig.previewPanePref===1?e.ui.Templates.minty_module_list_view_ad_mb_native_vert_prev:e.ui.Templates.minty_module_list_view_ad_mb_native),this.substituteWithConditionals(this.template,r)},_enableToolbar:function(e){e.addClass("mbAdSelected"),e.hasClass("hasnomsg")&&e.replaceClass("hasnomsg","hasonemsg")},_disableToolbar:function(t){var n=e.mail.Tabs.getActiveTab().get("widget").type;if(n==="convlist"||n==="messagelist")t.removeClass("mbAdSelected"),t.hasClass("hasonemsg")&&(t.hasClass("msgChecked")||t.replaceClass("hasonemsg","hasnomsg"))},_removeAd:function(){var e=this.container;e.remove(),u.removeClass("mbAdSelected"),u.hasClass("hasonemsg")&&(u.hasClass("msgChecked")||u.replaceClass("hasonemsg","hasnomsg")),NeoGV.mbToggle=!0;return},_bindEvents:function(){var n=this;e.mail.ui.mbListView.prototype._bindEvents.call(this),this._bindUiEvents(this.container,this),this._bindAdClick(this.container),e.on("nativeAd:select",function(){this._selectNativeAd()},this),e.on("nativeAd:unselect",function(){this._unselectNativeAd()},this),e.on("nativeAd:save",function(){var t=this._getNativeAdMailTemplate(!1);e.fire("util:ymstats",{name:"mb_list_native_ads_save_to_inbox_clicked",tags:{status:"clicked",bkt:NeoConfig.expBucketId}}),t.then(function(e){n._emailAd(f,e,!1,!0)},function(e){})},this),e.on("nativeAd:forward",function(){e.fire("util:ymstats",{name:"mb_list_native_forward_clicked",tags:{bkt:NeoConfig.expBucketId}}),this._forwardNativeAd()},this),e.on("stopAdRotation",function(){this._stopAdRotation()},this),e.on("nativeAd:close",function(){n.frwdClicked=!1,n.isPrevPaneAdsPane=!0}),t.features.enabled("mbListNativeView")&&e.before("tabChange",function(t){var r=e.mail.Tabs.getActiveTab().widget;if(r.type==="adspane")n.isPrevPaneAdsPane=!0;else if(r.type!=="adspane"&&!n.frwdClicked||r.fid!==n.srcFid||r.type!=="convlist"&&r.type!=="messagelist")n._enableAdRotation(),n.isPrevPaneAdsPane=!1}),e.after("tabChange",function(r){if(t.features.enabled("mbListNativeView")){var i=e.mail.Tabs.getActiveTab().widget;n.isPrevPaneAdsPane&&i.fid===n.srcFid&&(i.type==="convlist"||i.type==="messagelist")&&(n._enableAdRotation(),n.isPrevPaneAdsPane=!1)}})},_clickHandlers:function(e){var t=this,n,r;r=t._getNativeAdMailTemplate(!0),r.then(function(n){t._handleClickDataAction(n,e)},function(e){})},_getNativeAdMailTemplate:function(n){var r=t.settings.value("mbNativeTestCrtvMap"),i=e.ui.Templates.minty_module_list_view_ad_buckets_mb_right_rail_save_ad,s,o,u=this,a;return new Promise(function(t,l){n?s=u.model.currentAds[0]?u.model.currentAds[0].creative_id:NeoConfig.moneyball.creative_id:s=f.creative_id,r.hasOwnProperty(s)?(a="minty_module_list_view_ad_buckets_native_email_ad_"+r[s],e.use(a,function(e){o=e.ui.Templates[a]||i,t(o)})):t(i)})},_forwardNativeAd:function(){var n=this,r=e.ui.Templates.minty_module_ads_native_ad_forward,i=n._getNativeAdMailTemplate(!1);i.then(function(i){n.frwdClicked=!0,e.fire("newMessage",{cbfn:function(n,s){var o=e.mail.Core.feature("composev3").isOn(),u=o?{}:n.get("header"),a;return a=t.substitute(r.base,null,null,null,strings),u.subject=f.ad_headline,a+=t.substitute(i.base,f,null,null,strings),o?(n.setHeader(u),n.setBody(null,a)):(n.set("header",u),n.set("content",a)),!0}})},function(e){})},_handleClicks:function(e,t){a.keyBounceTimer||(a._handleClickDataAction(e,t),a.keyBounceTimer=setTimeout(function(){a.keyBounceTimer=null},1500))},_selectNativeAd:function(){var e=this.container.one(".mb-checkbox");e.get("checked")?this._unselectNativeAd():(i=this.container.ancestor("#shellinner"),u=i.one("#pagetoolbar"),e.set("checked","true"),this._enableToolbar(u))},_unselectNativeAd:function(){var e=this.container.one(".mb-checkbox");i=this.container.ancestor("#shellinner"),u=i.one("#pagetoolbar"),e.set("checked",""),this._disableToolbar(u)},_handleClickDataAction:function(t,n){var r=n.target.getAttribute("data-action"),i=e.ui.Templates._shared_module_offscreen_bin_notification_native_ad_star,s,u,a;f=this.model.currentAds[0]||NeoConfig.moneyball;switch(r){case"check":n.stopPropagation(),s=n.currentTarget.ancestor("#shellinner"),u=s.one("#pagetoolbar"),a=n.currentTarget.one(".mb-checkbox"),n.target.hasClass("mb-checkbox")?a.get("checked")?this._enableToolbar(u):this._disableToolbar(u):a.get("checked")?(a.set("checked",""),this._disableToolbar(u)):(a.set("checked","true"),this._enableToolbar(u));break;case"ad-srch":n.preventDefault(),this.model.currentAds[0]?e.fire("fireSearch",this.model.currentAds[0].ad_source):e.fire("fireSearch",NeoConfig.moneyball.ad_source),e.fire("util:ymstats",{name:"mb_list_native_ads_search_clicked",tags:{bkt:NeoConfig.expBucketId}});break;case"ad-delete":n.preventDefault(),s=this.container.ancestor("#shellinner"),o=s.one("#slot_MB"),s.one("#slot_MB")&&this._removeAd(),e.fire("util:ymstats",{name:"mb_list_native_ads_delete_clicked",tags:{bkt:NeoConfig.expBucketId}});break;case"ad-star":n.preventDefault(),this._fireClickBeacon(),this._emailAd(this.model.currentAds
[0]||NeoConfig.moneyball,t,!0,!1),e.fire("util:ymstats",{name:"mb_list_native_ads_star_clicked",tags:{bkt:NeoConfig.expBucketId}});break;case"mb-redirect":n.preventDefault(),window.open(strings.str_cfg_url_about_adchoices,"_blank");break;default:n.preventDefault(),this._fireClickBeacon(),this._openAd(this.model.currentAds[0]||NeoConfig.moneyball,t),e.fire("util:ymstats",{name:"mb_list_native_ads_open_clicked",tags:{bkt:NeoConfig.expBucketId}})}},_openAd:function(n,i){if(n){e.fire("stopAdRotation");var s,o=t.settings.value("mbAssetMap")||{},u,f=n.ad_summary||"",l={},c,h=e.mail.Tabs;t.features.enabled("mbAssetExchange")&&o.hasOwnProperty(n.creative_id)&&(u=o[n.creative_id],n.hq_image=u.imgUrl||n.ad_img,n.click_url=u.clickUrl||n.click_url),s=t.substitute(i.base,n,null,null,strings),e.use("mail-ui-nativeads-read",function(e){var t={subject:n.ad_headline,from:{email:r.value("mbNativeSender"),name:n.ad_source},to:"me"},i={fid:"Inbox",tabKey:"mid",header:t,content:s},o=new e.mail.ui.NativeAdsRead(i),u={p_label:t.from.name,s_label:t.subject,s_labelDir:"",widget:o,widgetType:"adspane",isRemovable:!0,forcePane:0},f;o.type="adspane",o.set("title",u.s_label),c=e.mail.ui.Workspace.addContentWidget(u),f=o.container,f.delegate("hover",e.bind(a._sponsoredOver,null,"readpane"),a._sponsoredOut,".mb-sponsored-open")})}},_emailAd:function(i,s,o,u){if(i){var f={subject:i.ad_headline,from:{email:r.value("mbNativeSender"),name:i.ad_source},to:null,cc:[],bcc:[],replyto:{email:r.value("mbNativeSender"),name:i.ad_source}},l=t.substitute(s.base,i,null,null,strings),c=i.ad_summary||"",h;h=n.saveEmailToInbox(f,l,c,u),h.then(function(n){a._changeTbState(),o&&a._starNativeAd(n),!t.features.enabled("mbListNativeViewSaveV3")&&u&&a._setEmailRead(n)},function(){e.fire("util:ymstats",{name:"mb_list_native_ads_save_to_inbox_failure",tags:{status:"failure",bkt:NeoConfig.expBucketId}})})}},_changeTbState:function(){var t=e.one(".adspanetoolbar"),n,r;t&&(n=t.one(".save-ib"),r=t.one(".saved"),n&&(t.addClass("adSaved"),n.addClass("hidden"),r.removeClass("invisible")))},_starNativeAd:function(n){var r=e.ui.Templates._shared_module_offscreen_bin_notification_native_ad_star,i={fid:"Inbox",destinationFid:"Inbox",mid:[n],setFlags:{flagged:1}},s;s=new Promise(function(t,n){e.mail.Controller.Messages.flag(i,function(e,r,i){i==="success"?t():n()})}),s.then(function(){var i=t.substitute(r.base,null,null,null,null,strings);e.common.ui.NotificationV2.notify(i,{type:"info",close:"true",duration:5e3}),e.mail.FoldersView.checkMail()},function(){e.fire("util:ymstats",{name:"mb_list_native_ads_star_failure",tags:{status:"failure",bkt:NeoConfig.expBucketId}})})},_setEmailRead:function(t){var n={fid:"Inbox",mid:[t],setFlags:{read:1}},r;e.mail.Controller.Messages.flag(n,function(t,n,r){r!=="success"&&e.fire("util:ymstats",{name:"mb_list_native_ads_mark_as_read_failure",tags:{status:"failure",bkt:NeoConfig.expBucketId}})})},_detach:function(){this.readHandler&&this.readHandler.detach()},_bindUiEvents:function(t,n){var r=e.mail.Tabs.getActiveTab().get("widget").type;if(!t)return;(r==="convlist"||r==="messagelist")&&!NeoGV.mbToggle&&(i=t.ancestor("#shellinner"),s=i.one("#pagetoolbar #btn-delete"),o=i.one("#slot_MB"),u=i.one("#pagetoolbar"),a=this,a.srcFid="",s.on("click",function(){var t=i.one(".mb-checkbox");o=i.one("#slot_MB"),i.one("#slot_MB")&&t.get("checked")&&a._removeAd(),e.fire("util:ymstats",{name:"mb_list_native_ads_delete_clicked",tags:{bkt:NeoConfig.expBucketId}})}),this.lastContainer!==t&&(this.lastContainer&&this.lastContainer.detach("click"),this.sponsoredHoverHandler=t.delegate("hover",e.bind(a._sponsoredOver,null,"msgList"),this._sponsoredOut,".mb-native-info"),this.starHoverHandler=t.delegate("hover",this._starOver,this._starOut,".flag"),this.lastContainer=t))},_sponsoredOver:function(n,r){var i=e.ui.Templates.minty_module_offscreen_bin_native_ad_callout,s=r.currentTarget;r.preventDefault(),e.fire("onboard:tip",{node:s,template:t.ezSub(i.base,{},i),fn:function(){e.fire("onboard:tipclose")},offset:[s.get("offsetWidth")-310,35]})},_sponsoredOut:function(){var t=e.ui.Templates.minty_module_offscreen_bin_native_ad_callout,n=this;e.fire("onboard:tipclose")},_starOver:function(n){n.preventDefault();var r=e.ui.Templates.minty_module_offscreen_bin_native_ad_star,i=this;e.fire("onboard:tip",{node:i,template:t.ezSub(r.base,{},r),offset:[-83,-36]}),i.on("click",function(){e.fire("onboard:tipclose")})},_starOut:function(){e.fire("onboard:tipclose")},_stopAdRotation:function(){this.stopAdRot=!0,this.srcFid=e.mail.Tabs.getActiveTab().widget.fid},_enableAdRotation:function(){this.stopAdRot=!1}})},"1.0.0",{requires:["mail-ui-mb-list-view","minty_module_list_view_ad_mb_native","minty_module_ads_native_ad_forward","minty_module_list_view_ad_buckets_mb_right_rail_save_ad","minty_module_offscreen_bin_native_ad_callout","minty_module_offscreen_bin_native_ad_star","mail-ui-onboarding","mail-common-utils-features","_shared_module_offscreen_bin_notification_native_ad_star","mail-ui-mail-helper","common-ui-tabs-base","mail-ui-nativeads-read"]});
YUI.add("mail-ui-mb-controller",function(C){var B=function(){},A=C.common.Utils;B.prototype={init:function(){if(this.isMoneyballEnabled()){this._initViews();}return this;},_initViews:function(){if(NeoConfig.mbSectionId&&(!NeoConfig.AffiliateAds||(NeoConfig.AffiliateAds&&!this.isAffiliateDaypartingEligible()||A.features.enabled("mbBackfill")))){if(A.features.enabled("mbListViewWithoutImage")){new C.mail.ui.mbListView().init();}else{if(A.features.enabled("mbListNativeView")){new C.mail.ui.mbListNativeView().init();}else{new C.mail.ui.mbListImgView().init();}}}if(NeoConfig.mbSearchSectionId){new C.mail.ui.mbSearchListView().init();}if(NeoConfig.enableTL1Fallback&&NeoConfig.mbLeftRailSectionId&&NeoConfig.expBucketId!=="CMUSGRMBI04"&&NeoConfig.expBucketId!=="CMUSGRMBI05"){C.use("mail-ui-mb-rec-view",function(D){new D.mail.ui.mbRecView().init();});}if(NeoConfig.mbBackfillRightRail&&NeoConfig.mbRightRailSectionId){if(/^CMUSGRRRC\d{2}$/.test(NeoConfig.expBucketId)){C.use("mail-ui-mb-right-rail-carousel-view",function(D){new D.mail.ui.mbRightRailCarouselView().init();});}else{C.use("mail-ui-mb-right-rail-view",function(D){new D.mail.ui.mbRightRailView().init();});}}if(NeoConfig.mbOnMsgRead&&NeoConfig.mbMsgReadSectionId){C.use("mail-ui-mb-msg-read-view",function(D){new D.mail.ui.mbMsgReadView().init();});}},isMoneyballEnabled:function(){return(NeoConfig.moneyballEnabled&&NeoConfig.hasAds);},isAffiliateDaypartingEligible:function(){var D=new Date().getHours();if(!A.features.enabled("affiliateAdsDayParting")||(A.features.enabled("affiliateAdsDayParting")&&A.settings.value("affiliate_dayparting_hours").indexOf(D)!==-1)){return true;}return false;}};C.namespace("mail.ui");C.mail.ui.mbController=B;},"1.0.0",{requires:["mail-ui-mb-list-view","mail-ui-mb-search-list-view","mail-ui-mb-list-img-view","mail-common-utils-features","mail-ui-mb-list-native-view"]});